import{a as Q}from"./chunk-QTV7RGYS.js";import{a as $,b as W,c as J}from"./chunk-URGMYOJI.js";import{a as K}from"./chunk-KYSSZNVX.js";import"./chunk-RVEWURZZ.js";import"./chunk-B5AWRWMY.js";import{c as T}from"./chunk-LWYV2P65.js";import{a as z,b as P,c as B,d as G,f as H,i as D,j as U,n as Y,p as q}from"./chunk-PYKOMTOC.js";import{E as N}from"./chunk-IWNF2QU4.js";import{c as k,d as R,f as w,g as y,h as A}from"./chunk-XAZLOLJU.js";import{Aa as x,B as E,Ha as r,I as g,Ia as I,J as u,K as C,L as S,Ra as O,T as j,V as s,W as c,da as b,fa as p,ka as f,la as L,na as M,oa as V,pa as n,pb as F,qa as o,ra as d,va as h,wa as v,xa as l}from"./chunk-XL3YBMFF.js";import"./chunk-SIAVTO45.js";function ee(i,m){if(i&1){let e=h();n(0,"button",28),v("click",function(){let a=g(e).$implicit,_=l(4);return u(_.accesoRapido(a))}),d(1,"img",29),o()}if(i&2){let e=m.$implicit;x("title",e.tipo),s(),x("src",e.imagePath,j),x("alt",e.tipo)}}function ie(i,m){if(i&1&&M(0,ee,2,3,"button",27,L),i&2){let e=l(3);V(e.usuariosRapidos)}}function te(i,m){if(i&1){let e=h();d(0,"div",3),n(1,"div",4)(2,"div",5)(3,"h1",6),r(4,"Iniciar sesi\xF3n"),o()(),n(5,"div",7)(6,"h5",8),r(7,"Por favor, ingrese sus credenciales para iniciar sesi\xF3n en el sistema:"),o(),n(8,"form",9),v("ngSubmit",function(){g(e);let a=l(2);return u(a.iniciarSesion())}),n(9,"div",10)(10,"div",11)(11,"div",12)(12,"span",13),C(),n(13,"svg",14),d(14,"path",15),o()(),S(),d(15,"input",16),o()(),n(16,"div",17)(17,"div",12)(18,"span",13),C(),n(19,"svg",18),d(20,"path",19),o()(),S(),d(21,"input",20),o()(),n(22,"div",21)(23,"button",22),r(24,"Iniciar sesi\xF3n"),o()()()()()(),n(25,"div",23)(26,"div",24)(27,"h4"),r(28,"Accesos r\xE1pidos"),o()(),n(29,"div",25)(30,"div",26),b(31,ie,2,0),o()()()}if(i&2){let e=l(2);s(8),p("formGroup",e.formLogin),s(15),p("disabled",e.formLogin.invalid),s(8),f(31,e.imagenesBotonesObtenidas==!0?31:-1)}}function ne(i,m){if(i&1){let e=h();n(0,"div",30)(1,"h1",6),r(2,"Usted ya est\xE1 logeado"),o(),n(3,"h1")(4,"strong"),r(5),o()(),n(6,"button",31),v("click",function(){g(e);let a=l(2);return u(a.authService.LogOut())}),r(7," Cerrar sesi\xF3n "),o()()}if(i&2){let e=l(2);s(5),I(e.authService.auth.currentUser.email)}}function oe(i,m){if(i&1&&(n(0,"div",2),b(1,te,32,3)(2,ne,8,1),o()),i&2){let e=l();p("@arribaHaciaAbajo",e.estadoAnimacion),s(),f(1,e.authService.auth.currentUser?2:1)}}var ve=(()=>{class i{constructor(e,t,a,_,X,Z){this.fb=e,this.authService=t,this.router=a,this.storageService=_,this.spinner=X,this.logsService=Z,this.estadoAnimacion="arriba",this.swal=new N(this.router),this.usuariosRapidos=[{tipo:"Paciente",mail:"pacienteariadna@gmail.com",password:"123456",imagePath:"pacientes/pacienteariadna@gmail.com/1"},{tipo:"Paciente",mail:"pacientemaria@hotmail.com",password:"123456",imagePath:"pacientes/pacientemaria@hotmail.com/1"},{tipo:"Paciente",mail:"pacienteantonio@gmail.com",password:"123456",imagePath:"pacientes/pacienteantonio@gmail.com/1"},{tipo:"Especialista",mail:"especialistagutierrez@gmail.com",password:"123456",imagePath:"especialistas/especialistagutierrez@gmail.com"},{tipo:"Especialista",mail:"doctoraruggero@clinica.com",password:"123456",imagePath:"especialistas/doctoraruggero@clinica.com"},{tipo:"Admin",mail:"administrador@gmail.com",password:"123456",imagePath:"administradores/administrador@gmail.com"}],this.imagenesBotonesObtenidas=!1,this.claseSpinner="spinner-desactivado"}ngOnInit(){setTimeout(()=>{this.estadoAnimacion="abajo"},500),this.spinner.show(),this.formLogin=this.fb.group({user:["",P.required],password:["",P.required]});for(let e=0;e<this.usuariosRapidos.length;e++)this.storageService.obtenerImagen(this.usuariosRapidos[e].imagePath).then(t=>{this.usuariosRapidos[e].imagePath=t,console.log(this.usuariosRapidos[e].imagePath),e==this.usuariosRapidos.length-1&&(this.imagenesBotonesObtenidas=!0)});this.spinner.hide()}mostrarSpinner(){this.claseSpinner="spinner-activado"}ocultarSpinner(){this.claseSpinner="spinner-desactivado"}iniciarSesion(){this.spinner.show(),this.formLogin.valid&&this.authService.logIn(this.user?.value,this.password?.value).then(e=>{if(e.user.email=="administrador@gmail.com"||e.user.email=="pacienteariadna@gmail.com"||e.user.email=="pacientemaria@hotmail.com"||e.user.email=="pacienteantonio@gmail.com"||e.user.email=="doctoraruggero@clinica.com"||e.user.email=="pacientecesar@argentina.com"||e.user.email=="daniel.rodriguez.rotelli@gmail.com"||e.user.email=="especialistagutierrez@gmail.com"){console.log(e);let t={email:this.user?.value};this.swal.mostrarMensajeExitoYNavegar("Sesi\xF3n iniciada","Ser\xE1s redirigido a la p\xE1gina de bienvenida","bienvenida"),this.spinner.hide()}else if(e.user.emailVerified==!1)this.authService.LogOut(),this.swal.mostrarMensajeWarning("Mail no verificado","Para iniciar sesi\xF3n con esta cuenta, debe verificar su email. Por favor revise su bandeja de entrada."),this.spinner.hide();else{console.log(e);let t={email:this.user?.value};this.logsService.guardarLog(t),this.swal.mostrarMensajeExitoYNavegar("Sesi\xF3n iniciada","Ser\xE1s redirigido a la p\xE1gina de bienvenida","bienvenida"),this.spinner.hide()}}).catch(e=>{console.log(e),this.swal.mostrarMensajeError("Error",this.authService.traducirErrorCode(e.code)),this.spinner.hide()})}accesoRapido(e){let t,a;t=e.mail,a=e.password,this.formLogin.patchValue({user:t,password:a})}get user(){return this.formLogin.get("user")}get password(){return this.formLogin.get("password")}static{this.\u0275fac=function(t){return new(t||i)(c(Y),c(T),c(F),c(K),c($),c(Q))}}static{this.\u0275cmp=E({type:i,selectors:[["app-login"]],standalone:!0,features:[O],decls:4,vars:2,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#edf2f4","type","ball-scale-multiple",3,"fullScreen"],[2,"color","#edf2f4","font-family","Roboto"],[1,"h-100","d-flex","flex-column","flex-md-row"],[1,"col-0","col-md-3"],[1,"col-12","col-md-6"],[1,"py-5","text-center"],[1,"display-1"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"mt-4"],[1,"col-12",3,"ngSubmit","formGroup"],[1,"d-flex","col-12","flex-column","align-items-center"],[1,"col-md-6","col-12","mt-4"],[1,"input-group","mb-3","input-group-lg"],["id","basic-addon1",1,"input-group-text"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-fill"],["d","M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"],["type","text","placeholder","Correo electr\xF3nico","aria-describedby","basic-addon1","id","user","formControlName","user",1,"form-control"],[1,"col-md-6","col-12"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-lock-fill"],["d","M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2m3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"],["type","password","placeholder","Contrase\xF1a","aria-describedby","basic-addon1","id","password","formControlName","password",1,"form-control"],[1,"d-grid","gap-2","col-md-6","col-12","mx-auto"],["type","submit","id","btn-login",1,"btn","btn-lg",3,"disabled"],[1,"col-12","col-md-3","d-flex","flex-column","justify-content-end","accesos-rapidos-container"],[1,"card","m-1","text-center"],[1,"d-flex","justify-content-center","align-items-end"],[1,"d-flex","flex-row","justify-content-around","w-100"],["type","button","data-bs-toggle","tooltip","data-bs-placement","top",1,"btn-acceso-rapido",3,"title"],["type","button","data-bs-toggle","tooltip","data-bs-placement","top",1,"btn-acceso-rapido",3,"click","title"],[3,"src","alt"],[1,"py-5","text-center","mx-auto"],[1,"btn-logout","btn","w-50","mx-auto","mt-4","btn-lg",3,"click"]],template:function(t,a){t&1&&(n(0,"ngx-spinner",0)(1,"p",1),r(2,"Cargando..."),o()(),b(3,oe,3,2,"div",2)),t&2&&(p("fullScreen",!0),s(3),f(3,a.authService.firebaseInicializado?3:-1))},dependencies:[q,H,z,B,G,D,U,J,W],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;background:#a9bcd0;background:linear-gradient(90deg,#a9bcd0,#d8dbe2 35%,#58a4b0)}#btn-login[_ngcontent-%COMP%]{--bs-btn-color: #ffffff;--bs-btn-bg: #1ca1b6;--bs-btn-hover-color: #ffffff;--bs-btn-hover-bg: #188c9e;--bs-btn-active-color: #ffffff;--bs-btn-active-bg: #157786;--bs-btn-active-border-color: #157786;--bs-btn-disabled-border-color: #157786;--bs-btn-disabled-color: #ffffff;--bs-btn-disabled-bg: #157786}.botones-grupo[_ngcontent-%COMP%]{--bs-btn-color: #1f1f1f;--bs-btn-bg: #61d8eb;--bs-btn-border-color: #188c9e;--bs-btn-hover-color: #1f1f1f;--bs-btn-hover-bg: rgb(70, 176, 192);--bs-btn-hover-border: #188c9e;--bs-btn-active-color: #1f1f1f;--bs-btn-active-bg: rgb(44, 149, 165);--bs-btn-active-border-color: #188c9e}.ng-invalid[_ngcontent-%COMP%]:not(form){border-right:5px solid hsl(0,100%,62%)}.accesos-rapidos-container[_ngcontent-%COMP%]{justify-content:center;align-items:center;position:absolute;bottom:20px;left:50%;transform:translate(-50%);display:flex;gap:20px;margin:0 10px}.accesos-rapidos-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:transparent;border:none;box-shadow:none;margin-bottom:10px}.btn-acceso-rapido[_ngcontent-%COMP%]{flex:0 0 100px;width:100px;height:100px;padding:0;border-radius:8px;display:flex;justify-content:center;align-items:center;margin:2px;background-color:gray}.btn-acceso-rapido[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;height:90px;object-fit:cover;border-radius:6px}"],data:{animation:[k("arribaHaciaAbajo",[y("arriba",w({transform:"translateY(-2000px)",opacity:.8,overflow:"hidden"})),y("abajo",w({transform:"translateY(0)",opacity:1})),A("arriba => abajo",[R("2s")])])]}})}}return i})();export{ve as LoginComponent};
