var mR=Object.defineProperty,yR=Object.defineProperties;var vR=Object.getOwnPropertyDescriptors;var AI=Object.getOwnPropertySymbols,_R=Object.getPrototypeOf,wR=Object.prototype.hasOwnProperty,IR=Object.prototype.propertyIsEnumerable,ER=Reflect.get;var xI=(t,e,n)=>e in t?mR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})wR.call(e,n)&&xI(t,n,e[n]);if(AI)for(var n of AI(e))IR.call(e,n)&&xI(t,n,e[n]);return t},De=(t,e)=>yR(t,vR(e));var Ir=(t,e,n)=>ER(_R(t),n,e);var I=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});var RI=null;var vf=1,_f=Symbol("SIGNAL");function ge(t){let e=RI;return RI=t,e}var MI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bR(t){if(!(Ef(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===vf)){if(!t.producerMustRecompute(t)&&!wf(t)){t.dirty=!1,t.lastCleanEpoch=vf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=vf}}function NI(t){return t&&(t.nextProducerIndex=0),ge(t)}function PI(t,e){if(ge(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ef(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)If(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function wf(t){uu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(bR(n),r!==n.version))return!0}return!1}function OI(t){if(uu(t),Ef(t))for(let e=0;e<t.producerNode.length;e++)If(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function If(t,e){if(DR(t),uu(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)If(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];uu(i),i.producerIndexOfThis[r]=e}}function Ef(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function uu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function DR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function TR(){throw new Error}var CR=TR;function kI(t){CR=t}function se(t){return typeof t=="function"}function as(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var lu=as(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function hi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ue=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(s){e=s instanceof lu?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{FI(s)}catch(o){e=e??[],o instanceof lu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new lu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)FI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&hi(n,e)}remove(e){let{_finalizers:n}=this;n&&hi(n,e),e instanceof t&&e._removeParent(this)}};Ue.EMPTY=(()=>{let t=new Ue;return t.closed=!0,t})();var bf=Ue.EMPTY;function du(t){return t instanceof Ue||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function FI(t){se(t)?t():t.unsubscribe()}var sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var cs={setTimeout(t,e,...n){let{delegate:r}=cs;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=cs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function hu(t){cs.setTimeout(()=>{let{onUnhandledError:e}=sn;if(e)e(t);else throw t})}function ea(){}var LI=Df("C",void 0,void 0);function VI(t){return Df("E",void 0,t)}function jI(t){return Df("N",t,void 0)}function Df(t,e,n){return{kind:t,value:e,error:n}}var fi=null;function us(t){if(sn.useDeprecatedSynchronousErrorHandling){let e=!fi;if(e&&(fi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=fi;if(fi=null,n)throw r}}else t()}function UI(t){sn.useDeprecatedSynchronousErrorHandling&&fi&&(fi.errorThrown=!0,fi.error=t)}var pi=class extends Ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,du(e)&&e.add(this)):this.destination=xR}static create(e,n,r){return new ls(e,n,r)}next(e){this.isStopped?Cf(jI(e),this):this._next(e)}error(e){this.isStopped?Cf(VI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cf(LI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},SR=Function.prototype.bind;function Tf(t,e){return SR.call(t,e)}var Sf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fu(r)}else fu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fu(n)}}},ls=class extends pi{constructor(e,n,r){super();let i;if(se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&sn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Tf(e.next,s),error:e.error&&Tf(e.error,s),complete:e.complete&&Tf(e.complete,s)}):i=e}this.destination=new Sf(i)}};function fu(t){sn.useDeprecatedSynchronousErrorHandling?UI(t):hu(t)}function AR(t){throw t}function Cf(t,e){let{onStoppedNotification:n}=sn;n&&cs.setTimeout(()=>n(t,e))}var xR={closed:!0,next:ea,error:AR,complete:ea};var ds=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ot(t){return t}function pu(...t){return Af(t)}function Af(t){return t.length===0?Ot:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=MR(n)?n:new ls(n,r,i);return us(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=BI(r),new r((i,s)=>{let o=new ls({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ds](){return this}pipe(...n){return Af(n)(this)}toPromise(n){return n=BI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function BI(t){var e;return(e=t??sn.Promise)!==null&&e!==void 0?e:Promise}function RR(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}function MR(t){return t&&t instanceof pi||RR(t)&&du(t)}function xf(t){return se(t?.lift)}function ye(t){return e=>{if(xf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(t,e,n,r,i){return new Rf(t,e,n,r,i)}var Rf=class extends pi{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function hs(){return ye((t,e)=>{let n=null;t._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var fs=class extends le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,xf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ue;let n=this.getSubject();e.add(this.source.subscribe(he(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ue.EMPTY)}return e}refCount(){return hs()(this)}};var $I=as(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ut=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new gu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new $I}next(n){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?bf:(this.currentObservers=null,s.push(n),new Ue(()=>{this.currentObservers=null,hi(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new gu(e,n),t})(),gu=class extends ut{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:bf}};var nt=class extends ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Mf={now(){return(Mf.delegate||Date).now()},delegate:void 0};var mu=class extends Ue{constructor(e,n){super()}schedule(e,n=0){return this}};var ta={setInterval(t,e,...n){let{delegate:r}=ta;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ta;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ps=class extends mu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ta.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ta.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,hi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var gs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};gs.now=Mf.now;var ms=class extends gs{constructor(e,n=gs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Nf=new ms(ps);var yu=class extends ps{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var vu=class extends ms{};var Pf=new vu(yu);var kt=new le(t=>t.complete());function HI(t){return t&&se(t.schedule)}function qI(t){return t[t.length-1]}function _u(t){return se(qI(t))?t.pop():void 0}function Er(t){return HI(qI(t))?t.pop():void 0}function Of(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function GI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function zI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gi(t){return this instanceof gi?(this.v=t,this):new gi(t)}function WI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(S){return Promise.resolve(S).then(v,p)}}function a(v,S){r[v]&&(i[v]=function(R){return new Promise(function(x,N){s.push([v,R,x,N])>1||u(v,R)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(R){m(s[0][3],R)}}function l(v){v.value instanceof gi?Promise.resolve(v.value.v).then(h,p):m(s[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function KI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof zI=="function"?zI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var wu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Iu(t){return se(t?.then)}function Eu(t){return se(t[ds])}function bu(t){return Symbol.asyncIterator&&se(t?.[Symbol.asyncIterator])}function Du(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function NR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Tu=NR();function Cu(t){return se(t?.[Tu])}function Su(t){return WI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield gi(n.read());if(i)return yield gi(void 0);yield yield gi(r)}}finally{n.releaseLock()}})}function Au(t){return se(t?.getReader)}function $e(t){if(t instanceof le)return t;if(t!=null){if(Eu(t))return PR(t);if(wu(t))return OR(t);if(Iu(t))return kR(t);if(bu(t))return QI(t);if(Cu(t))return FR(t);if(Au(t))return LR(t)}throw Du(t)}function PR(t){return new le(e=>{let n=t[ds]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function OR(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function kR(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,hu)})}function FR(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function QI(t){return new le(e=>{VR(t,e).catch(n=>e.error(n))})}function LR(t){return QI(Su(t))}function VR(t,e){var n,r,i,s;return GI(this,void 0,void 0,function*(){try{for(n=KI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function xt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function br(t,e=0){return ye((n,r)=>{n.subscribe(he(r,i=>xt(r,t,()=>r.next(i),e),()=>xt(r,t,()=>r.complete(),e),i=>xt(r,t,()=>r.error(i),e)))})}function Dr(t,e=0){return ye((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function YI(t,e){return $e(t).pipe(Dr(e),br(e))}function JI(t,e){return $e(t).pipe(Dr(e),br(e))}function ZI(t,e){return new le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function XI(t,e){return new le(n=>{let r;return xt(n,e,()=>{r=t[Tu](),xt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>se(r?.return)&&r.return()})}function xu(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{xt(n,e,()=>{let r=t[Symbol.asyncIterator]();xt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function eE(t,e){return xu(Su(t),e)}function tE(t,e){if(t!=null){if(Eu(t))return YI(t,e);if(wu(t))return ZI(t,e);if(Iu(t))return JI(t,e);if(bu(t))return xu(t,e);if(Cu(t))return XI(t,e);if(Au(t))return eE(t,e)}throw Du(t)}function Re(t,e){return e?tE(t,e):$e(t)}function Z(...t){let e=Er(t);return Re(t,e)}function ys(t,e){let n=se(t)?t:()=>t,r=i=>i.error(n());return new le(e?i=>e.schedule(r,0,i):r)}function kf(t){return!!t&&(t instanceof le||se(t.lift)&&se(t.subscribe))}var qn=as(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function X(t,e){return ye((n,r)=>{let i=0;n.subscribe(he(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:jR}=Array;function UR(t,e){return jR(e)?t(...e):t(e)}function Ru(t){return X(e=>UR(t,e))}var{isArray:BR}=Array,{getPrototypeOf:$R,prototype:HR,keys:qR}=Object;function Mu(t){if(t.length===1){let e=t[0];if(BR(e))return{args:e,keys:null};if(zR(e)){let n=qR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function zR(t){return t&&typeof t=="object"&&$R(t)===HR}function Nu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function na(...t){let e=Er(t),n=_u(t),{args:r,keys:i}=Mu(t);if(r.length===0)return Re([],e);let s=new le(GR(r,e,i?o=>Nu(i,o):Ot));return n?s.pipe(Ru(n)):s}function GR(t,e,n=Ot){return r=>{nE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)nE(e,()=>{let l=Re(t[u],e),h=!1;l.subscribe(he(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function nE(t,e,n){t?xt(n,t,e):e()}function rE(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=R=>l<r?S(R):u.push(R),S=R=>{s&&e.next(R),l++;let x=!1;$e(n(R,h++)).subscribe(he(e,N=>{i?.(N),s?v(N):e.next(N)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let N=u.shift();o?xt(e,o,()=>S(N)):S(N)}m()}catch(N){e.error(N)}}))};return t.subscribe(he(e,v,()=>{p=!0,m()})),()=>{a?.()}}function He(t,e,n=1/0){return se(e)?He((r,i)=>X((s,o)=>e(r,s,i,o))($e(t(r,i))),n):(typeof e=="number"&&(n=e),ye((r,i)=>rE(r,i,t,n)))}function vs(t=1/0){return He(Ot,t)}function iE(){return vs(1)}function _s(...t){return iE()(Re(t,Er(t)))}function Pu(t){return new le(e=>{$e(t()).subscribe(e)})}function Ff(...t){let e=_u(t),{args:n,keys:r}=Mu(t),i=new le(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;$e(n[h]).subscribe(he(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Nu(r,a):a),s.complete())}))}});return e?i.pipe(Ru(e)):i}function Et(t,e){return ye((n,r)=>{let i=0;n.subscribe(he(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Tr(t){return ye((e,n)=>{let r=null,i=!1,s;r=e.subscribe(he(n,void 0,void 0,o=>{s=$e(t(o,Tr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function sE(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(he(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function zn(t,e){return se(e)?He(t,e,1):He(t,1)}function Cr(t){return ye((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Gn(t){return t<=0?()=>kt:ye((e,n)=>{let r=0;e.subscribe(he(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Lf(t){return X(()=>t)}function Ou(t=WR){return ye((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function WR(){return new qn}function Sr(t){return ye((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function vn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Et((i,s)=>t(i,s,r)):Ot,Gn(1),n?Cr(e):Ou(()=>new qn))}function ws(t){return t<=0?()=>kt:ye((e,n)=>{let r=[];e.subscribe(he(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Vf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Et((i,s)=>t(i,s,r)):Ot,ws(1),n?Cr(e):Ou(()=>new qn))}function ku(t,e){return ye(sE(t,e,arguments.length>=2,!0))}function Fu(...t){let e=Er(t);return ye((n,r)=>{(e?_s(t,n,e):_s(t,n)).subscribe(r)})}function Rt(t,e){return ye((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(he(r,u=>{i?.unsubscribe();let l=0,h=s++;$e(t(u,h)).subscribe(i=he(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function jf(t){return ye((e,n)=>{$e(t).subscribe(he(n,()=>n.complete(),ea)),!n.closed&&e.subscribe(n)})}function qe(t,e,n){let r=se(t)||e||n?{next:t,error:e,complete:n}:t;return r?ye((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(he(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ot}var qE="https://g.co/ng/security#xss",q=class extends Error{constructor(e,n){super(fl(e,n)),this.code=e}};function fl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function va(t){return{toString:t}.toString()}var Lu="__parameters__";function KR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function zE(t,e,n){return va(()=>{let r=KR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Lu)?u[Lu]:Object.defineProperty(u,Lu,{value:[]})[Lu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var mi=globalThis;function Se(t){for(let e in t)if(t[e]===Se)return e;throw Error("Could not find renamed property on target object.")}function QR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Dt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Dt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function oE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var YR=Se({__forward_ref__:Se});function Yt(t){return t.__forward_ref__=Yt,t.toString=function(){return Dt(this())},t}function bt(t){return GE(t)?t():t}function GE(t){return typeof t=="function"&&t.hasOwnProperty(YR)&&t.__forward_ref__===Yt}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Tt(t){return{providers:t.providers||[],imports:t.imports||[]}}function pl(t){return aE(t,KE)||aE(t,QE)}function WE(t){return pl(t)!==null}function aE(t,e){return t.hasOwnProperty(e)?t[e]:null}function JR(t){let e=t&&(t[KE]||t[QE]);return e||null}function cE(t){return t&&(t.hasOwnProperty(uE)||t.hasOwnProperty(ZR))?t[uE]:null}var KE=Se({\u0275prov:Se}),uE=Se({\u0275inj:Se}),QE=Se({ngInjectableDef:Se}),ZR=Se({ngInjectorDef:Se}),H=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function YE(t){return t&&!!t.\u0275providers}var XR=Se({\u0275cmp:Se}),eM=Se({\u0275dir:Se}),tM=Se({\u0275pipe:Se}),nM=Se({\u0275mod:Se}),Wu=Se({\u0275fac:Se}),ra=Se({__NG_ELEMENT_ID__:Se}),lE=Se({__NG_ENV_ID__:Se});function Ss(t){return typeof t=="string"?t:t==null?"":String(t)}function rM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ss(t)}function iM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new q(-200,t)}function ng(t,e){throw new q(-201,!1)}var de=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(de||{}),np;function JE(){return np}function Kt(t){let e=np;return np=t,e}function ZE(t,e,n){let r=pl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&de.Optional)return null;if(e!==void 0)return e;ng(t,"Injector")}var sM={},ia=sM,rp="__NG_DI_FLAG__",Ku="ngTempTokenPath",oM="ngTokenPath",aM=/\n/gm,cM="\u0275",dE="__source",Ts;function uM(){return Ts}function Ar(t){let e=Ts;return Ts=t,e}function lM(t,e=de.Default){if(Ts===void 0)throw new q(-203,!1);return Ts===null?ZE(t,void 0,e):Ts.get(t,e&de.Optional?null:void 0,e)}function G(t,e=de.Default){return(JE()||lM)(bt(t),e)}function O(t,e=de.Default){return G(t,gl(e))}function gl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ip(t){let e=[];for(let n=0;n<t.length;n++){let r=bt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new q(900,!1);let i,s=de.Default;for(let o=0;o<r.length;o++){let a=r[o],u=dM(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(G(i,s))}else e.push(G(r))}return e}function XE(t,e){return t[rp]=e,t.prototype[rp]=e,t}function dM(t){return t[rp]}function hM(t,e,n,r){let i=t[Ku];throw e[dE]&&i.unshift(e[dE]),t.message=fM(`
`+t.message,i,n,r),t[oM]=i,t[Ku]=null,t}function fM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==cM?t.slice(2):t;let i=Dt(e);if(Array.isArray(e))i=e.map(Dt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Dt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(aM,`
  `)}`}var ft=XE(zE("Optional"),8);var rg=XE(zE("SkipSelf"),4);function As(t,e){let n=t.hasOwnProperty(Wu);return n?t[Wu]:null}function pM(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function gM(t){return t.flat(Number.POSITIVE_INFINITY)}function ig(t,e){t.forEach(n=>Array.isArray(n)?ig(n,e):e(n))}function e0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Qu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function yM(t,e,n){let r=_a(t,e);return r>=0?t[r|1]=n:(r=~r,mM(t,r,e,n)),r}function Uf(t,e){let n=_a(t,e);if(n>=0)return t[n|1]}function _a(t,e){return vM(t,e,1)}function vM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var xs={},Qt=[],Rs=new H(""),t0=new H("",-1),n0=new H(""),Yu=class{get(e,n=ia){if(n===ia){let r=new Error(`NullInjectorError: No provider for ${Dt(e)}!`);throw r.name="NullInjectorError",r}return n}},r0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(r0||{}),In=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(In||{}),Ve=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ve||{});function _M(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function sp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];wM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function i0(t){return t===3||t===4||t===6}function wM(t){return t.charCodeAt(0)===64}function sa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?hE(t,n,i,null,e[++r]):hE(t,n,i,null,null))}}return t}function hE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var s0="ng-template";function IM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&_M(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(sg(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function sg(t){return t.type===4&&t.value!==s0}function EM(t,e,n){let r=t.type===4&&!n?s0:t.value;return e===r}function bM(t,e,n){let r=4,i=t.attrs,s=i!==null?CM(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!on(r)&&!on(u))return!1;if(o&&on(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!EM(t,u,n)||u===""&&e.length===1){if(on(r))return!1;o=!0}}else if(r&8){if(i===null||!IM(t,i,u,n)){if(on(r))return!1;o=!0}}else{let l=e[++a],h=DM(u,i,sg(t),n);if(h===-1){if(on(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(on(r))return!1;o=!0}}}}return on(r)||o}function on(t){return(t&1)===0}function DM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return SM(e,t)}function TM(t,e,n=!1){for(let r=0;r<e.length;r++)if(bM(t,e[r],n))return!0;return!1}function CM(t){for(let e=0;e<t.length;e++){let n=t[e];if(i0(n))return e}return t.length}function SM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function fE(t,e){return t?":not("+e.trim()+")":e}function AM(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!on(o)&&(e+=fE(s,i),i=""),r=o,s=s||!on(r);n++}return i!==""&&(e+=fE(s,i)),e}function xM(t){return t.map(AM).join(",")}function RM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!on(i))break;i=s}r++}return{attrs:e,classes:n}}function Tn(t){return va(()=>{let e=l0(t),n=De(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===r0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||In.Emulated,styles:t.styles||Qt,_:null,schemas:t.schemas||null,tView:null,id:""});d0(n);let r=t.dependencies;return n.directiveDefs=gE(r,!1),n.pipeDefs=gE(r,!0),n.id=PM(n),n})}function MM(t){return Rr(t)||o0(t)}function NM(t){return t!==null}function Ct(t){return va(()=>({type:t.type,bootstrap:t.bootstrap||Qt,declarations:t.declarations||Qt,imports:t.imports||Qt,exports:t.exports||Qt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function pE(t,e){if(t==null)return xs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Ve.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Ve.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Oe(t){return va(()=>{let e=l0(t);return d0(e),e})}function Rr(t){return t[XR]||null}function o0(t){return t[eM]||null}function a0(t){return t[tM]||null}function c0(t){let e=Rr(t)||o0(t)||a0(t);return e!==null?e.standalone:!1}function u0(t,e){let n=t[nM]||null;if(!n&&e===!0)throw new Error(`Type ${Dt(t)} does not have '\u0275mod' property.`);return n}function l0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||xs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Qt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pE(t.inputs,e),outputs:pE(t.outputs),debugInfo:null}}function d0(t){t.features?.forEach(e=>e(t))}function gE(t,e){if(!t)return null;let n=e?a0:MM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(NM)}function PM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Jt(t){return{\u0275providers:t}}function OM(...t){return{\u0275providers:h0(!0,t),\u0275fromNgModule:!0}}function h0(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return ig(e,o=>{let a=o;op(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&f0(i,s),n}function f0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];og(i,s=>{e(s,r)})}}function op(t,e,n,r){if(t=bt(t),!t)return!1;let i=null,s=cE(t),o=!s&&Rr(t);if(!s&&!o){let u=t.ngModule;if(s=cE(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)op(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{ig(s.imports,h=>{op(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&f0(l,e)}if(!a){let l=As(i)||(()=>new i);e({provide:i,useFactory:l,deps:Qt},i),e({provide:n0,useValue:i,multi:!0},i),e({provide:Rs,useValue:()=>G(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;og(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function og(t,e){for(let n of t)YE(n)&&(n=n.\u0275providers),Array.isArray(n)?og(n,e):e(n)}var kM=Se({provide:String,useValue:Se});function p0(t){return t!==null&&typeof t=="object"&&kM in t}function FM(t){return!!(t&&t.useExisting)}function LM(t){return!!(t&&t.useFactory)}function Ms(t){return typeof t=="function"}function VM(t){return!!t.useClass}var ml=new H(""),Bu={},jM={},Bf;function ag(){return Bf===void 0&&(Bf=new Yu),Bf}var ht=class{},oa=class extends ht{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cp(e,o=>this.processProvider(o)),this.records.set(t0,Is(void 0,this)),i.has("environment")&&this.records.set(ht,Is(void 0,this));let s=this.records.get(ml);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(n0,Qt,de.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ge(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ge(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ar(this),r=Kt(void 0),i;try{return e()}finally{Ar(n),Kt(r)}}get(e,n=ia,r=de.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(lE))return e[lE](this);r=gl(r);let i,s=Ar(this),o=Kt(void 0);try{if(!(r&de.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=qM(e)&&pl(e);l&&this.injectableDefInScope(l)?u=Is(ap(e),Bu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&de.Self?ag():this.parent;return n=r&de.Optional&&n===ia?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ku]=a[Ku]||[]).unshift(Dt(e)),s)throw a;return hM(a,e,"R3InjectorError",this.source)}else throw a}finally{Kt(o),Ar(s)}}resolveInjectorInitializers(){let e=ge(null),n=Ar(this),r=Kt(void 0),i;try{let s=this.get(Rs,Qt,de.Self);for(let o of s)o()}finally{Ar(n),Kt(r),ge(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(e){e=bt(e);let n=Ms(e)?e:bt(e&&e.provide),r=BM(e);if(!Ms(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Is(void 0,Bu,!0),i.factory=()=>ip(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ge(null);try{return n.value===Bu&&(n.value=jM,n.value=n.factory()),typeof n.value=="object"&&n.value&&HM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ge(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=bt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ap(t){let e=pl(t),n=e!==null?e.factory:As(t);if(n!==null)return n;if(t instanceof H)throw new q(204,!1);if(t instanceof Function)return UM(t);throw new q(204,!1)}function UM(t){if(t.length>0)throw new q(204,!1);let n=JR(t);return n!==null?()=>n.factory(t):()=>new t}function BM(t){if(p0(t))return Is(void 0,t.useValue);{let e=g0(t);return Is(e,Bu)}}function g0(t,e,n){let r;if(Ms(t)){let i=bt(t);return As(i)||ap(i)}else if(p0(t))r=()=>bt(t.useValue);else if(LM(t))r=()=>t.useFactory(...ip(t.deps||[]));else if(FM(t))r=()=>G(bt(t.useExisting));else{let i=bt(t&&(t.useClass||t.provide));if($M(t))r=()=>new i(...ip(t.deps));else return As(i)||ap(i)}return r}function Is(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $M(t){return!!t.deps}function HM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function qM(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function cp(t,e){for(let n of t)Array.isArray(n)?cp(n,e):n&&YE(n)?cp(n.\u0275providers,e):e(n)}function dn(t,e){t instanceof oa&&t.assertNotDestroyed();let n,r=Ar(t),i=Kt(void 0);try{return e()}finally{Ar(r),Kt(i)}}function m0(){return JE()!==void 0||uM()!=null}function zM(t){if(!m0())throw new q(-203,!1)}function GM(t){return typeof t=="function"}var Yn=0,oe=1,ee=2,rt=3,an=4,hn=5,aa=6,ca=7,lt=8,Ns=9,cn=10,ze=11,ua=12,mE=13,Fs=14,un=15,wa=16,Es=17,Wn=18,yl=19,y0=20,xr=21,$f=22,_i=23,ln=25,v0=1;var wi=7,Ju=8,Ps=9,dt=10,cg=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(cg||{});function yi(t){return Array.isArray(t)&&typeof t[v0]=="object"}function Jn(t){return Array.isArray(t)&&t[v0]===!0}function _0(t){return(t.flags&4)!==0}function vl(t){return t.componentOffset>-1}function ug(t){return(t.flags&1)===1}function Mr(t){return!!t.template}function WM(t){return(t[ee]&512)!==0}var up=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function w0(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Zn(){return I0}function I0(t){return t.type.prototype.ngOnChanges&&(t.setInput=QM),KM}Zn.ngInherit=!0;function KM(){let t=b0(this),e=t?.current;if(e){let n=t.previous;if(n===xs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function QM(t,e,n,r,i){let s=this.declaredInputs[r],o=b0(t)||YM(t,{previous:xs,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new up(l&&l.currentValue,n,u===xs),w0(t,e,i,n)}var E0="__ngSimpleChanges__";function b0(t){return t[E0]||null}function YM(t,e){return t[E0]=e}var yE=null;var _n=function(t,e,n){yE?.(t,e,n)},JM="svg",ZM="math",XM=!1;function eN(){return XM}function En(t){for(;Array.isArray(t);)t=t[Yn];return t}function D0(t,e){return En(e[t])}function Zt(t,e){return En(e[t.index])}function lg(t,e){return t.data[e]}function Pr(t,e){let n=e[t];return yi(n)?n:n[Yn]}function tN(t){return(t[ee]&4)===4}function dg(t){return(t[ee]&128)===128}function nN(t){return Jn(t[rt])}function Zu(t,e){return e==null?null:t[e]}function T0(t){t[Es]=0}function rN(t){t[ee]&1024||(t[ee]|=1024,dg(t)&&la(t))}function iN(t,e){for(;t>0;)e=e[Fs],t--;return e}function hg(t){return!!(t[ee]&9216||t[_i]?.dirty)}function lp(t){t[cn].changeDetectionScheduler?.notify(1),hg(t)?la(t):t[ee]&64&&(eN()?(t[ee]|=1024,la(t)):t[cn].changeDetectionScheduler?.notify())}function la(t){t[cn].changeDetectionScheduler?.notify();let e=da(t);for(;e!==null&&!(e[ee]&8192||(e[ee]|=8192,!dg(e)));)e=da(e)}function C0(t,e){if((t[ee]&256)===256)throw new q(911,!1);t[xr]===null&&(t[xr]=[]),t[xr].push(e)}function sN(t,e){if(t[xr]===null)return;let n=t[xr].indexOf(e);n!==-1&&t[xr].splice(n,1)}function da(t){let e=t[rt];return Jn(e)?e[rt]:e}var ue={lFrame:k0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function oN(){return ue.lFrame.elementDepthCount}function aN(){ue.lFrame.elementDepthCount++}function cN(){ue.lFrame.elementDepthCount--}function S0(){return ue.bindingsEnabled}function uN(){return ue.skipHydrationRootTNode!==null}function lN(t){return ue.skipHydrationRootTNode===t}function dN(){ue.skipHydrationRootTNode=null}function me(){return ue.lFrame.lView}function pt(){return ue.lFrame.tView}function Ft(t){return ue.lFrame.contextLView=t,t[lt]}function Lt(t){return ue.lFrame.contextLView=null,t}function Mt(){let t=A0();for(;t!==null&&t.type===64;)t=t.parent;return t}function A0(){return ue.lFrame.currentTNode}function hN(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ia(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function x0(){return ue.lFrame.isParent}function fN(){ue.lFrame.isParent=!1}function R0(){let t=ue.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function pN(){return ue.lFrame.bindingIndex}function gN(t){return ue.lFrame.bindingIndex=t}function Ls(){return ue.lFrame.bindingIndex++}function M0(t){let e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function mN(){return ue.lFrame.inI18n}function yN(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,dp(e)}function vN(){return ue.lFrame.currentDirectiveIndex}function dp(t){ue.lFrame.currentDirectiveIndex=t}function _N(t){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function N0(){return ue.lFrame.currentQueryIndex}function fg(t){ue.lFrame.currentQueryIndex=t}function wN(t){let e=t[oe];return e.type===2?e.declTNode:e.type===1?t[hn]:null}function P0(t,e,n){if(n&de.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&de.Host);)if(i=wN(s),i===null||(s=s[Fs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ue.lFrame=O0();return r.currentTNode=e,r.lView=t,!0}function pg(t){let e=O0(),n=t[oe];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function O0(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?k0(t):e}function k0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function F0(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var L0=F0;function gg(){let t=F0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function IN(t){return(ue.lFrame.contextLView=iN(t,ue.lFrame.contextLView))[lt]}function Or(){return ue.lFrame.selectedIndex}function Ii(t){ue.lFrame.selectedIndex=t}function _l(){let t=ue.lFrame;return lg(t.tView,t.selectedIndex)}function EN(){return ue.lFrame.currentNamespace}var V0=!0;function mg(){return V0}function yg(t){V0=t}function bN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=I0(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function vg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function $u(t,e,n){j0(t,e,3,n)}function Hu(t,e,n,r){(t[ee]&3)===n&&j0(t,e,n,r)}function Hf(t,e){let n=t[ee];(n&3)===e&&(n&=16383,n+=1,t[ee]=n)}function j0(t,e,n,r){let i=r!==void 0?t[Es]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Es]+=65536),(a<s||s==-1)&&(DN(t,n,e,u),t[Es]=(t[Es]&4294901760)+u+2),u++}function vE(t,e){_n(4,t,e);let n=ge(null);try{e.call(t)}finally{ge(n),_n(5,t,e)}}function DN(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[ee]>>14<t[Es]>>16&&(t[ee]&3)===e&&(t[ee]+=16384,vE(a,s)):vE(a,s)}var Cs=-1,Ei=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function TN(t){return t instanceof Ei}function CN(t){return(t.flags&8)!==0}function SN(t){return(t.flags&16)!==0}function U0(t){return t!==Cs}function Xu(t){return t&32767}function AN(t){return t>>16}function el(t,e){let n=AN(t),r=e;for(;n>0;)r=r[Fs],n--;return r}var hp=!0;function _E(t){let e=hp;return hp=t,e}var xN=256,B0=xN-1,$0=5,RN=0,wn={};function MN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ra)&&(r=n[ra]),r==null&&(r=n[ra]=RN++);let i=r&B0,s=1<<i;e.data[t+(i>>$0)]|=s}function tl(t,e){let n=H0(t,e);if(n!==-1)return n;let r=e[oe];r.firstCreatePass&&(t.injectorIndex=e.length,qf(r.data,t),qf(e,null),qf(r.blueprint,null));let i=_g(t,e),s=t.injectorIndex;if(U0(i)){let o=Xu(i),a=el(i,e),u=a[oe].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function qf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function H0(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function _g(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=K0(i),r===null)return Cs;if(n++,i=i[Fs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Cs}function fp(t,e,n){MN(t,e,n)}function NN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(i0(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function q0(t,e,n){if(n&de.Optional||t!==void 0)return t;ng(e,"NodeInjector")}function z0(t,e,n,r){if(n&de.Optional&&r===void 0&&(r=null),!(n&(de.Self|de.Host))){let i=t[Ns],s=Kt(void 0);try{return i?i.get(e,r,n&de.Optional):ZE(e,r,n&de.Optional)}finally{Kt(s)}}return q0(r,e,n)}function G0(t,e,n,r=de.Default,i){if(t!==null){if(e[ee]&2048&&!(r&de.Self)){let o=FN(t,e,n,r,wn);if(o!==wn)return o}let s=W0(t,e,n,r,wn);if(s!==wn)return s}return z0(e,n,r,i)}function W0(t,e,n,r,i){let s=ON(n);if(typeof s=="function"){if(!P0(e,t,r))return r&de.Host?q0(i,n,r):z0(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&de.Optional))ng(n);else return o}finally{L0()}}else if(typeof s=="number"){let o=null,a=H0(t,e),u=Cs,l=r&de.Host?e[un][hn]:null;for((a===-1||r&de.SkipSelf)&&(u=a===-1?_g(t,e):e[a+8],u===Cs||!IE(r,!1)?a=-1:(o=e[oe],a=Xu(u),e=el(u,e)));a!==-1;){let h=e[oe];if(wE(s,a,h.data)){let p=PN(a,e,n,o,r,l);if(p!==wn)return p}u=e[a+8],u!==Cs&&IE(r,e[oe].data[a+8]===l)&&wE(s,a,e)?(o=h,a=Xu(u),e=el(u,e)):a=-1}}return i}function PN(t,e,n,r,i,s){let o=e[oe],a=o.data[t+8],u=r==null?vl(a)&&hp:r!=o&&(a.type&3)!==0,l=i&de.Host&&s===a,h=qu(a,o,n,u,l);return h!==null?bi(e,o,h,a):wn}function qu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let S=o[v];if(v<u&&n===S||v>=u&&S.type===n)return v}if(i){let v=o[u];if(v&&Mr(v)&&v.type===n)return u}return null}function bi(t,e,n,r){let i=t[n],s=e.data;if(TN(i)){let o=i;o.resolving&&iM(rM(s[n]));let a=_E(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Kt(o.injectImpl):null,h=P0(t,r,de.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&bN(n,s[n],e)}finally{l!==null&&Kt(l),_E(a),o.resolving=!1,L0()}}return i}function ON(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ra)?t[ra]:void 0;return typeof e=="number"?e>=0?e&B0:kN:e}function wE(t,e,n){let r=1<<t;return!!(n[e+(t>>$0)]&r)}function IE(t,e){return!(t&de.Self)&&!(t&de.Host&&e)}var vi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return G0(this._tNode,this._lView,e,gl(r),n)}};function kN(){return new vi(Mt(),me())}function kr(t){return va(()=>{let e=t.prototype.constructor,n=e[Wu]||pp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Wu]||pp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function pp(t){return GE(t)?()=>{let e=pp(bt(t));return e&&e()}:As(t)}function FN(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[ee]&2048&&!(o[ee]&512);){let a=W0(s,o,n,r|de.Self,wn);if(a!==wn)return a;let u=s.parent;if(!u){let l=o[y0];if(l){let h=l.get(n,wn,r);if(h!==wn)return h}u=K0(o),o=o[Fs]}s=u}return i}function K0(t){let e=t[oe],n=e.type;return n===2?e.declTNode:n===1?t[hn]:null}function wg(t){return NN(Mt(),t)}function EE(t,e=null,n=null,r){let i=Q0(t,e,n,r);return i.resolveInjectorInitializers(),i}function Q0(t,e=null,n=null,r,i=new Set){let s=[n||Qt,OM(t)];return r=r||(typeof t=="object"?void 0:Dt(t)),new oa(s,e||ag(),r||null,i)}var gt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return EE({name:""},i,r,"");{let s=r.name??"";return EE({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=ia,e.NULL=new Yu,e.\u0275prov=$({token:e,providedIn:"any",factory:()=>G(t0)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var LN="ngOriginalError";function zf(t){return t[LN]}var bn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&zf(e);for(;n&&zf(n);)n=zf(n);return n||null}},Y0=new H("",{providedIn:"root",factory:()=>O(bn).handleError.bind(void 0)}),Ig=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=VN,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),gp=class extends Ig{constructor(e){super(),this._lView=e}onDestroy(e){return C0(this._lView,e),()=>sN(this._lView,e)}};function VN(){return new gp(me())}function jN(){return Vs(Mt(),me())}function Vs(t,e){return new Vt(Zt(t,e))}var Vt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=jN;let t=e;return t})();function UN(t){return t instanceof Vt?t.nativeElement:t}var mp=class extends ut{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,m0()&&(this.destroyRef=O(Ig,{optional:!0})??void 0)}emit(e){let n=ge(null);try{super.next(e)}finally{ge(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Gf(s),i&&(i=Gf(i)),o&&(o=Gf(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ue&&e.add(a),a}};function Gf(t){return e=>{setTimeout(t,void 0,e)}}var Ye=mp;function BN(){return this._results[Symbol.iterator]()}var yp=class t{get changes(){return this._changes??=new Ye}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=BN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=gM(e);(this._changesDetected=!pM(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function J0(t){return(t.flags&128)===128}var Z0=new Map,$N=0;function HN(){return $N++}function qN(t){Z0.set(t[yl],t)}function zN(t){Z0.delete(t[yl])}var bE="__ngContext__";function Di(t,e){yi(e)?(t[bE]=e[yl],qN(e)):t[bE]=e}function X0(t){return tb(t[ua])}function eb(t){return tb(t[an])}function tb(t){for(;t!==null&&!Jn(t);)t=t[an];return t}var vp;function nb(t){vp=t}function GN(){if(vp!==void 0)return vp;if(typeof document<"u")return document;throw new q(210,!1)}var Eg=new H("",{providedIn:"root",factory:()=>WN}),WN="ng",bg=new H(""),Xt=new H("",{providedIn:"platform",factory:()=>"unknown"});var Dg=new H("",{providedIn:"root",factory:()=>GN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var KN="h",QN="b";var YN=()=>null;function Tg(t,e,n=!1){return YN(t,e,n)}var rb=!1,JN=new H("",{providedIn:"root",factory:()=>rb});var Vu;function ZN(){if(Vu===void 0&&(Vu=null,mi.trustedTypes))try{Vu=mi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Vu}function DE(t){return ZN()?.createScriptURL(t)||t}var nl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qE})`}};function Ea(t){return t instanceof nl?t.changingThisBreaksApplicationSecurity:t}function Cg(t,e){let n=XN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${qE})`)}return n===e}function XN(t){return t instanceof nl&&t.getTypeName()||null}var eP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ib(t){return t=String(t),t.match(eP)?t:"unsafe:"+t}var wl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(wl||{});function Ai(t){let e=ob();return e?e.sanitize(wl.URL,t)||"":Cg(t,"URL")?Ea(t):ib(Ss(t))}function tP(t){let e=ob();if(e)return DE(e.sanitize(wl.RESOURCE_URL,t)||"");if(Cg(t,"ResourceURL"))return DE(Ea(t));throw new q(904,!1)}function nP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?tP:Ai}function sb(t,e,n){return nP(e,n)(t)}function ob(){let t=me();return t&&t[cn].sanitizer}function QW(t){return t.ownerDocument}function ab(t){return t instanceof Function?t():t}function rP(t){return(t??O(gt)).get(Xt)==="browser"}var Kn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Kn||{}),iP;function Sg(t,e){return iP(t,e)}function bs(t,e,n,r,i){if(r!=null){let s,o=!1;Jn(r)?s=r:yi(r)&&(o=!0,r=r[Yn]);let a=En(r);t===0&&n!==null?i==null?db(e,n,a):rl(e,n,a,i||null,!0):t===1&&n!==null?rl(e,n,a,i||null,!0):t===2?IP(e,a,o):t===3&&e.destroyNode(a),s!=null&&bP(e,t,s,n,i)}}function sP(t,e){return t.createText(e)}function oP(t,e,n){t.setValue(e,n)}function cb(t,e,n){return t.createElement(e,n)}function aP(t,e){ub(t,e),e[Yn]=null,e[hn]=null}function cP(t,e,n,r,i,s){r[Yn]=i,r[hn]=e,El(t,r,n,1,i,s)}function ub(t,e){e[cn].changeDetectionScheduler?.notify(1),El(t,e,e[ze],2,null,null)}function uP(t){let e=t[ua];if(!e)return Wf(t[oe],t);for(;e;){let n=null;if(yi(e))n=e[ua];else{let r=e[dt];r&&(n=r)}if(!n){for(;e&&!e[an]&&e!==t;)yi(e)&&Wf(e[oe],e),e=e[rt];e===null&&(e=t),yi(e)&&Wf(e[oe],e),n=e&&e[an]}e=n}}function lP(t,e,n,r){let i=dt+r,s=n.length;r>0&&(n[i-1][an]=e),r<s-dt?(e[an]=n[i],e0(n,dt+r,e)):(n.push(e),e[an]=null),e[rt]=n;let o=e[wa];o!==null&&n!==o&&dP(o,e);let a=e[Wn];a!==null&&a.insertView(t),lp(e),e[ee]|=128}function dP(t,e){let n=t[Ps],i=e[rt][rt][un];e[un]!==i&&(t[ee]|=cg.HasTransplantedViews),n===null?t[Ps]=[e]:n.push(e)}function lb(t,e){let n=t[Ps],r=n.indexOf(e);n.splice(r,1)}function ha(t,e){if(t.length<=dt)return;let n=dt+e,r=t[n];if(r){let i=r[wa];i!==null&&i!==t&&lb(i,r),e>0&&(t[n-1][an]=r[an]);let s=Qu(t,dt+e);aP(r[oe],r);let o=s[Wn];o!==null&&o.detachView(s[oe]),r[rt]=null,r[an]=null,r[ee]&=-129}return r}function Il(t,e){if(!(e[ee]&256)){let n=e[ze];n.destroyNode&&El(t,e,n,3,null,null),uP(e)}}function Wf(t,e){if(e[ee]&256)return;let n=ge(null);try{e[ee]&=-129,e[ee]|=256,e[_i]&&OI(e[_i]),fP(t,e),hP(t,e),e[oe].type===1&&e[ze].destroy();let r=e[wa];if(r!==null&&Jn(e[rt])){r!==e[rt]&&lb(r,e);let i=e[Wn];i!==null&&i.detachView(t)}zN(e)}finally{ge(n)}}function hP(t,e){let n=t.cleanup,r=e[ca];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[ca]=null);let i=e[xr];if(i!==null){e[xr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function fP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ei)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];_n(4,a,u);try{u.call(a)}finally{_n(5,a,u)}}else{_n(4,i,s);try{s.call(i)}finally{_n(5,i,s)}}}}}function pP(t,e,n){return gP(t,e.parent,n)}function gP(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Yn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===In.None||s===In.Emulated)return null}return Zt(r,n)}}function rl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function db(t,e,n){t.appendChild(e,n)}function TE(t,e,n,r,i){r!==null?rl(t,e,n,r,i):db(t,e,n)}function mP(t,e,n,r){t.removeChild(e,n,r)}function Ag(t,e){return t.parentNode(e)}function yP(t,e){return t.nextSibling(e)}function vP(t,e,n){return wP(t,e,n)}function _P(t,e,n){return t.type&40?Zt(t,n):null}var wP=_P,CE;function xg(t,e,n,r){let i=pP(t,r,e),s=e[ze],o=r.parent||e[hn],a=vP(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)TE(s,i,n[u],a,!1);else TE(s,i,n,a,!1);CE!==void 0&&CE(s,r,e,n,i)}function zu(t,e){if(e!==null){let n=e.type;if(n&3)return Zt(e,t);if(n&4)return _p(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return zu(t,r);{let i=t[e.index];return Jn(i)?_p(-1,i):En(i)}}else{if(n&32)return Sg(e,t)()||En(t[e.index]);{let r=hb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=da(t[un]);return zu(i,r)}else return zu(t,e.next)}}}return null}function hb(t,e){if(e!==null){let r=t[un][hn],i=e.projection;return r.projection[i]}return null}function _p(t,e){let n=dt+t+1;if(n<e.length){let r=e[n],i=r[oe].firstChild;if(i!==null)return zu(r,i)}return e[wi]}function IP(t,e,n){let r=Ag(t,e);r&&mP(t,r,e,n)}function Rg(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],u=n.type;if(o&&e===0&&(a&&Di(En(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Rg(t,e,n.child,r,i,s,!1),bs(e,t,i,a,s);else if(u&32){let l=Sg(n,r),h;for(;h=l();)bs(e,t,i,h,s);bs(e,t,i,a,s)}else u&16?EP(t,e,r,n,i,s):bs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function El(t,e,n,r,i,s){Rg(n,r,t.firstChild,e,i,s,!1)}function EP(t,e,n,r,i,s){let o=n[un],u=o[hn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];bs(e,t,i,h,s)}else{let l=u,h=o[rt];J0(r)&&(l.flags|=128),Rg(t,e,l,h,i,s,!0)}}function bP(t,e,n,r,i){let s=n[wi],o=En(n);s!==o&&bs(e,t,r,s,i);for(let a=dt;a<n.length;a++){let u=n[a];El(u[oe],u,t,e,r,s)}}function DP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Kn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Kn.Important),t.setStyle(n,r,i,s))}}function TP(t,e,n){t.setAttribute(e,"style",n)}function fb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function pb(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&sp(t,e,r),i!==null&&fb(t,e,i),s!==null&&TP(t,e,s)}var fn={};function z(t=1){gb(pt(),me(),Or()+t,!1)}function gb(t,e,n,r){if(!r)if((e[ee]&3)===3){let s=t.preOrderCheckHooks;s!==null&&$u(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Hu(e,s,0,n)}Ii(n)}function j(t,e=de.Default){let n=me();if(n===null)return G(t,e);let r=Mt();return G0(r,n,bt(t),e)}function mb(){let t="invalid";throw new Error(t)}function yb(t,e,n,r,i,s){let o=ge(null);try{let a=null;i&Ve.SignalBased&&(a=e[r][_f]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ve.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):w0(e,a,r,s)}finally{ge(o)}}function CP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ii(~i);else{let s=i,o=n[++r],a=n[++r];yN(o,s);let u=e[s];a(2,u)}}}finally{Ii(-1)}}function bl(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[Yn]=i,p[ee]=r|4|128|8|64,(l!==null||t&&t[ee]&2048)&&(p[ee]|=2048),T0(p),p[rt]=p[Fs]=t,p[lt]=n,p[cn]=o||t&&t[cn],p[ze]=a||t&&t[ze],p[Ns]=u||t&&t[Ns]||null,p[hn]=s,p[yl]=HN(),p[aa]=h,p[y0]=l,p[un]=e.type==2?t[un]:p,p}function Dl(t,e,n,r,i){let s=t.data[e];if(s===null)s=SP(t,e,n,r,i),mN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=hN();s.injectorIndex=o===null?-1:o.injectorIndex}return Ia(s,!0),s}function SP(t,e,n,r,i){let s=A0(),o=x0(),a=o?s:s&&s.parent,u=t.data[e]=PP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function vb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _b(t,e,n,r,i){let s=Or(),o=r&2;try{Ii(-1),o&&e.length>ln&&gb(t,e,ln,!1),_n(o?2:0,i),n(r,i)}finally{Ii(s),_n(o?3:1,i)}}function wb(t,e,n){if(_0(e)){let r=ge(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{ge(r)}}}function Ib(t,e,n){S0()&&(jP(t,e,n,Zt(n,e)),(n.flags&64)===64&&Cb(t,e,n))}function Eb(t,e,n=Zt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function bb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Mg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Mg(t,e,n,r,i,s,o,a,u,l,h){let p=ln+r,m=p+i,v=AP(p,m),S=typeof l=="function"?l():l;return v[oe]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function AP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:fn);return n}function xP(t,e,n,r){let s=r.get(JN,rb)||n===In.ShadowDom,o=t.selectRootElement(e,s);return RP(o),o}function RP(t){MP(t)}var MP=()=>null;function NP(t,e,n,r){let i=xb(e);i.push(n),t.firstCreatePass&&Rb(t).push(r,i.length-1)}function PP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return uN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function SE(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Ve.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?AE(r,n,l,a,u):AE(r,n,l,a)}return r}function AE(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function OP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,v=m?m.inputs:null,S=m?m.outputs:null;u=SE(0,p.inputs,h,u,v),l=SE(1,p.outputs,h,l,S);let R=u!==null&&o!==null&&!sg(e)?YP(u,h,o):null;a.push(R)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function kP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Ng(t,e,n,r,i,s,o,a){let u=Zt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Pg(t,n,h,r,i),vl(e)&&FP(n,e.index)):e.type&3?(r=kP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function FP(t,e){let n=Pr(e,t);n[ee]&16||(n[ee]|=64)}function Db(t,e,n,r){if(S0()){let i=r===null?null:{"":-1},s=BP(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Tb(t,e,n,o,i,a),i&&$P(n,r,i)}n.mergedAttrs=sa(n.mergedAttrs,n.attrs)}function Tb(t,e,n,r,i,s){for(let l=0;l<r.length;l++)fp(tl(n,e),t,r[l].type);qP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=vb(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=sa(n.mergedAttrs,h.hostAttrs),zP(t,n,e,u,h),HP(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}OP(t,n,s)}function LP(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;VP(o)!=a&&o.push(a),o.push(n,r,s)}}function VP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function jP(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;vl(n)&&GP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||tl(n,e),Di(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=bi(e,t,a,n);if(Di(l,e),o!==null&&QP(e,a-i,l,u,n,o),Mr(u)){let h=Pr(n.index,e);h[lt]=bi(e,t,a,n)}}}function Cb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=vN();try{Ii(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];dp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&UP(u,l)}}finally{Ii(-1),dp(o)}}function UP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function BP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(TM(e,o.selectors,!1))if(r||(r=[]),Mr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;wp(t,e,u)}else r.unshift(o),wp(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function wp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function $P(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new q(-301,!1);r.push(e[i],s)}}}function HP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Mr(e)&&(n[""]=t)}}function qP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function zP(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=As(i.type,!0)),o=new Ei(s,Mr(i),j);t.blueprint[r]=o,n[r]=o,LP(t,e,r,vb(t,n,i.hostVars,fn),i)}function GP(t,e,n){let r=Zt(e,t),i=bb(n),s=t[cn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Tl(t,bl(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function WP(t,e,n,r,i,s){let o=Zt(t,e);KP(e[ze],o,s,t.value,n,r,i)}function KP(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Ss(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function QP(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];yb(r,n,u,l,h,p)}}function YP(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function Sb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Ab(t,e){let n=t.contentQueries;if(n!==null){let r=ge(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];fg(s),a.contentQueries(2,e[o],o)}}}finally{ge(r)}}}function Tl(t,e){return t[ua]?t[mE][an]=e:t[ua]=e,t[mE]=e,e}function Ip(t,e,n){fg(0);let r=ge(null);try{e(t,n)}finally{ge(r)}}function xb(t){return t[ca]||(t[ca]=[])}function Rb(t){return t.cleanup||(t.cleanup=[])}function Mb(t,e){let n=t[Ns],r=n?n.get(bn,null):null;r&&r.handleError(e)}function Pg(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];yb(h,l,r,a,u,i)}}function Nb(t,e,n){let r=D0(e,t);oP(t[ze],r,n)}function JP(t,e){let n=Pr(e,t),r=n[oe];ZP(r,n);let i=n[Yn];i!==null&&n[aa]===null&&(n[aa]=Tg(i,n[Ns])),Og(r,n,n[lt])}function ZP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Og(t,e,n){pg(e);try{let r=t.viewQuery;r!==null&&Ip(1,r,n);let i=t.template;i!==null&&_b(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Wn]?.finishViewCreation(t),t.staticContentQueries&&Ab(t,e),t.staticViewQueries&&Ip(2,t.viewQuery,n);let s=t.components;s!==null&&XP(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ee]&=-5,gg()}}function XP(t,e){for(let n=0;n<e.length;n++)JP(t,e[n])}function Cl(t,e,n,r){let i=ge(null);try{let s=e.tView,a=t[ee]&4096?4096:16,u=bl(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[wa]=l;let h=t[Wn];return h!==null&&(u[Wn]=h.createEmbeddedView(s)),Og(s,u,n),u}finally{ge(i)}}function Pb(t,e){let n=dt+e;if(n<t.length)return t[n]}function fa(t,e){return!e||e.firstChild===null||J0(t)}function Sl(t,e,n,r=!0){let i=e[oe];if(lP(i,e,t,n),r){let o=_p(n,t),a=e[ze],u=Ag(a,t[wi]);u!==null&&cP(i,t[hn],a,e,u,o)}let s=e[aa];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Ob(t,e){let n=ha(t,e);return n!==void 0&&Il(n[oe],n),n}function il(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(En(s)),Jn(s)&&eO(s,r);let o=n.type;if(o&8)il(t,e,n.child,r);else if(o&32){let a=Sg(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=hb(e,n);if(Array.isArray(a))r.push(...a);else{let u=da(e[un]);il(u[oe],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function eO(t,e){for(let n=dt;n<t.length;n++){let r=t[n],i=r[oe].firstChild;i!==null&&il(r[oe],r,i,e)}t[wi]!==t[Yn]&&e.push(t[wi])}var kb=[];function tO(t){return t[_i]??nO(t)}function nO(t){let e=kb.pop()??Object.create(iO);return e.lView=t,e}function rO(t){t.lView[_i]!==t&&(t.lView=null,kb.push(t))}var iO=De(F({},MI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{la(t.lView)},consumerOnSignalRead(){this.lView[_i]=this}}),Fb=100;function Lb(t,e=!0,n=0){let r=t[cn],i=r.rendererFactory,s=!1;s||i.begin?.();try{sO(t,n)}catch(o){throw e&&Mb(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function sO(t,e){Ep(t,e);let n=0;for(;hg(t);){if(n===Fb)throw new q(103,!1);n++,Ep(t,1)}}function oO(t,e,n,r){let i=e[ee];if((i&256)===256)return;let s=!1;!s&&e[cn].inlineEffectRunner?.flush(),pg(e);let o=null,a=null;!s&&aO(t)&&(a=tO(e),o=NI(a));try{T0(e),gN(t.bindingStartIndex),n!==null&&_b(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let p=t.preOrderCheckHooks;p!==null&&$u(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Hu(e,p,0,null),Hf(e,0)}if(cO(e),Vb(e,0),t.contentQueries!==null&&Ab(t,e),!s)if(u){let p=t.contentCheckHooks;p!==null&&$u(e,p)}else{let p=t.contentHooks;p!==null&&Hu(e,p,1),Hf(e,1)}CP(t,e);let l=t.components;l!==null&&Ub(e,l,0);let h=t.viewQuery;if(h!==null&&Ip(2,h,r),!s)if(u){let p=t.viewCheckHooks;p!==null&&$u(e,p)}else{let p=t.viewHooks;p!==null&&Hu(e,p,2),Hf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[$f]){for(let p of e[$f])p();e[$f]=null}s||(e[ee]&=-73)}catch(u){throw la(e),u}finally{a!==null&&(PI(a,o),rO(a)),gg()}}function aO(t){return t.type!==2}function Vb(t,e){for(let n=X0(t);n!==null;n=eb(n))for(let r=dt;r<n.length;r++){let i=n[r];jb(i,e)}}function cO(t){for(let e=X0(t);e!==null;e=eb(e)){if(!(e[ee]&cg.HasTransplantedViews))continue;let n=e[Ps];for(let r=0;r<n.length;r++){let i=n[r],s=i[rt];rN(i)}}}function uO(t,e,n){let r=Pr(e,t);jb(r,n)}function jb(t,e){dg(t)&&Ep(t,e)}function Ep(t,e){let r=t[oe],i=t[ee],s=t[_i],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&wf(s)),s&&(s.dirty=!1),t[ee]&=-9217,o)oO(r,t,r.template,t[lt]);else if(i&8192){Vb(t,1);let a=r.components;a!==null&&Ub(t,a,1)}}function Ub(t,e,n){for(let r=0;r<e.length;r++)uO(t,e[r],n)}function kg(t){for(t[cn].changeDetectionScheduler?.notify();t;){t[ee]|=64;let e=da(t);if(WM(t)&&!e)return t;t=e}return null}var Ti=class{get rootNodes(){let e=this._lView,n=e[oe];return il(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[lt]}set context(e){this._lView[lt]=e}get destroyed(){return(this._lView[ee]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[rt];if(Jn(e)){let n=e[Ju],r=n?n.indexOf(this):-1;r>-1&&(ha(e,r),Qu(n,r))}this._attachedToViewContainer=!1}Il(this._lView[oe],this._lView)}onDestroy(e){C0(this._lView,e)}markForCheck(){kg(this._cdRefInjectingView||this._lView)}detach(){this._lView[ee]&=-129}reattach(){lp(this._lView),this._lView[ee]|=128}detectChanges(){this._lView[ee]|=1024,Lb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,ub(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e,lp(this._lView)}},Ci=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=hO;let t=e;return t})(),lO=Ci,dO=class extends lO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Cl(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Ti(i)}};function hO(){return Fg(Mt(),me())}function Fg(t,e){return t.type&4?new dO(e,t,Vs(t,e)):null}var JW=new RegExp(`^(\\d+)*(${QN}|${KN})*(.*)`);var fO=()=>null;function pa(t,e){return fO(t,e)}var sl=class{},bp=class{},ol=class{};function pO(t){let e=Error(`No component factory found for ${Dt(t)}.`);return e[gO]=t,e}var gO="ngComponent";var Dp=class{resolveComponentFactory(e){throw pO(e)}},Al=(()=>{let e=class e{};e.NULL=new Dp;let t=e;return t})(),ga=class{},Xn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>mO();let t=e;return t})();function mO(){let t=me(),e=Mt(),n=Pr(e.index,t);return(yi(n)?n:t)[ze]}var yO=(()=>{let e=class e{};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Kf={};var xE=new Set;function js(t){xE.has(t)||(xE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function RE(...t){}function vO(){let t=typeof mi.requestAnimationFrame=="function",e=mi[t?"requestAnimationFrame":"setTimeout"],n=mi[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=vO().nativeRequestAnimationFrame,IO(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,_O,RE,RE);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},_O={};function Lg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wO(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(mi,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Tp(t),t.isCheckStableRunning=!0,Lg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Tp(t))}function IO(t){let e=()=>{wO(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(EO(a))return n.invokeTask(i,s,o,a);try{return ME(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),NE(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return ME(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),NE(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Tp(t),Lg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Tp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ME(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function NE(t){t._nesting--,Lg(t)}function EO(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Ds=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ds||{}),bO={destroy(){}};function xl(t,e){!e&&zM(xl);let n=e?.injector??O(gt);if(!rP(n))return bO;js("NgAfterNextRender");let r=n.get(Vg),i=r.handler??=new Sp,s=e?.phase??Ds.MixedReadWrite,o=()=>{i.unregister(u),a()},a=n.get(Ig).onDestroy(o),u=dn(n,()=>new Cp(s,()=>{o(),t()}));return i.register(u),{destroy:o}}var Cp=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=O(Ie),this.errorHandler=O(bn,{optional:!0}),O(sl,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Sp=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ds.EarlyRead]:new Set,[Ds.Write]:new Set,[Ds.MixedReadWrite]:new Set,[Ds.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Vg=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Ap(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=oE(i,a);else if(s==2){let u=a,l=e[++o];r=oE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var al=class extends Al{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Rr(e);return new Os(n,this.ngModule)}};function PE(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function DO(t){let e=t.toLowerCase();return e==="svg"?JM:e==="math"?ZM:null}var xp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=gl(r);let i=this.injector.get(e,Kf,r);return i!==Kf||n===Kf?i:this.parentInjector.get(e,n,r)}},Os=class extends ol{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=PE(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return PE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=xM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ge(null);try{i=i||this.ngModule;let o=i instanceof ht?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new xp(e,o):e,u=a.get(ga,null);if(u===null)throw new q(407,!1);let l=a.get(yO,null),h=a.get(Vg,null),p=a.get(sl,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},v=u.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",R=r?xP(v,r,this.componentDef.encapsulation,a):cb(v,S,DO(S)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let N=null;R!==null&&(N=Tg(R,a,!0));let W=Mg(0,null,null,1,0,null,null,null,null,null,null),K=bl(null,W,null,x,null,null,m,v,a,null,N);pg(K);let J,xe;try{let ie=this.componentDef,b,y=null;ie.findHostDirectiveDefs?(b=[],y=new Map,ie.findHostDirectiveDefs(ie,b,y),b.push(ie)):b=[ie];let _=TO(K,R),E=CO(_,R,ie,b,K,m,v);xe=lg(W,ln),R&&xO(v,ie,R,r),n!==void 0&&RO(xe,this.ngContentSelectors,n),J=AO(E,ie,b,y,K,[MO]),Og(W,K,null)}finally{gg()}return new Rp(this.componentType,J,Vs(xe,K),K,xe)}finally{ge(s)}}},Rp=class extends bp{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ti(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Pg(s[oe],s,i,e,n),this.previousInputValues.set(e,n);let o=Pr(this._tNode.index,s);kg(o)}}get injector(){return new vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function TO(t,e){let n=t[oe],r=ln;return t[r]=e,Dl(n,r,2,"#host",null)}function CO(t,e,n,r,i,s,o){let a=i[oe];SO(r,t,e,o);let u=null;e!==null&&(u=Tg(e,i[Ns]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=bl(i,bb(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&wp(a,t,r.length-1),Tl(i,p),i[t.index]=p}function SO(t,e,n,r){for(let i of t)e.mergedAttrs=sa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ap(e,e.mergedAttrs,!0),n!==null&&pb(r,n,e))}function AO(t,e,n,r,i,s){let o=Mt(),a=i[oe],u=Zt(o,i);Tb(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=bi(i,a,p,o);Di(m,i)}Cb(a,i,o),u&&Di(u,i);let l=bi(i,a,o.directiveStart+o.componentOffset,o);if(t[lt]=i[lt]=l,s!==null)for(let h of s)h(l,e);return wb(a,o,i),l}function xO(t,e,n,r){if(r)sp(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:s}=RM(e.selectors[0]);i&&sp(t,n,i),s&&s.length>0&&fb(t,n,s.join(" "))}}function RO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function MO(){let t=Mt();vg(me()[oe],t)}var Fr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=NO;let t=e;return t})();function NO(){let t=Mt();return $b(t,me())}var PO=Fr,Bb=class extends PO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Vs(this._hostTNode,this._hostLView)}get injector(){return new vi(this._hostTNode,this._hostLView)}get parentInjector(){let e=_g(this._hostTNode,this._hostLView);if(U0(e)){let n=el(e,this._hostLView),r=Xu(e),i=n[oe].data[r+8];return new vi(i,n)}else return new vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=OE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=pa(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,fa(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!GM(e),a;if(o)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new Os(Rr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let R=(o?l:this.parentInjector).get(ht,null);R&&(s=R)}let h=Rr(u.componentType??{}),p=pa(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,s);return this.insertImpl(v.hostView,a,fa(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(nN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[rt],l=new Bb(u,u[hn],u[rt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Sl(o,i,s,r),e.attachToViewContainerRef(),e0(Qf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=OE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ha(this._lContainer,n);r&&(Qu(Qf(this._lContainer),n),Il(r[oe],r))}detach(e){let n=this._adjustIndex(e,-1),r=ha(this._lContainer,n);return r&&Qu(Qf(this._lContainer),n)!=null?new Ti(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function OE(t){return t[Ju]}function Qf(t){return t[Ju]||(t[Ju]=[])}function $b(t,e){let n,r=e[t.index];return Jn(r)?n=r:(n=Sb(r,e,null,t),e[t.index]=n,Tl(e,n)),kO(n,e,t,r),new Bb(n,t,e)}function OO(t,e){let n=t[ze],r=n.createComment(""),i=Zt(e,t),s=Ag(n,i);return rl(n,s,r,yP(n,i),!1),r}var kO=VO,FO=()=>!1;function LO(t,e,n){return FO(t,e,n)}function VO(t,e,n,r){if(t[wi])return;let i;n.type&8?i=En(r):i=OO(e,n),t[wi]=i}var Mp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Np=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)jg(e,n).matches!==null&&this.queries[n].setDirty()}},Pp=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=GO(e):this.predicate=e}},Op=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},kp=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,jO(n,s)),this.matchTNodeWithReadOption(e,n,qu(n,e,s,!1,!1))}else r===Ci?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,qu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Vt||i===Fr||i===Ci&&n.type&4)this.addMatch(n.index,-2);else{let s=qu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function jO(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function UO(t,e){return t.type&11?Vs(t,e):t.type&4?Fg(t,e):null}function BO(t,e,n,r){return n===-1?UO(e,t):n===-2?$O(t,e,r):bi(t,t[oe],n,e)}function $O(t,e,n){if(n===Vt)return Vs(e,t);if(n===Ci)return Fg(e,t);if(n===Fr)return $b(e,t)}function Hb(t,e,n,r){let i=e[Wn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push(BO(e,h,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Fp(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=Hb(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=dt;p<h.length;p++){let m=h[p];m[wa]===m[rt]&&Fp(m[oe],m,l,r)}if(h[Ps]!==null){let p=h[Ps];for(let m=0;m<p.length;m++){let v=p[m];Fp(v[oe],v,l,r)}}}}}return r}function HO(t,e){return t[Wn].queries[e].queryList}function qO(t,e,n){let r=new yp((n&4)===4);return NP(t,e,r,r.destroy),(e[Wn]??=new Np).queries.push(new Mp(r))-1}function zO(t,e,n){let r=pt();return r.firstCreatePass&&(WO(r,new Pp(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),qO(r,me(),e)}function GO(t){return t.split(",").map(e=>e.trim())}function WO(t,e,n){t.queries===null&&(t.queries=new Op),t.queries.track(new kp(e,n))}function jg(t,e){return t.queries.getByIndex(e)}function KO(t,e){let n=t[oe],r=jg(n,e);return r.crossesNgTemplate?Fp(n,t,e,[]):Hb(n,t,r,e)}function QO(t){return typeof t=="function"&&t[_f]!==void 0}function qb(t){return QO(t)&&typeof t.set=="function"}function YO(t){return Object.getPrototypeOf(t.prototype).constructor}function St(t){let e=YO(t.type),n=!0,r=[t];for(;e;){let i;if(Mr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=ju(t.inputs),o.inputTransforms=ju(t.inputTransforms),o.declaredInputs=ju(t.declaredInputs),o.outputs=ju(t.outputs);let a=i.hostBindings;a&&tk(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&XO(t,u),l&&ek(t,l),JO(t,i),QR(t.outputs,i.outputs),Mr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===St&&(n=!1)}}e=Object.getPrototypeOf(e)}ZO(r)}function JO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function ZO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=sa(i.hostAttrs,n=sa(n,i.hostAttrs))}}function ju(t){return t===xs?{}:t===Qt?[]:t}function XO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function ek(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function tk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Ug(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Nr=class{},ma=class{};var Lp=class extends Nr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new al(this);let i=u0(e);this._bootstrapComponents=ab(i.bootstrap),this._r3Injector=Q0(e,n,[{provide:Nr,useValue:this},{provide:Al,useValue:this.componentFactoryResolver},...r],Dt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Vp=class extends ma{constructor(e){super(),this.moduleType=e}create(e){return new Lp(this.moduleType,e,[])}};var cl=class extends Nr{constructor(e){super(),this.componentFactoryResolver=new al(this),this.instance=null;let n=new oa([...e.providers,{provide:Nr,useValue:this},{provide:Al,useValue:this.componentFactoryResolver}],e.parent||ag(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Rl(t,e,n=null){return new cl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var xi=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new nt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zb(t){return rk(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function nk(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function rk(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Gb(t,e,n){return t[e]=n}function ik(t,e){return t[e]}function Dn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Wb(t,e,n,r){let i=Dn(t,e,n);return Dn(t,e+1,r)||i}function sk(t,e,n,r,i){let s=Wb(t,e,n,r);return Dn(t,e+2,i)||s}function ok(t){return(t.flags&32)===32}function ak(t,e,n,r,i,s,o,a,u){let l=e.consts,h=Dl(e,t,4,o||null,Zu(l,a));Db(e,n,h,Zu(l,u)),vg(e,h);let p=h.tView=Mg(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Be(t,e,n,r,i,s,o,a){let u=me(),l=pt(),h=t+ln,p=l.firstCreatePass?ak(h,l,u,e,n,r,i,s,o):l.data[h];Ia(p,!1);let m=ck(l,u,p,t);mg()&&xg(l,u,m,p),Di(m,u);let v=Sb(m,u,m,p);return u[h]=v,Tl(u,v),LO(v,p,u),ug(p)&&Ib(l,u,p),o!=null&&Eb(u,p,a),Be}var ck=uk;function uk(t,e,n,r){return yg(!0),e[ze].createComment("")}function Ml(t,e,n,r){let i=me(),s=Ls();if(Dn(i,s,e)){let o=pt(),a=_l();WP(a,i,t,e,n,r)}return Ml}function Kb(t,e,n,r){return Dn(t,Ls(),n)?e+Ss(n)+r:fn}function lk(t,e,n,r,i,s){let o=pN(),a=Wb(t,o,n,i);return M0(2),a?e+Ss(n)+r+Ss(i)+s:fn}function Uu(t,e){return t<<17|e<<2}function Si(t){return t>>17&32767}function dk(t){return(t&2)==2}function hk(t,e){return t&131071|e<<17}function jp(t){return t|2}function ks(t){return(t&131068)>>2}function Yf(t,e){return t&-131069|e<<2}function fk(t){return(t&1)===1}function Up(t){return t|1}function pk(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Si(o),u=ks(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||_a(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Si(t[a+1]);t[r+1]=Uu(m,a),m!==0&&(t[m+1]=Yf(t[m+1],r)),t[a+1]=hk(t[a+1],r)}else t[r+1]=Uu(a,0),a!==0&&(t[a+1]=Yf(t[a+1],r)),a=r;else t[r+1]=Uu(u,0),a===0?a=r:t[u+1]=Yf(t[u+1],r),u=r;l&&(t[r+1]=jp(t[r+1])),kE(t,h,r,!0),kE(t,h,r,!1),gk(e,h,t,r,s),o=Uu(a,u),s?e.classBindings=o:e.styleBindings=o}function gk(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&_a(s,e)>=0&&(n[r+1]=Up(n[r+1]))}function kE(t,e,n,r){let i=t[n+1],s=e===null,o=r?Si(i):ks(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];mk(u,e)&&(a=!0,t[o+1]=r?Up(l):jp(l)),o=r?Si(l):ks(l)}a&&(t[n+1]=r?jp(i):Up(i))}function mk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?_a(t,e)>=0:!1}function _e(t,e,n){let r=me(),i=Ls();if(Dn(r,i,e)){let s=pt(),o=_l();Ng(s,o,r,t,e,r[ze],n,!1)}return _e}function FE(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Pg(t,n,s[o],o,r)}function Nl(t,e){return yk(t,e,null,!0),Nl}function yk(t,e,n,r){let i=me(),s=pt(),o=M0(2);if(s.firstUpdatePass&&_k(s,t,o,r),e!==fn&&Dn(i,o,e)){let a=s.data[Or()];Dk(s,a,i,i[ze],t,i[o+1]=Tk(e,n),r,o)}}function vk(t,e){return e>=t.expandoStartIndex}function _k(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Or()],o=vk(t,n);Ck(s,r)&&e===null&&!o&&(e=!1),e=wk(i,s,e,r),pk(i,s,e,n,o,r)}}function wk(t,e,n,r){let i=_N(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Jf(null,t,e,n,r),n=ya(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Jf(i,t,e,n,r),s===null){let u=Ik(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Jf(null,t,e,u[1],r),u=ya(u,e.attrs,r),Ek(t,e,r,u))}else s=bk(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function Ik(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ks(r)!==0)return t[Si(r)]}function Ek(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Si(i)]=r}function bk(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ya(r,o,n)}return ya(r,e.attrs,n)}function Jf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ya(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ya(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),yM(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Dk(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=fk(l)?LE(u,e,n,i,ks(l),o):void 0;if(!ul(h)){ul(s)||dk(l)&&(s=LE(u,null,n,i,a,o));let p=D0(Or(),n);DP(r,o,p,i,s)}}function LE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===fn&&(m=p?Qt:void 0);let v=p?Uf(m,r):h===r?m:void 0;if(l&&!ul(v)&&(v=Uf(u,r)),ul(v)&&(a=v,o))return a;let S=t[i+1];i=o?Si(S):ks(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Uf(u,r))}return a}function ul(t){return t!==void 0}function Tk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Dt(Ea(t)))),t}function Ck(t,e){return(t.flags&(e?8:16))!==0}var Bp=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Zf(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function Sk(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let u=t.at(s),l=e[s],h=Zf(s,u,s,l,n);if(h!==0){h<0&&t.updateValue(s,l),s++;continue}let p=t.at(o),m=e[a],v=Zf(o,p,a,m,n);if(v!==0){v<0&&t.updateValue(o,m),o--,a--;continue}let S=n(s,u),R=n(o,p),x=n(s,l);if(Object.is(x,R)){let N=n(a,m);Object.is(N,S)?(t.swap(s,o),t.updateValue(o,m),a--,o--):t.move(o,s),t.updateValue(s,l),s++;continue}if(r??=new ll,i??=jE(t,s,o,n),$p(t,r,s,x))t.updateValue(s,l),s++,o++;else if(i.has(x))r.set(S,t.detach(s)),o--;else{let N=t.create(s,e[s]);t.attach(s,N),s++,o++}}for(;s<=a;)VE(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),u=a.next();for(;!u.done&&s<=o;){let l=t.at(s),h=u.value,p=Zf(s,l,s,h,n);if(p!==0)p<0&&t.updateValue(s,h),s++,u=a.next();else{r??=new ll,i??=jE(t,s,o,n);let m=n(s,h);if($p(t,r,s,m))t.updateValue(s,h),s++,o++,u=a.next();else if(!i.has(m))t.attach(s,t.create(s,h)),s++,o++,u=a.next();else{let v=n(s,l);r.set(v,t.detach(s)),o--}}}for(;!u.done;)VE(t,r,n,t.length,u.value),u=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function $p(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function VE(t,e,n,r,i){if($p(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function jE(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var ll=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function XW(t,e,n){js("NgControlFlow");let r=me(),i=Ls(),s=Gp(r,ln+t),o=0;if(Dn(r,i,e)){let a=ge(null);try{if(Ob(s,o),e!==-1){let u=Wp(r[oe],ln+e),l=pa(s,u.tView.ssrId),h=Cl(r,u,n,{dehydratedView:l});Sl(s,h,o,fa(u,l))}}finally{ge(a)}}else{let a=Pb(s,o);a!==void 0&&(a[lt]=n)}}var Hp=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-dt}};var qp=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function e9(t,e,n,r,i,s,o,a,u,l,h,p,m){js("NgControlFlow");let v=u!==void 0,S=me(),R=a?o.bind(S[un][lt]):o,x=new qp(v,R);S[ln+t]=x,Be(t+1,e,n,r,i,s),v&&Be(t+2,u,l,h,p,m)}var zp=class extends Bp{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-dt}at(e){return this.getLView(e)[lt].$implicit}attach(e,n){let r=n[aa];this.needsIndexUpdate||=e!==this.length,Sl(this.lContainer,n,e,fa(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Ak(this.lContainer,e)}create(e,n){let r=pa(this.lContainer,this.templateTNode.tView.ssrId);return Cl(this.hostLView,this.templateTNode,new Hp(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Il(e[oe],e)}updateValue(e,n){this.getLView(e)[lt].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[lt].$index=e}getLView(e){return xk(this.lContainer,e)}};function t9(t){let e=ge(null),n=Or();try{let r=me(),i=r[oe],s=r[n];if(s.liveCollection===void 0){let a=n+1,u=Gp(r,a),l=Wp(i,a);s.liveCollection=new zp(u,r,l)}else s.liveCollection.reset();let o=s.liveCollection;if(Sk(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=Ls(),u=o.length===0;if(Dn(r,a,u)){let l=n+2,h=Gp(r,l);if(u){let p=Wp(i,l),m=pa(h,p.tView.ssrId),v=Cl(r,p,void 0,{dehydratedView:m});Sl(h,v,0,fa(p,m))}else Ob(h,0)}}}finally{ge(e)}}function Gp(t,e){return t[e]}function Ak(t,e){return ha(t,e)}function xk(t,e){return Pb(t,e)}function Wp(t,e){return lg(t,e)}function Rk(t,e,n,r,i,s){let o=e.consts,a=Zu(o,i),u=Dl(e,t,2,r,a);return Db(e,n,u,Zu(o,s)),u.attrs!==null&&Ap(u,u.attrs,!1),u.mergedAttrs!==null&&Ap(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function V(t,e,n,r){let i=me(),s=pt(),o=ln+t,a=i[ze],u=s.firstCreatePass?Rk(o,s,i,e,n,r):s.data[o],l=Mk(s,i,u,a,e,t);i[o]=l;let h=ug(u);return Ia(u,!0),pb(a,l,u),!ok(u)&&mg()&&xg(s,i,l,u),oN()===0&&Di(l,i),aN(),h&&(Ib(s,i,u),wb(s,u,i)),r!==null&&Eb(i,u),V}function U(){let t=Mt();x0()?fN():(t=t.parent,Ia(t,!1));let e=t;lN(e)&&dN(),cN();let n=pt();return n.firstCreatePass&&(vg(n,t),_0(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&CN(e)&&FE(n,e,me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&SN(e)&&FE(n,e,me(),e.stylesWithoutHost,!1),U}function Cn(t,e,n,r){return V(t,e,n,r),U(),Cn}var Mk=(t,e,n,r,i,s)=>(yg(!0),cb(r,i,EN()));function en(){return me()}var dl="en-US";var Nk=dl;function Pk(t){typeof t=="string"&&(Nk=t.toLowerCase().replace(/_/g,"-"))}function ke(t,e,n,r){let i=me(),s=pt(),o=Mt();return Qb(s,i,i[ze],o,t,e,r),ke}function Ok(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[ca],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function Qb(t,e,n,r,i,s,o){let a=ug(r),l=t.firstCreatePass&&Rb(t),h=e[lt],p=xb(e),m=!0;if(r.type&3||o){let R=Zt(r,e),x=o?o(R):R,N=p.length,W=o?J=>o(En(J[r.index])):r.index,K=null;if(!o&&a&&(K=Ok(t,e,i,r.index)),K!==null){let J=K.__ngLastListenerFn__||K;J.__ngNextListenerFn__=s,K.__ngLastListenerFn__=s,m=!1}else{s=BE(r,e,h,s,!1);let J=n.listen(x,i,s);p.push(s,J),l&&l.push(i,W,N,N+1)}}else s=BE(r,e,h,s,!1);let v=r.outputs,S;if(m&&v!==null&&(S=v[i])){let R=S.length;if(R)for(let x=0;x<R;x+=2){let N=S[x],W=S[x+1],xe=e[N][W].subscribe(s),ie=p.length;p.push(s,xe),l&&l.push(i,r.index,ie,-(ie+1))}}}function UE(t,e,n,r){let i=ge(null);try{return _n(6,e,n),n(r)!==!1}catch(s){return Mb(t,s),!1}finally{_n(7,e,n),ge(i)}}function BE(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Pr(t.index,e):e;kg(a);let u=UE(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)u=UE(e,n,l,o)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&o.preventDefault(),u}}function Te(t=1){return IN(t)}function kk(t,e,n){return ba(t,"",e,"",n),kk}function ba(t,e,n,r,i){let s=me(),o=Kb(s,e,n,r);if(o!==fn){let a=pt(),u=_l();Ng(a,u,s,t,o,s[ze],i,!1)}return ba}function Bg(t,e,n){zO(t,e,n)}function Pl(t){let e=me(),n=pt(),r=N0();fg(r+1);let i=jg(n,r);if(t.dirty&&tN(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=KO(e,r);t.reset(s,UN),t.notifyOnChanges()}return!0}return!1}function Ol(){return HO(me(),N0())}function Y(t,e=""){let n=me(),r=pt(),i=t+ln,s=r.firstCreatePass?Dl(r,i,1,e,null):r.data[i],o=Fk(r,n,s,e,t);n[i]=o,mg()&&xg(r,n,o,s),Ia(s,!1)}var Fk=(t,e,n,r,i)=>(yg(!0),sP(e[ze],r));function it(t){return At("",t,""),it}function At(t,e,n){let r=me(),i=Kb(r,t,e,n);return i!==fn&&Nb(r,Or(),i),At}function kl(t,e,n,r,i){let s=me(),o=lk(s,t,e,n,r,i);return o!==fn&&Nb(s,Or(),o),kl}function Lk(t,e,n){qb(e)&&(e=e());let r=me(),i=Ls();if(Dn(r,i,e)){let s=pt(),o=_l();Ng(s,o,r,t,e,r[ze],n,!1)}return Lk}function n9(t,e){let n=qb(t);return n&&t.set(e),n}function Vk(t,e){let n=me(),r=pt(),i=Mt();return Qb(r,n,n[ze],i,t,e),Vk}function jk(t,e,n){let r=pt();if(r.firstCreatePass){let i=Mr(t);Kp(n,r.data,r.blueprint,i,!0),Kp(e,r.data,r.blueprint,i,!1)}}function Kp(t,e,n,r,i){if(t=bt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Kp(t[s],e,n,r,i);else{let s=pt(),o=me(),a=Mt(),u=Ms(t)?t:bt(t.provide),l=g0(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Ms(t)||!t.multi){let v=new Ei(l,i,j),S=ep(u,e,i?h:h+m,p);S===-1?(fp(tl(a,o),s,u),Xf(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[S]=v,o[S]=v)}else{let v=ep(u,e,h+m,p),S=ep(u,e,h,h+m),R=v>=0&&n[v],x=S>=0&&n[S];if(i&&!x||!i&&!R){fp(tl(a,o),s,u);let N=$k(i?Bk:Uk,n.length,i,r,l);!i&&x&&(n[S].providerFactory=N),Xf(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(N),o.push(N)}else{let N=Yb(n[i?S:v],l,!i&&r);Xf(s,t,v>-1?v:S,N)}!i&&r&&x&&n[S].componentProviders++}}}function Xf(t,e,n,r){let i=Ms(e),s=VM(e);if(i||s){let u=(s?bt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function Yb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ep(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Uk(t,e,n,r){return Qp(this.multi,[])}function Bk(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=bi(n,n[oe],this.providerFactory.index,r);s=a.slice(0,o),Qp(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Qp(i,s);return s}function Qp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function $k(t,e,n,r,i){let s=new Ei(t,n,j);return s.multi=[],s.index=e,s.componentProviders=0,Yb(s,i,r&&!n),s}function Sn(t,e=[]){return n=>{n.providersResolver=(r,i)=>jk(r,i?i(t):t,e)}}var Hk=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=h0(!1,r.type),s=i.length>0?Rl([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=$({token:e,providedIn:"environment",factory:()=>new e(G(ht))});let t=e;return t})();function Jb(t){js("NgStandalone"),t.getStandaloneInjector=e=>e.get(Hk).getOrCreateStandaloneInjector(t)}function r9(t,e,n){let r=R0()+t,i=me();return i[r]===fn?Gb(i,r,n?e.call(n):e()):ik(i,r)}function $g(t,e,n,r,i,s){return zk(me(),R0(),t,e,n,r,i,s)}function qk(t,e){let n=t[e];return n===fn?void 0:n}function zk(t,e,n,r,i,s,o,a){let u=e+n;return sk(t,u,i,s,o)?Gb(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):qk(t,u+3)}var Qn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Zb=new Qn("17.3.12"),Fl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Xb=new H("");function Ri(t){return!!t&&typeof t.then=="function"}function eD(t){return!!t&&typeof t.subscribe=="function"}var Ll=new H(""),tD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=O(Ll,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Ri(o))r.push(o);else if(eD(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Da=new H("");function Gk(){kI(()=>{throw new q(600,!1)})}function Wk(t){return t.isBoundToModule}function Kk(t,e,n){try{let r=n();return Ri(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Us=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(Y0),this.afterRenderEffectManager=O(Vg),this.externalTestViews=new Set,this.beforeRender=new ut,this.afterTick=new ut,this.componentTypes=[],this.components=[],this.isStable=O(xi).hasPendingTasks.pipe(X(r=>!r)),this._injector=O(ht)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof ol;if(!this._injector.get(tD).done){let v=!s&&c0(r),S=!1;throw new q(405,S)}let a;s?a=r:a=this._injector.get(Al).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=Wk(a)?void 0:this._injector.get(Nr),l=i||a.selector,h=a.create(gt.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(Xb,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),tp(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new q(101,!1);let i=ge(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,ge(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===Fb)throw new q(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:u}of this._views)Qk(a,o,u)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Yp(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Yp(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;tp(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Da,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>tp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new q(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Qk(t,e,n){!e&&!Yp(t)||Yk(t,n,e)}function Yp(t){return hg(t)}function Yk(t,e,n){let r;n?(r=0,t[ee]|=1024):t[ee]&64?r=0:r=1,Lb(t,e,r)}var Jp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Vl=(()=>{let e=class e{compileModuleSync(r){return new Vp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=u0(r),o=ab(s.declarations).reduce((a,u)=>{let l=Rr(u);return l&&a.push(new Os(l)),a},[]);return new Jp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Jk=(()=>{let e=class e{constructor(){this.zone=O(Ie),this.applicationRef=O(Us)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Zk(t){return[{provide:Ie,useFactory:t},{provide:Rs,multi:!0,useFactory:()=>{let e=O(Jk,{optional:!0});return()=>e.initialize()}},{provide:Rs,multi:!0,useFactory:()=>{let e=O(n1);return()=>{e.initialize()}}},{provide:Y0,useFactory:Xk}]}function Xk(){let t=O(Ie),e=O(bn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function e1(t){let e=Zk(()=>new Ie(t1(t)));return Jt([[],e])}function t1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var n1=(()=>{let e=class e{constructor(){this.subscription=new Ue,this.initialized=!1,this.zone=O(Ie),this.pendingTasks=O(xi)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function r1(){return typeof $localize<"u"&&$localize.locale||dl}var Hg=new H("",{providedIn:"root",factory:()=>O(Hg,de.Optional|de.SkipSelf)||r1()});var nD=new H("");var Gu=null;function i1(t=[],e){return gt.create({name:e,providers:[{provide:ml,useValue:"platform"},{provide:nD,useValue:new Set([()=>Gu=null])},...t]})}function s1(t=[]){if(Gu)return Gu;let e=i1(t);return Gu=e,Gk(),o1(e),e}function o1(t){t.get(bg,null)?.forEach(n=>n())}var er=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=a1;let t=e;return t})();function a1(t){return c1(Mt(),me(),(t&16)===16)}function c1(t,e,n){if(vl(t)&&!n){let r=Pr(t.index,e);return new Ti(r,r)}else if(t.type&47){let r=e[un];return new Ti(r,e)}return null}var Zp=class{constructor(){}supports(e){return zb(e)}create(e){return new Xp(e)}},u1=(t,e)=>e,Xp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||u1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<$E(r,i,s)?n:r,a=$E(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let v=m<s.length?s[m]:s[m]=0,S=v+m;h<=S&&S<l&&(s[m]=v+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!zb(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,nk(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new eg(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new hl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new hl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},eg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},tg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},hl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new tg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function $E(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function HE(){return new qg([new Zp])}var qg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||HE()),deps:[[e,new rg,new ft]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new q(901,!1)}};e.\u0275prov=$({token:e,providedIn:"root",factory:HE});let t=e;return t})();function rD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=s1(r),s=[e1(),...n||[]],a=new cl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Ie);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(bn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:v=>{l.handleError(v)}})});let p=()=>a.destroy(),m=i.get(nD);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),Kk(l,u,()=>{let v=a.get(tD);return v.runInitializers(),v.donePromise.then(()=>{let S=a.get(Hg,dl);Pk(S||dl);let R=a.get(Us);return e!==void 0&&R.bootstrap(e),R})})})}catch(e){return Promise.reject(e)}}function Mi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function iD(t){let e=Rr(t);if(!e)return null;let n=new Os(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var lD=null;function nr(){return lD}function dD(t){lD??=t}var jl=class{};var mt=new H(""),Yg=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>O(l1),providedIn:"platform"});let t=e;return t})(),hD=new H(""),l1=(()=>{let e=class e extends Yg{constructor(){super(),this._doc=O(mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nr().getBaseHref(this._doc)}onPopState(r){let i=nr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=nr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Jg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function sD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function tr(t){return t&&t[0]!=="?"?"?"+t:t}var rr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>O(Zg),providedIn:"root"});let t=e;return t})(),fD=new H(""),Zg=(()=>{let e=class e extends rr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Jg(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+tr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+tr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+tr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(G(Yg),G(fD,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pD=(()=>{let e=class e extends rr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Jg(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+tr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+tr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(G(Yg),G(fD,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),$s=(()=>{let e=class e{constructor(r){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=f1(sD(oD(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+tr(i))}normalize(r){return e.stripTrailingSlash(h1(this._basePath,oD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+tr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+tr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=tr,e.joinWithSlash=Jg,e.stripTrailingSlash=sD,e.\u0275fac=function(i){return new(i||e)(G(rr))},e.\u0275prov=$({token:e,factory:()=>d1(),providedIn:"root"});let t=e;return t})();function d1(){return new $s(G(rr))}function h1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function oD(t){return t.replace(/\/index.html$/,"")}function f1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Ul(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var zg=/\s+/,aD=[],gD=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=aD,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(zg):aD}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(zg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(zg).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(j(Vt),j(Xn))},e.\u0275dir=Oe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Ve.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Gg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Hs=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Gg(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),cD(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);cD(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(j(Fr),j(Ci),j(qg))},e.\u0275dir=Oe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function cD(t,e){t.context.$implicit=e.item}var Lr=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Wg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){uD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){uD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(j(Fr),j(Ci))},e.\u0275dir=Oe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Wg=class{constructor(){this.$implicit=null,this.ngIf=null}};function uD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Dt(e)}'.`)}var Xg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ct({type:e}),e.\u0275inj=Tt({});let t=e;return t})(),em="browser",p1="server";function g1(t){return t===em}function Bl(t){return t===p1}var mD=(()=>{let e=class e{};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>g1(O(Xt))?new Kg(O(mt),window):new Qg});let t=e;return t})(),Kg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=m1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function m1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Qg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Bs=class{};var Ca=class{},Hl=class{},Ni=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var nm=class{encodeKey(e){return yD(e)}encodeValue(e){return yD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function _1(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var w1=/%(\d[a-f0-9])/gi,I1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yD(t){return encodeURIComponent(t).replace(w1,(e,n)=>I1[n]??e)}function $l(t){return`${t}`}var Vr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new nm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=_1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map($l):[$l(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push($l(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf($l(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var rm=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function E1(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function vD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function _D(t){return typeof Blob<"u"&&t instanceof Blob}function wD(t){return typeof FormData<"u"&&t instanceof FormData}function b1(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ta=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(E1(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Ni,this.context??=new rm,!this.params)this.params=new Vr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||vD(this.body)||_D(this.body)||wD(this.body)||b1(this.body)?this.body:this.body instanceof Vr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||wD(this.body)?null:_D(this.body)?this.body.type||null:vD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Vr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,v)=>m.set(v,e.setHeaders[v]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,v)=>m.set(v,e.setParams[v]),h)),new t(n,r,o,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},zs=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(zs||{}),Sa=class{constructor(e,n=Gl.Ok,r="OK"){this.headers=e.headers||new Ni,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},im=class t extends Sa{constructor(e={}){super(e),this.type=zs.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ql=class t extends Sa{constructor(e={}){super(e),this.type=zs.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},zl=class extends Sa{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Gl=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Gl||{});function tm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Aa=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Ta)o=r;else{let l;s.headers instanceof Ni?l=s.headers:l=new Ni(s.headers);let h;s.params&&(s.params instanceof Vr?h=s.params:h=new Vr({fromObject:s.params})),o=new Ta(r,i,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=Z(o).pipe(zn(l=>this.handler.handle(l)));if(r instanceof Ta||s.observe==="events")return a;let u=a.pipe(Et(l=>l instanceof ql));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(X(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(X(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(X(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(X(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Vr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,tm(s,i))}post(r,i,s={}){return this.request("POST",r,tm(s,i))}put(r,i,s={}){return this.request("PUT",r,tm(s,i))}};e.\u0275fac=function(i){return new(i||e)(G(Ca))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function DD(t,e){return e(t)}function D1(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function T1(t,e,n){return(r,i)=>dn(n,()=>e(r,s=>t(s,i)))}var C1=new H(""),sm=new H(""),S1=new H(""),A1=new H("");function x1(){let t=null;return(e,n)=>{t===null&&(t=(O(C1,{optional:!0})??[]).reduceRight(D1,DD));let r=O(xi),i=r.add();return t(e,n).pipe(Sr(()=>r.remove(i)))}}var ID=(()=>{let e=class e extends Ca{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=O(xi);let s=O(A1,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(sm),...this.injector.get(S1,[])]));this.chain=s.reduceRight((o,a)=>T1(o,a,this.injector),DD)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Sr(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(G(Hl),G(ht))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();var R1=/^\)\]\}',?\n/;function M1(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var ED=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new q(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Re(i.\u0275loadImpl()):Z(null)).pipe(Rt(()=>new le(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((x,N)=>a.setRequestHeader(x,N.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let x=r.detectContentTypeHeader();x!==null&&a.setRequestHeader("Content-Type",x)}if(r.responseType){let x=r.responseType.toLowerCase();a.responseType=x!=="json"?x:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let x=a.statusText||"OK",N=new Ni(a.getAllResponseHeaders()),W=M1(a)||r.url;return l=new im({headers:N,status:a.status,statusText:x,url:W}),l},p=()=>{let{headers:x,status:N,statusText:W,url:K}=h(),J=null;N!==Gl.NoContent&&(J=typeof a.response>"u"?a.responseText:a.response),N===0&&(N=J?Gl.Ok:0);let xe=N>=200&&N<300;if(r.responseType==="json"&&typeof J=="string"){let ie=J;J=J.replace(R1,"");try{J=J!==""?JSON.parse(J):null}catch(b){J=ie,xe&&(xe=!1,J={error:b,text:J})}}xe?(o.next(new ql({body:J,headers:x,status:N,statusText:W,url:K||void 0})),o.complete()):o.error(new zl({error:J,headers:x,status:N,statusText:W,url:K||void 0}))},m=x=>{let{url:N}=h(),W=new zl({error:x,status:a.status||0,statusText:a.statusText||"Unknown Error",url:N||void 0});o.error(W)},v=!1,S=x=>{v||(o.next(h()),v=!0);let N={type:zs.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(N.total=x.total),r.responseType==="text"&&a.responseText&&(N.partialText=a.responseText),o.next(N)},R=x=>{let N={type:zs.UploadProgress,loaded:x.loaded};x.lengthComputable&&(N.total=x.total),o.next(N)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",S),u!==null&&a.upload&&a.upload.addEventListener("progress",R)),a.send(u),o.next({type:zs.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",S),u!==null&&a.upload&&a.upload.removeEventListener("progress",R)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(G(Bs))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),TD=new H(""),N1="XSRF-TOKEN",P1=new H("",{providedIn:"root",factory:()=>N1}),O1="X-XSRF-TOKEN",k1=new H("",{providedIn:"root",factory:()=>O1}),Wl=class{},F1=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ul(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(G(mt),G(Xt),G(P1))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function L1(t,e){let n=t.url.toLowerCase();if(!O(TD)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=O(Wl).getToken(),i=O(k1);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var CD=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(CD||{});function V1(t,e){return{\u0275kind:t,\u0275providers:e}}function j1(...t){let e=[Aa,ED,ID,{provide:Ca,useExisting:ID},{provide:Hl,useExisting:ED},{provide:sm,useValue:L1,multi:!0},{provide:TD,useValue:!0},{provide:Wl,useClass:F1}];for(let n of t)e.push(...n.\u0275providers);return Jt(e)}var bD=new H("");function U1(){return V1(CD.LegacyInterceptors,[{provide:bD,useFactory:x1},{provide:sm,useExisting:bD,multi:!0}])}var SD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ct({type:e}),e.\u0275inj=Tt({providers:[j1(U1())]});let t=e;return t})();var cm=class extends jl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},um=class t extends cm{static makeCurrent(){dD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=$1();return n==null?null:H1(n)}resetBaseElement(){xa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ul(document.cookie,e)}},xa=null;function $1(){return xa=xa||document.querySelector("base"),xa?xa.getAttribute("href"):null}function H1(t){return new URL(t,document.baseURI).pathname}var q1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),lm=new H(""),MD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new q(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(G(lm),G(Ie))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Kl=class{constructor(e){this._doc=e}},om="ng-app-id",ND=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Bl(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${om}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(om),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(om,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(G(mt),G(Eg),G(Dg,8),G(Xt))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),am={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hm=/%COMP%/g,PD="%COMP%",z1=`_nghost-${PD}`,G1=`_ngcontent-${PD}`,W1=!0,K1=new H("",{providedIn:"root",factory:()=>W1});function Q1(t){return G1.replace(hm,t)}function Y1(t){return z1.replace(hm,t)}function OD(t,e){return e.map(n=>n.replace(hm,t))}var AD=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Bl(u),this.defaultRenderer=new Ra(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===In.ShadowDom&&(i=De(F({},i),{encapsulation:In.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Ql?s.applyToHost(r):s instanceof Ma&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case In.Emulated:o=new Ql(l,h,i,this.appId,p,a,u,m);break;case In.ShadowDom:return new dm(l,h,r,i,a,u,this.nonce,m);default:o=new Ma(l,h,i,p,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(G(MD),G(ND),G(Eg),G(K1),G(mt),G(Xt),G(Ie),G(Dg))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Ra=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(am[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(xD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(xD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=am[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=am[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Kn.DashCase|Kn.Important)?e.style.setProperty(n,r,i&Kn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Kn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=nr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function xD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var dm=class extends Ra{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=OD(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ma=class extends Ra{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?OD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ql=class extends Ma{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=Q1(l),this.hostAttr=Y1(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},J1=(()=>{let e=class e extends Kl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(G(mt))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),RD=["alt","control","meta","shift"],Z1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},X1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},eF=(()=>{let e=class e extends Kl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),RD.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=Z1[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),RD.forEach(a=>{if(a!==s){let u=X1[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(G(mt))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function u6(t,e){return rD(F({rootComponent:t},tF(e)))}function tF(t){return{appProviders:[...oF,...t?.providers??[]],platformProviders:sF}}function nF(){um.makeCurrent()}function rF(){return new bn}function iF(){return nb(document),document}var sF=[{provide:Xt,useValue:em},{provide:bg,useValue:nF,multi:!0},{provide:mt,useFactory:iF,deps:[]}];var oF=[{provide:ml,useValue:"root"},{provide:bn,useFactory:rF,deps:[]},{provide:lm,useClass:J1,multi:!0,deps:[mt,Ie,Xt]},{provide:lm,useClass:eF,multi:!0,deps:[mt]},AD,ND,MD,{provide:ga,useExisting:AD},{provide:Bs,useClass:q1,deps:[]},[]];var kD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(G(mt))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ce="primary",Wa=Symbol("RouteTitle"),ym=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ys(t){return new ym(t)}function cF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function uF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!An(t[n],e[n]))return!1;return!0}function An(t,e){let n=t?vm(t):void 0,r=e?vm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!qD(t[i],e[i]))return!1;return!0}function vm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function qD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function zD(t){return t.length>0?t[t.length-1]:null}function Hr(t){return kf(t)?t:Ri(t)?Re(Promise.resolve(t)):Z(t)}var lF={exact:WD,subset:KD},GD={exact:dF,subset:hF,ignored:()=>!0};function FD(t,e,n){return lF[n.paths](t.root,e.root,n.matrixParams)&&GD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function dF(t,e){return An(t,e)}function WD(t,e,n){if(!Oi(t.segments,e.segments)||!Zl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!WD(t.children[r],e.children[r],n))return!1;return!0}function hF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>qD(t[n],e[n]))}function KD(t,e,n){return QD(t,e,e.segments,n)}function QD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Oi(i,n)||e.hasChildren()||!Zl(i,n,r))}else if(t.segments.length===n.length){if(!Oi(t.segments,n)||!Zl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!KD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Oi(t.segments,i)||!Zl(t.segments,i,r)||!t.children[ce]?!1:QD(t.children[ce],e,s,r)}}function Zl(t,e,n){return e.every((r,i)=>GD[n](t[i].parameters,r.parameters))}var jr=class{constructor(e=new be([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ys(this.queryParams),this._queryParamMap}toString(){return gF.serialize(this)}},be=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xl(this)}},Pi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ys(this.parameters),this._parameterMap}toString(){return JD(this)}};function fF(t,e){return Oi(t,e)&&t.every((n,r)=>An(n.parameters,e[r].parameters))}function Oi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function pF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}var Ka=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>new Va,providedIn:"root"});let t=e;return t})(),Va=class{parse(e){let n=new wm(e);return new jr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Na(e.root,!0)}`,r=vF(e.queryParams),i=typeof e.fragment=="string"?`#${mF(e.fragment)}`:"";return`${n}${r}${i}`}},gF=new Va;function Xl(t){return t.segments.map(e=>JD(e)).join("/")}function Na(t,e){if(!t.hasChildren())return Xl(t);if(e){let n=t.children[ce]?Na(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ce&&r.push(`${i}:${Na(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=pF(t,(r,i)=>i===ce?[Na(t.children[ce],!1)]:[`${i}:${Na(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ce]!=null?`${Xl(t)}/${n[0]}`:`${Xl(t)}/(${n.join("//")})`}}function YD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yl(t){return YD(t).replace(/%3B/gi,";")}function mF(t){return encodeURI(t)}function _m(t){return YD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ed(t){return decodeURIComponent(t)}function LD(t){return ed(t.replace(/\+/g,"%20"))}function JD(t){return`${_m(t.path)}${yF(t.parameters)}`}function yF(t){return Object.entries(t).map(([e,n])=>`;${_m(e)}=${_m(n)}`).join("")}function vF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Yl(n)}=${Yl(i)}`).join("&"):`${Yl(n)}=${Yl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var _F=/^[^\/()?;#]+/;function fm(t){let e=t.match(_F);return e?e[0]:""}var wF=/^[^\/()?;=#]+/;function IF(t){let e=t.match(wF);return e?e[0]:""}var EF=/^[^=?&#]+/;function bF(t){let e=t.match(EF);return e?e[0]:""}var DF=/^[^&#]+/;function TF(t){let e=t.match(DF);return e?e[0]:""}var wm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new be(e,n)),r}parseSegment(){let e=fm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new Pi(ed(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=IF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=fm(this.remaining);i&&(r=i,this.capture(r))}e[ed(n)]=ed(r)}parseQueryParam(e){let n=bF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=TF(this.remaining);o&&(r=o,this.capture(r))}let i=LD(n),s=LD(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=fm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new q(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ce);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ce]:new be([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function ZD(t){return t.segments.length>0?new be([],{[ce]:t}):t}function XD(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=XD(i);if(r===ce&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new be(t.segments,e);return CF(n)}function CF(t){if(t.numberOfChildren===1&&t.children[ce]){let e=t.children[ce];return new be(t.segments.concat(e.segments),e.children)}return t}function Js(t){return t instanceof jr}function SF(t,e,n=null,r=null){let i=eT(t);return tT(i,e,n,r)}function eT(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new be(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=ZD(r);return e??i}function tT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return pm(i,i,i,n,r);let s=AF(e);if(s.toRoot())return pm(i,i,new be([],{}),n,r);let o=xF(s,i,t),a=o.processChildren?ka(o.segmentGroup,o.index,s.commands):rT(o.segmentGroup,o.index,s.commands);return pm(i,o.segmentGroup,a,n,r)}function td(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ja(t){return typeof t=="object"&&t!=null&&t.outlets}function pm(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=nT(t,e,n);let a=ZD(XD(o));return new jr(a,s,i)}function nT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=nT(s,e,n)}),new be(t.segments,r)}var nd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&td(r[0]))throw new q(4003,!1);let i=r.find(ja);if(i&&i!==zD(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function AF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new nd(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new nd(n,e,r)}var Ks=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function xF(t,e,n){if(t.isAbsolute)return new Ks(e,!0,0);if(!n)return new Ks(e,!1,NaN);if(n.parent===null)return new Ks(n,!0,0);let r=td(t.commands[0])?0:1,i=n.segments.length-1+r;return RF(n,i,t.numberOfDoubleDots)}function RF(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new Ks(r,!1,i-s)}function MF(t){return ja(t[0])?t[0].outlets:{[ce]:t}}function rT(t,e,n){if(t??=new be([],{}),t.segments.length===0&&t.hasChildren())return ka(t,e,n);let r=NF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new be(t.segments.slice(0,r.pathIndex),{});return s.children[ce]=new be(t.segments.slice(r.pathIndex),t.children),ka(s,0,i)}else return r.match&&i.length===0?new be(t.segments,{}):r.match&&!t.hasChildren()?Im(t,e,n):r.match?ka(t,0,i):Im(t,e,n)}function ka(t,e,n){if(n.length===0)return new be(t.segments,{});{let r=MF(n),i={};if(Object.keys(r).some(s=>s!==ce)&&t.children[ce]&&t.numberOfChildren===1&&t.children[ce].segments.length===0){let s=ka(t.children[ce],e,n);return new be(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=rT(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new be(t.segments,i)}}function NF(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ja(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!jD(u,l,o))return s;r+=2}else{if(!jD(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Im(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ja(s)){let u=PF(s.outlets);return new be(r,u)}if(i===0&&td(n[0])){let u=t.segments[e];r.push(new Pi(u.path,VD(n[0]))),i++;continue}let o=ja(s)?s.outlets[ce]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&td(a)?(r.push(new Pi(o,VD(a))),i+=2):(r.push(new Pi(o,{})),i++)}return new be(r,{})}function PF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Im(new be([],{}),0,r))}),e}function VD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function jD(t,e,n){return t==n.path&&An(e,n.parameters)}var Fa="imperative",Je=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Je||{}),tn=class{constructor(e,n){this.id=e,this.url=n}},Zs=class extends tn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Je.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},xn=class extends tn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Je.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ut=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ut||{}),rd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(rd||{}),Ur=class extends tn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Je.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Br=class extends tn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Je.NavigationSkipped}},Ua=class extends tn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Je.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},id=class extends tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Em=class extends tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bm=class extends tn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Je.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Dm=class extends tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tm=class extends tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cm=class{constructor(e){this.route=e,this.type=Je.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sm=class{constructor(e){this.route=e,this.type=Je.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Am=class{constructor(e){this.snapshot=e,this.type=Je.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xm=class{constructor(e){this.snapshot=e,this.type=Je.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rm=class{constructor(e){this.snapshot=e,this.type=Je.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mm=class{constructor(e){this.snapshot=e,this.type=Je.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sd=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Je.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ba=class{},$a=class{constructor(e){this.url=e}};var Nm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Qa,this.attachRef=null}},Qa=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Nm,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),od=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Pm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Pm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Om(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Om(e,this._root).map(n=>n.value)}};function Pm(t,e){if(t===e.value)return e;for(let n of e.children){let r=Pm(t,n);if(r)return r}return null}function Om(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Om(t,n);if(r.length)return r.unshift(e),r}return[]}var jt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ws(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ad=class extends od{constructor(e,n){super(e),this.snapshot=n,qm(this,e)}toString(){return this.snapshot.toString()}};function iT(t){let e=OF(t),n=new nt([new Pi("",{})]),r=new nt({}),i=new nt({}),s=new nt({}),o=new nt(""),a=new $r(n,r,s,o,i,ce,t,e.root);return a.snapshot=e.root,new ad(new jt(a,[]),e)}function OF(t){let e={},n={},r={},i="",s=new Ha([],e,r,i,n,ce,t,null,{});return new cd("",new jt(s,[]))}var $r=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(X(l=>l[Wa]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>Ys(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>Ys(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Hm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&oT(i)&&(r.resolve[Wa]=i.title),r}var Ha=class{get title(){return this.data?.[Wa]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ys(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ys(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},cd=class extends od{constructor(e,n){super(n),this.url=e,qm(this,n)}toString(){return sT(this._root)}};function qm(t,e){e.value._routerState=t,e.children.forEach(n=>qm(t,n))}function sT(t){let e=t.children.length>0?` { ${t.children.map(sT).join(", ")} } `:"";return`${t.value}${e}`}function gm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,An(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),An(e.params,n.params)||t.paramsSubject.next(n.params),uF(e.url,n.url)||t.urlSubject.next(n.url),An(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function km(t,e){let n=An(t.params,e.params)&&fF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||km(t.parent,e.parent))}function oT(t){return typeof t.title=="string"||t.title===null}var kF=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=O(Qa),this.location=O(Fr),this.changeDetector=O(er),this.environmentInjector=O(ht),this.inputBinder=O(hd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Fm(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Oe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Zn]});let t=e;return t})(),Fm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===$r?this.route:e===Qa?this.childContexts:this.parent.get(e,n)}},hd=new H(""),UD=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=na([i.queryParams,i.params,i.data]).pipe(Rt(([o,a,u],l)=>(u=F(F(F({},o),a),u),l===0?Z(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=iD(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function FF(t,e,n){let r=qa(t,e._root,n?n._root:void 0);return new ad(r,e)}function qa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=LF(t,e,n);return new jt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>qa(t,a)),o}}let r=VF(e.value),i=e.children.map(s=>qa(t,s));return new jt(r,i)}}function LF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return qa(t,r,i);return qa(t,r)})}function VF(t){return new $r(new nt(t.url),new nt(t.params),new nt(t.queryParams),new nt(t.fragment),new nt(t.data),t.outlet,t.component,t)}var aT="ngNavigationCancelingError";function cT(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Js(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=uT(!1,Ut.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function uT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[aT]=!0,n.cancellationCode=e,n}function jF(t){return lT(t)&&Js(t.url)}function lT(t){return!!t&&t[aT]}var UF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Tn({type:e,selectors:[["ng-component"]],standalone:!0,features:[Jb],decls:1,vars:0,template:function(i,s){i&1&&Cn(0,"router-outlet")},dependencies:[kF],encapsulation:2});let t=e;return t})();function BF(t,e){return t.providers&&!t._injector&&(t._injector=Rl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function zm(t){let e=t.children&&t.children.map(zm),n=e?De(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=UF),n}function Rn(t){return t.outlet||ce}function $F(t,e){let n=t.filter(r=>Rn(r)===e);return n.push(...t.filter(r=>Rn(r)!==e)),n}function Ya(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var HF=(t,e,n,r)=>X(i=>(new Lm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Lm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),gm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ws(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ws(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ws(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ws(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Mm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new xm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(gm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),gm(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Ya(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},ud=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Qs=class{constructor(e,n){this.component=e,this.route=n}};function qF(t,e,n){let r=t._root,i=e?e._root:null;return Pa(r,i,n,[r.value])}function zF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function eo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!WE(t)?t:e.get(t):r}function Pa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ws(e);return t.children.forEach(o=>{GF(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>La(a,n.getContext(o),i)),i}function GF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=WF(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ud(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Pa(t,e,a?a.children:null,r,i):Pa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qs(a.outlet.component,o))}else o&&La(e,a,i),i.canActivateChecks.push(new ud(r)),s.component?Pa(t,null,a?a.children:null,r,i):Pa(t,null,n,r,i);return i}function WF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Oi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Oi(t.url,e.url)||!An(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!km(t,e)||!An(t.queryParams,e.queryParams);case"paramsChange":default:return!km(t,e)}}function La(t,e,n){let r=Ws(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?La(o,e.children.getContext(s),n):La(o,null,n):La(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Qs(e.outlet.component,i)):n.canDeactivateChecks.push(new Qs(null,i)):n.canDeactivateChecks.push(new Qs(null,i))}function Ja(t){return typeof t=="function"}function KF(t){return typeof t=="boolean"}function QF(t){return t&&Ja(t.canLoad)}function YF(t){return t&&Ja(t.canActivate)}function JF(t){return t&&Ja(t.canActivateChild)}function ZF(t){return t&&Ja(t.canDeactivate)}function XF(t){return t&&Ja(t.canMatch)}function dT(t){return t instanceof qn||t?.name==="EmptyError"}var Jl=Symbol("INITIAL_VALUE");function Xs(){return Rt(t=>na(t.map(e=>e.pipe(Gn(1),Fu(Jl)))).pipe(X(e=>{for(let n of e)if(n!==!0){if(n===Jl)return Jl;if(n===!1||n instanceof jr)return n}return!0}),Et(e=>e!==Jl),Gn(1)))}function eL(t,e){return He(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Z(De(F({},n),{guardsResult:!0})):tL(o,r,i,t).pipe(He(a=>a&&KF(a)?nL(r,s,t,e):Z(a)),X(a=>De(F({},n),{guardsResult:a})))})}function tL(t,e,n,r){return Re(t).pipe(He(i=>aL(i.component,i.route,n,e,r)),vn(i=>i!==!0,!0))}function nL(t,e,n,r){return Re(e).pipe(zn(i=>_s(iL(i.route.parent,r),rL(i.route,r),oL(t,i.path,n),sL(t,i.route,n))),vn(i=>i!==!0,!0))}function rL(t,e){return t!==null&&e&&e(new Rm(t)),Z(!0)}function iL(t,e){return t!==null&&e&&e(new Am(t)),Z(!0)}function sL(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(s=>Pu(()=>{let o=Ya(e)??n,a=eo(s,o),u=YF(a)?a.canActivate(e,t):dn(o,()=>a(e,t));return Hr(u).pipe(vn())}));return Z(i).pipe(Xs())}function oL(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>zF(o)).filter(o=>o!==null).map(o=>Pu(()=>{let a=o.guards.map(u=>{let l=Ya(o.node)??n,h=eo(u,l),p=JF(h)?h.canActivateChild(r,t):dn(l,()=>h(r,t));return Hr(p).pipe(vn())});return Z(a).pipe(Xs())}));return Z(s).pipe(Xs())}function aL(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Z(!0);let o=s.map(a=>{let u=Ya(e)??i,l=eo(a,u),h=ZF(l)?l.canDeactivate(t,e,n,r):dn(u,()=>l(t,e,n,r));return Hr(h).pipe(vn())});return Z(o).pipe(Xs())}function cL(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let s=i.map(o=>{let a=eo(o,t),u=QF(a)?a.canLoad(e,n):dn(t,()=>a(e,n));return Hr(u)});return Z(s).pipe(Xs(),hT(r))}function hT(t){return pu(qe(e=>{if(Js(e))throw cT(t,e)}),X(e=>e===!0))}function uL(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let s=i.map(o=>{let a=eo(o,t),u=XF(a)?a.canMatch(e,n):dn(t,()=>a(e,n));return Hr(u)});return Z(s).pipe(Xs(),hT(r))}var za=class{constructor(e){this.segmentGroup=e||null}},ld=class extends Error{constructor(e){super(),this.urlTree=e}};function Gs(t){return ys(new za(t))}function lL(t){return ys(new q(4e3,!1))}function dL(t){return ys(uT(!1,Ut.GuardRejected))}var Vm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[ce])return lL(e.redirectTo);i=i.children[ce]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new ld(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new jr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new be(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},jm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hL(t,e,n,r,i){let s=Gm(t,e,n);return s.matched?(r=BF(e,r),uL(r,e,n,i).pipe(X(o=>o===!0?s:F({},jm)))):Z(s)}function Gm(t,e,n){if(e.path==="**")return fL(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},jm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||cF)(n,t,e);if(!i)return F({},jm);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?F(F({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function fL(t){return{matched:!0,parameters:t.length>0?zD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function BD(t,e,n,r){return n.length>0&&mL(t,n,r)?{segmentGroup:new be(e,gL(r,new be(n,t.children))),slicedSegments:[]}:n.length===0&&yL(t,n,r)?{segmentGroup:new be(t.segments,pL(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new be(t.segments,t.children),slicedSegments:n}}function pL(t,e,n,r){let i={};for(let s of n)if(fd(t,e,s)&&!r[Rn(s)]){let o=new be([],{});i[Rn(s)]=o}return F(F({},r),i)}function gL(t,e){let n={};n[ce]=e;for(let r of t)if(r.path===""&&Rn(r)!==ce){let i=new be([],{});n[Rn(r)]=i}return n}function mL(t,e,n){return n.some(r=>fd(t,e,r)&&Rn(r)!==ce)}function yL(t,e,n){return n.some(r=>fd(t,e,r))}function fd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function vL(t,e,n,r){return Rn(t)!==r&&(r===ce||!fd(e,n,t))?!1:Gm(e,t,n).matched}function _L(t,e,n){return e.length===0&&!t.children[n]}var Um=class{};function wL(t,e,n,r,i,s,o="emptyOnly"){return new Bm(t,e,n,r,i,o,s).recognize()}var IL=31,Bm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Vm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){let e=BD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(n=>{let r=new Ha([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,{},ce,this.rootComponentType,null,{}),i=new jt(r,n),s=new cd("",i),o=SF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ce).pipe(Tr(r=>{if(r instanceof ld)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof za?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Hm(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(X(s=>s instanceof jt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Re(i).pipe(zn(s=>{let o=r.children[s],a=$F(n,s);return this.processSegmentGroup(e,a,o,s)}),ku((s,o)=>(s.push(...o),s)),Cr(null),Vf(),He(s=>{if(s===null)return Gs(r);let o=fT(s);return EL(o),Z(o)}))}processSegment(e,n,r,i,s,o){return Re(n).pipe(zn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Tr(u=>{if(u instanceof za)return Z(null);throw u}))),vn(a=>!!a),Tr(a=>{if(dT(a))return _L(r,i,s)?Z(new Um):Gs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return vL(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Gs(i):Gs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=Gm(n,i,s);if(!a)return Gs(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>IL&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(He(m=>this.processSegment(e,r,n,m.concat(h),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=hL(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Rt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Rt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:m}=a,v=new Ha(h,m,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,DL(r),Rn(r),r.component??r._loadedComponent??null,r,TL(r)),{segmentGroup:S,slicedSegments:R}=BD(n,h,p,u);if(R.length===0&&S.hasChildren())return this.processChildren(l,u,S).pipe(X(N=>N===null?null:new jt(v,N)));if(u.length===0&&R.length===0)return Z(new jt(v,[]));let x=Rn(r)===s;return this.processSegment(l,u,S,R,x?ce:s,!0).pipe(X(N=>new jt(v,N instanceof jt?[N]:[])))}))):Gs(n)))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):cL(e,n,r,this.urlSerializer).pipe(He(i=>i?this.configLoader.loadChildren(e,n).pipe(qe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):dL(n))):Z({routes:[],injector:e})}};function EL(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}function bL(t){let e=t.value.routeConfig;return e&&e.path===""}function fT(t){let e=[],n=new Set;for(let r of t){if(!bL(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=fT(r.children);e.push(new jt(r.value,i))}return e.filter(r=>!n.has(r))}function DL(t){return t.data||{}}function TL(t){return t.resolve||{}}function CL(t,e,n,r,i,s){return He(o=>wL(t,e,n,r,o.extractedUrl,i,s).pipe(X(({state:a,tree:u})=>De(F({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function SL(t,e){return He(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of pT(u))o.add(l);let a=0;return Re(o).pipe(zn(u=>s.has(u)?AL(u,r,t,e):(u.data=Hm(u,u.parent,t).resolve,Z(void 0))),qe(()=>a++),ws(1),He(u=>a===o.size?Z(n):kt))})}function pT(t){let e=t.children.map(n=>pT(n)).flat();return[t,...e]}function AL(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!oT(i)&&(s[Wa]=i.title),xL(s,t,e,r).pipe(X(o=>(t._resolvedData=o,t.data=Hm(t,t.parent,n).resolve,null)))}function xL(t,e,n,r){let i=vm(t);if(i.length===0)return Z({});let s={};return Re(i).pipe(He(o=>RL(t[o],e,n,r).pipe(vn(),qe(a=>{s[o]=a}))),ws(1),Lf(s),Tr(o=>dT(o)?kt:ys(o)))}function RL(t,e,n,r){let i=Ya(e)??r,s=eo(t,i),o=s.resolve?s.resolve(e,n):dn(i,()=>s(e,n));return Hr(o)}function mm(t){return Rt(e=>{let n=t(e);return n?Re(n).pipe(X(()=>e)):Z(e)})}var gT=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ce);return i}getResolvedTitleForRoute(r){return r.data[Wa]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>O(ML),providedIn:"root"});let t=e;return t})(),ML=(()=>{let e=class e extends gT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(G(kD))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Za=new H("",{providedIn:"root",factory:()=>({})}),Ga=new H(""),Wm=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(Vl)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Hr(r.loadComponent()).pipe(X(mT),qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Sr(()=>{this.componentLoaders.delete(r)})),s=new fs(i,()=>new ut).pipe(hs());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=NL(i,this.compiler,r,this.onLoadEndListener).pipe(Sr(()=>{this.childrenLoaders.delete(i)})),a=new fs(o,()=>new ut).pipe(hs());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NL(t,e,n,r){return Hr(t.loadChildren()).pipe(X(mT),He(i=>i instanceof ma||Array.isArray(i)?Z(i):Re(e.compileModuleAsync(i))),X(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Ga,[],{optional:!0,self:!0}).flat()),{routes:o.map(zm),injector:s}}))}function PL(t){return t&&typeof t=="object"&&"default"in t}function mT(t){return PL(t)?t.default:t}var Km=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>O(OL),providedIn:"root"});let t=e;return t})(),OL=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yT=new H(""),vT=new H("");function kL(t,e,n){let r=t.get(vT),i=t.get(mt);return t.get(Ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),FL(t))),{onViewTransitionCreated:u}=r;return u&&dn(t,()=>u({transition:a,from:e,to:n})),o})}function FL(t){return new Promise(e=>{xl(e,{injector:t})})}var Qm=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ut,this.transitionAbortSubject=new ut,this.configLoader=O(Wm),this.environmentInjector=O(ht),this.urlSerializer=O(Ka),this.rootContexts=O(Qa),this.location=O($s),this.inputBindingEnabled=O(hd,{optional:!0})!==null,this.titleStrategy=O(gT),this.options=O(Za,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(Km),this.createViewTransition=O(yT,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Cm(s)),i=s=>this.events.next(new Sm(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(De(F(F({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new nt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fa,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Et(o=>o.id!==0),X(o=>De(F({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Rt(o=>{let a=!1,u=!1;return Z(o).pipe(Rt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ut.SupersededByNewNavigation),kt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?De(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new Br(l.id,this.urlSerializer.serialize(l.rawUrl),m,rd.IgnoredSameUrlNavigation)),l.resolve(null),kt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Z(l).pipe(Rt(m=>{let v=this.transitions?.getValue();return this.events.next(new Zs(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?kt:Promise.resolve(m)}),CL(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),qe(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=De(F({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new id(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:S,restoredState:R,extras:x}=l,N=new Zs(m,this.urlSerializer.serialize(v),S,R);this.events.next(N);let W=iT(this.rootComponentType).snapshot;return this.currentTransition=o=De(F({},l),{targetSnapshot:W,urlAfterRedirects:v,extras:De(F({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,Z(o)}else{let m="";return this.events.next(new Br(l.id,this.urlSerializer.serialize(l.extractedUrl),m,rd.IgnoredByUrlHandlingStrategy)),l.resolve(null),kt}}),qe(l=>{let h=new Em(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),X(l=>(this.currentTransition=o=De(F({},l),{guards:qF(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),eL(this.environmentInjector,l=>this.events.next(l)),qe(l=>{if(o.guardsResult=l.guardsResult,Js(l.guardsResult))throw cT(this.urlSerializer,l.guardsResult);let h=new bm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Et(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ut.GuardRejected),!1)),mm(l=>{if(l.guards.canActivateChecks.length)return Z(l).pipe(qe(h=>{let p=new Dm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Rt(h=>{let p=!1;return Z(h).pipe(SL(this.paramsInheritanceStrategy,this.environmentInjector),qe({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Ut.NoDataFromResolver)}}))}),qe(h=>{let p=new Tm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),mm(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(qe(v=>{p.component=v}),X(()=>{})));for(let v of p.children)m.push(...h(v));return m};return na(h(l.targetSnapshot.root)).pipe(Cr(null),Gn(1))}),mm(()=>this.afterPreactivation()),Rt(()=>{let{currentSnapshot:l,targetSnapshot:h}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Re(p).pipe(X(()=>o)):Z(o)}),X(l=>{let h=FF(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=De(F({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),qe(()=>{this.events.next(new Ba)}),HF(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Gn(1),qe({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),jf(this.transitionAbortSubject.pipe(qe(l=>{throw l}))),Sr(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",Ut.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Tr(l=>{if(u=!0,lT(l))this.events.next(new Ur(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),jF(l)?this.events.next(new $a(l.url)):o.resolve(!1);else{this.events.next(new Ua(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return kt}))}))}cancelNavigationTransition(r,i,s){let o=new Ur(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function LL(t){return t!==Fa}var VL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>O(jL),providedIn:"root"});let t=e;return t})(),$m=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},jL=(()=>{let e=class e extends $m{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=kr(e)))(s||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_T=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>O(UL),providedIn:"root"});let t=e;return t})(),UL=(()=>{let e=class e extends _T{constructor(){super(...arguments),this.location=O($s),this.urlSerializer=O(Ka),this.options=O(Za,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(Km),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new jr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=iT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Zs)this.stateMemento=this.createStateMemento();else if(r instanceof Br)this.rawUrlTree=i.initialUrl;else if(r instanceof id){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Ba?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Ur&&(r.code===Ut.GuardRejected||r.code===Ut.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ua?this.restoreHistory(i,!0):r instanceof xn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=F(F({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=F(F({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=kr(e)))(s||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Oa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Oa||{});function wT(t,e){t.events.pipe(Et(n=>n instanceof xn||n instanceof Ur||n instanceof Ua||n instanceof Br),X(n=>n instanceof xn||n instanceof Br?Oa.COMPLETE:(n instanceof Ur?n.code===Ut.Redirect||n.code===Ut.SupersededByNewNavigation:!1)?Oa.REDIRECTING:Oa.FAILED),Et(n=>n!==Oa.REDIRECTING),Gn(1)).subscribe(()=>{e()})}function BL(t){throw t}var $L={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ir=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=O(Fl),this.stateManager=O(_T),this.options=O(Za,{optional:!0})||{},this.pendingTasks=O(xi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(Qm),this.urlSerializer=O(Ka),this.location=O($s),this.urlHandlingStrategy=O(Km),this._events=new ut,this.errorHandler=this.options.errorHandler||BL,this.navigated=!1,this.routeReuseStrategy=O(VL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(Ga,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(hd,{optional:!0}),this.eventsSubscription=new Ue,this.isNgZoneEnabled=O(Ie)instanceof Ie&&Ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ur&&i.code!==Ut.Redirect&&i.code!==Ut.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof xn)this.navigated=!0;else if(i instanceof $a){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||LL(s.source)};this.scheduleNavigation(a,Fa,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}zL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=F({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(zm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=s?s.snapshot:this.routerState.snapshot.root;m=eT(v)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return tT(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Js(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Fa,null,i)}navigate(r,i={skipLocationChange:!1}){return qL(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=F({},$L):i===!1?s=F({},HL):s=i,Js(r))return FD(this.currentUrlTree,r,s);let o=this.parseUrl(r);return FD(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,v)=>{u=m,l=v});let p=this.pendingTasks.add();return wT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new q(4008,!1)}function zL(t){return!(t instanceof Ba)&&!(t instanceof $a)}var A6=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new ut,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof xn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:sb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(j(ir),j($r),wg("tabindex"),j(Xn),j(Vt),j(rr))},e.\u0275dir=Oe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&ke("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Ml("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ve.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Mi],skipLocationChange:[Ve.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Mi],replaceUrl:[Ve.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Mi],routerLink:"routerLink"},standalone:!0,features:[Ug,Zn]});let t=e;return t})();var dd=class{};var GL=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Et(r=>r instanceof xn),zn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Rl(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Re(s).pipe(vs())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=Z(null);let o=s.pipe(He(a=>a===null?Z(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Re([o,a]).pipe(vs())}else return o})}};e.\u0275fac=function(i){return new(i||e)(G(ir),G(Vl),G(ht),G(dd),G(Wm))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),IT=new H(""),WL=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=O(ht),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Zs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof xn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Br&&r.code===rd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof sd&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>I(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),xl(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new sd(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){mb()},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function x6(t,...e){return Jt([{provide:Ga,multi:!0,useValue:t},[],{provide:$r,useFactory:ET,deps:[ir]},{provide:Da,multi:!0,useFactory:bT},e.map(n=>n.\u0275providers)])}function ET(t){return t.routerState.root}function Xa(t,e){return{\u0275kind:t,\u0275providers:e}}function bT(){let t=O(gt);return e=>{let n=t.get(Us);if(e!==n.components[0])return;let r=t.get(ir),i=t.get(DT);t.get(Ym)===1&&r.initialNavigation(),t.get(TT,null,de.Optional)?.setUpPreloading(),t.get(IT,null,de.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var DT=new H("",{factory:()=>new ut}),Ym=new H("",{providedIn:"root",factory:()=>1});function KL(){return Xa(2,[{provide:Ym,useValue:0},{provide:Ll,multi:!0,deps:[gt],useFactory:e=>{let n=e.get(hD,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(ir),s=e.get(DT);wT(i,()=>{r(!0)}),e.get(Qm).afterPreactivation=()=>(r(!0),s.closed?Z(void 0):s),i.initialNavigation()}))}}])}function QL(){return Xa(3,[{provide:Ll,multi:!0,useFactory:()=>{let e=O(ir);return()=>{e.setUpLocationChangeListener()}}},{provide:Ym,useValue:2}])}var TT=new H("");function YL(t){return Xa(0,[{provide:TT,useExisting:GL},{provide:dd,useExisting:t}])}function JL(){return Xa(8,[UD,{provide:hd,useExisting:UD}])}function ZL(t){let e=[{provide:yT,useValue:kL},{provide:vT,useValue:F({skipNextTransition:!!t?.skipInitialTransition},t)}];return Xa(9,e)}var $D=new H("ROUTER_FORROOT_GUARD"),XL=[$s,{provide:Ka,useClass:Va},ir,Qa,{provide:$r,useFactory:ET,deps:[ir]},Wm,[]],Jm=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[XL,[],{provide:Ga,multi:!0,useValue:r},{provide:$D,useFactory:rV,deps:[[ir,new ft,new rg]]},{provide:Za,useValue:i||{}},i?.useHash?tV():nV(),eV(),i?.preloadingStrategy?YL(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?iV(i):[],i?.bindToComponentInputs?JL().\u0275providers:[],i?.enableViewTransitions?ZL().\u0275providers:[],sV()]}}static forChild(r){return{ngModule:e,providers:[{provide:Ga,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(G($D,8))},e.\u0275mod=Ct({type:e}),e.\u0275inj=Tt({});let t=e;return t})();function eV(){return{provide:IT,useFactory:()=>{let t=O(mD),e=O(Ie),n=O(Za),r=O(Qm),i=O(Ka);return n.scrollOffset&&t.setOffset(n.scrollOffset),new WL(i,r,t,e,n)}}}function tV(){return{provide:rr,useClass:pD}}function nV(){return{provide:rr,useClass:Zg}}function rV(t){return"guarded"}function iV(t){return[t.initialNavigation==="disabled"?QL().\u0275providers:[],t.initialNavigation==="enabledBlocking"?KL().\u0275providers:[]]}var HD=new H("");function sV(){return[{provide:HD,useFactory:bT},{provide:Da,multi:!0,useExisting:HD}]}var ST=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},AT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ST(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new Xm;let m=s<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Xm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},aV=function(t){let e=ST(t);return AT.encodeByteArray(e,!0)},ec=function(t){return aV(t).replace(/\./g,"")},ty=function(t){try{return AT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var uV=()=>cV().__FIREBASE_DEFAULTS__,lV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ty(t[1]);return e&&JSON.parse(e)},gd=()=>{try{return uV()||lV()||dV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ny=t=>{var e,n;return(n=(e=gd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xT=t=>{let e=ny(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ry=()=>{var t;return(t=gd())===null||t===void 0?void 0:t.config},iy=t=>{var e;return(e=gd())===null||e===void 0?void 0:e[`_${t}`]};var pd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function RT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ec(JSON.stringify(n)),ec(JSON.stringify(o)),""].join(".")}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function hV(){var t;let e=(t=gd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OT(){let t=Ze();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kT(){return!hV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sy(){try{return typeof indexedDB=="object"}catch{return!1}}function FT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var fV="FirebaseError",Bt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sr.prototype.create)}},sr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?pV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Bt(i,a,r)}};function pV(t,e){return t.replace(gV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var gV=/\{\$([^}]+)}/g;function LT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ki(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(CT(s)&&CT(o)){if(!ki(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function CT(t){return t!==null&&typeof t=="object"}function tc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function to(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function no(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VT(t,e){let n=new ey(t,e);return n.subscribe.bind(n)}var ey=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zm),i.error===void 0&&(i.error=Zm),i.complete===void 0&&(i.complete=Zm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function mV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zm(){}var N6=4*60*60*1e3;function Xe(t){return t&&t._delegate?t._delegate:t}var nn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Fi="[DEFAULT]";var oy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new pd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vV(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function yV(t){return t===Fi?void 0:t}function vV(t){return t.instantiationMode==="EAGER"}var md=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new oy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var _V=[],fe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(fe||{}),wV={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},IV=fe.INFO,EV={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},bV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=EV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},qr=class{constructor(e){this.name=e,this._logLevel=IV,this._logHandler=bV,this._userLogHandler=null,_V.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var DV=(t,e)=>e.some(n=>t instanceof n),jT,UT;function TV(){return jT||(jT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CV(){return UT||(UT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var BT=new WeakMap,cy=new WeakMap,$T=new WeakMap,ay=new WeakMap,ly=new WeakMap;function SV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&BT.set(n,t)}).catch(()=>{}),ly.set(e,t),e}function AV(t){if(cy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cy.set(t,e)}var uy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$T.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HT(t){uy=t(uy)}function xV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(yd(this),e,...n);return $T.set(r,e.sort?e.sort():[e]),Mn(r)}:CV().includes(t)?function(...e){return t.apply(yd(this),e),Mn(BT.get(this))}:function(...e){return Mn(t.apply(yd(this),e))}}function RV(t){return typeof t=="function"?xV(t):(t instanceof IDBTransaction&&AV(t),DV(t,TV())?new Proxy(t,uy):t)}function Mn(t){if(t instanceof IDBRequest)return SV(t);if(ay.has(t))return ay.get(t);let e=RV(t);return e!==t&&(ay.set(t,e),ly.set(e,t)),e}var yd=t=>ly.get(t);function zT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Mn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Mn(o.result),u.oldVersion,u.newVersion,Mn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var MV=["get","getKey","getAll","getAllKeys","count"],NV=["put","add","delete","clear"],dy=new Map;function qT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dy.get(e))return dy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=NV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MV.includes(n)))return;let s=function(o,...a){return I(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return dy.set(e,s),s}HT(t=>De(F({},t),{get:(e,n,r)=>qT(e,n)||t.get(e,n,r),has:(e,n)=>!!qT(e,n)||t.has(e,n)}));var fy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function PV(t){let e=t.getComponent();return e?.type==="VERSION"}var py="@firebase/app",GT="0.10.10";var or=new qr("@firebase/app"),OV="@firebase/app-compat",kV="@firebase/analytics-compat",FV="@firebase/analytics",LV="@firebase/app-check-compat",VV="@firebase/app-check",jV="@firebase/auth",UV="@firebase/auth-compat",BV="@firebase/database",$V="@firebase/database-compat",HV="@firebase/functions",qV="@firebase/functions-compat",zV="@firebase/installations",GV="@firebase/installations-compat",WV="@firebase/messaging",KV="@firebase/messaging-compat",QV="@firebase/performance",YV="@firebase/performance-compat",JV="@firebase/remote-config",ZV="@firebase/remote-config-compat",XV="@firebase/storage",e2="@firebase/storage-compat",t2="@firebase/firestore",n2="@firebase/vertexai-preview",r2="@firebase/firestore-compat",i2="firebase",s2="10.13.1";var gy="[DEFAULT]",o2={[py]:"fire-core",[OV]:"fire-core-compat",[FV]:"fire-analytics",[kV]:"fire-analytics-compat",[VV]:"fire-app-check",[LV]:"fire-app-check-compat",[jV]:"fire-auth",[UV]:"fire-auth-compat",[BV]:"fire-rtdb",[$V]:"fire-rtdb-compat",[HV]:"fire-fn",[qV]:"fire-fn-compat",[zV]:"fire-iid",[GV]:"fire-iid-compat",[WV]:"fire-fcm",[KV]:"fire-fcm-compat",[QV]:"fire-perf",[YV]:"fire-perf-compat",[JV]:"fire-rc",[ZV]:"fire-rc-compat",[XV]:"fire-gcs",[e2]:"fire-gcs-compat",[t2]:"fire-fst",[r2]:"fire-fst-compat",[n2]:"fire-vertex","fire-js":"fire-js",[i2]:"fire-js-all"};var nc=new Map,a2=new Map,my=new Map;function WT(t,e){try{t.container.addComponent(e)}catch(n){or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gr(t){let e=t.name;if(my.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;my.set(e,t);for(let n of nc.values())WT(n,t);for(let n of a2.values())WT(n,t);return!0}function ic(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pn(t){return t.settings!==void 0}var c2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new sr("app","Firebase",c2);var yy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}};var Wr=s2;function wy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:gy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw zr.create("bad-app-name",{appName:String(i)});if(n||(n=ry()),!n)throw zr.create("no-options");let s=nc.get(i);if(s){if(ki(n,s.options)&&ki(r,s.config))return s;throw zr.create("duplicate-app",{appName:i})}let o=new md(i);for(let u of my.values())o.addComponent(u);let a=new yy(n,r,o);return nc.set(i,a),a}function ro(t=gy){let e=nc.get(t);if(!e&&t===gy&&ry())return wy();if(!e)throw zr.create("no-app",{appName:t});return e}function vd(){return Array.from(nc.values())}function Qe(t,e,n){var r;let i=(r=o2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(a.join(" "));return}Gr(new nn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var u2="firebase-heartbeat-database",l2=1,rc="firebase-heartbeat-store",hy=null;function JT(){return hy||(hy=zT(u2,l2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rc)}catch(n){console.warn(n)}}}}).catch(t=>{throw zr.create("idb-open",{originalErrorMessage:t.message})})),hy}function d2(t){return I(this,null,function*(){try{let n=(yield JT()).transaction(rc),r=yield n.objectStore(rc).get(ZT(t));return yield n.done,r}catch(e){if(e instanceof Bt)or.warn(e.message);else{let n=zr.create("idb-get",{originalErrorMessage:e?.message});or.warn(n.message)}}})}function KT(t,e){return I(this,null,function*(){try{let r=(yield JT()).transaction(rc,"readwrite");yield r.objectStore(rc).put(e,ZT(t)),yield r.done}catch(n){if(n instanceof Bt)or.warn(n.message);else{let r=zr.create("idb-set",{originalErrorMessage:n?.message});or.warn(r.message)}}})}function ZT(t){return`${t.name}!${t.options.appId}`}var h2=1024,f2=30*24*60*60*1e3,vy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new _y(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=QT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=f2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){or.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=QT(),{heartbeatsToSend:r,unsentEntries:i}=p2(this._heartbeatsCache.heartbeats),s=ec(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return or.warn(n),""}})}};function QT(){return new Date().toISOString().substring(0,10)}function p2(t,e=h2){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),YT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),YT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var _y=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return sy()?FT().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield d2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return KT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return KT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function YT(t){return ec(JSON.stringify({version:2,heartbeats:t})).length}function g2(t){Gr(new nn("platform-logger",e=>new fy(e),"PRIVATE")),Gr(new nn("heartbeat",e=>new vy(e),"PRIVATE")),Qe(py,GT,t),Qe(py,GT,"esm2017"),Qe("fire-js","")}g2("");var m2="firebase",y2="10.13.1";Qe(m2,y2,"app");var Vi=new Qn("ANGULARFIRE2_VERSION");function wd(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var sc=(t,e)=>{let n=e?[e]:vd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},so=class{constructor(){return sc(v2)}},v2="app-check";function io(){}var _d=class{zone;delegate;constructor(e,n=Pf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Iy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",io,{},io,io)),n.pipe(qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},oo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new _d(Zone.current)),this.insideAngular=n.run(()=>new _d(Zone.current,Nf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(G(Ie))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Id(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function _2(t){return Id().ngZone.runOutsideAngular(()=>t())}function Li(t){return Id().ngZone.run(()=>t())}function w2(t){return I2(Id())(t)}function I2(t){return function(n){return n=n.lift(new Iy(t.ngZone)),n.pipe(Dr(t.outsideAngular),br(t.insideAngular))}}var E2=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Li(()=>t.apply(void 0,r))},$t=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Li(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",io,{},io,io))),r[s]=E2(r[s],n));let i=_2(()=>t.apply(this,r));if(!e)if(i instanceof le){let s=Id();return i.pipe(Dr(s.outsideAngular),br(s.insideAngular))}else return Li(()=>i);return i instanceof le?i.pipe(w2):i instanceof Promise?Li(()=>new Promise((s,o)=>i.then(a=>Li(()=>s(a)),a=>Li(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Li(()=>i)};var ar=class{constructor(e){return e}},ji=class{constructor(){return vd()}};function b2(t){return t&&t.length===1?t[0]:new ar(ro())}var Ey=new H("angularfire2._apps"),D2={provide:ar,useFactory:b2,deps:[[new ft,Ey]]},T2={provide:ji,deps:[[new ft,Ey]]};function C2(t){return(e,n)=>{let r=n.get(Xt);Qe("angularfire",Vi.full,"core"),Qe("angularfire",Vi.full,"app"),Qe("angular",Zb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ar(i)}}function v8(t,...e){return Jt([D2,T2,{provide:Ey,useFactory:C2(t),multi:!0,deps:[Ie,gt,oo,...e]}])}var _8=$t(wy,!0);function gC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var mC=gC,yC=new sr("auth","Firebase",gC());var Sd=new qr("@firebase/auth");function S2(t,...e){Sd.logLevel<=fe.WARN&&Sd.warn(`Auth (${Wr}): ${t}`,...e)}function bd(t,...e){Sd.logLevel<=fe.ERROR&&Sd.error(`Auth (${Wr}): ${t}`,...e)}function Pn(t,...e){throw zy(t,...e)}function Ui(t,...e){return zy(t,...e)}function vC(t,e,n){let r=Object.assign(Object.assign({},mC()),{[e]:n});return new sr("auth","Firebase",r).create(e,{appName:t.name})}function lr(t){return vC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yC.create(t,...e)}function te(t,e,...n){if(!t)throw zy(e,...n)}function cr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw bd(e),new Error(e)}function Qr(t,e){t||cr(e)}function Cy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function A2(){return XT()==="http:"||XT()==="https:"}function XT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function x2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A2()||NT()||"connection"in navigator)?navigator.onLine:!0}function R2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Bi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=MT()||PT()}get(){return x2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Gy(t,e){Qr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ad=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var M2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var N2=new Bi(3e4,6e4);function Yr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Jr(s,o,a,u){return I(this,arguments,function*(t,e,n,r,i={}){return _C(t,i,()=>I(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=tc(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),Ad.fetch()(wC(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function _C(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},M2),e);try{let i=new Sy(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ed(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ed(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ed(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ed(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw vC(t,h,l);Pn(t,h)}}catch(i){if(i instanceof Bt)throw i;Pn(t,"network-request-failed",{message:String(i)})}})}function fc(s,o,a,u){return I(this,arguments,function*(t,e,n,r,i={}){let l=yield Jr(t,e,n,r,i);return"mfaPendingCredential"in l&&Pn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function wC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Gy(t.config,i):`${t.config.apiScheme}://${i}`}function P2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Sy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ui(this.auth,"network-request-failed")),N2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ed(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ui(t,e,r);return i.customData._tokenResponse=n,i}function eC(t){return t!==void 0&&t.enterprise!==void 0}var Ay=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return P2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function O2(t,e){return I(this,null,function*(){return Jr(t,"GET","/v2/recaptchaConfig",Yr(t,e))})}function k2(t,e){return I(this,null,function*(){return Jr(t,"POST","/v1/accounts:delete",e)})}function IC(t,e){return I(this,null,function*(){return Jr(t,"POST","/v1/accounts:lookup",e)})}function oc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Wy(t,e=!1){return I(this,null,function*(){let n=Xe(t),r=yield n.getIdToken(e),i=Ky(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:oc(by(i.auth_time)),issuedAtTime:oc(by(i.iat)),expirationTime:oc(by(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function by(t){return Number(t)*1e3}function Ky(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bd("JWT malformed, contained fewer than 3 sections"),null;try{let i=ty(n);return i?JSON.parse(i):(bd("Failed to decode base64 JWT payload"),null)}catch(i){return bd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function tC(t){let e=Ky(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function cc(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Bt&&F2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function F2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var xy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var uc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oc(this.lastLoginAt),this.creationTime=oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function xd(t){return I(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield cc(t,IC(n,{idToken:r}));te(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?EC(s.providerUserInfo):[],a=L2(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new uc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Qy(t){return I(this,null,function*(){let e=Xe(t);yield xd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function L2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EC(t){return t.map(e=>{var{providerId:n}=e,r=Of(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function V2(t,e){return I(this,null,function*(){let n=yield _C(t,{},()=>I(this,null,function*(){let r=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=wC(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ad.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function j2(t,e){return I(this,null,function*(){return Jr(t,"POST","/v2/accounts:revokeToken",Yr(t,e))})}var ac=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");let n=tC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield V2(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return cr("not implemented")}};function Kr(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ao=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Of(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield cc(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Wy(this,e)}reload(){return Qy(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield xd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(pn(this.auth.app))return Promise.reject(lr(this.auth));let e=yield this.getIdToken();return yield cc(this,k2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,N=(l=n.createdAt)!==null&&l!==void 0?l:void 0,W=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:K,emailVerified:J,isAnonymous:xe,providerData:ie,stsTokenManager:b}=n;te(K&&b,e,"internal-error");let y=ac.fromJSON(this.name,b);te(typeof K=="string",e,"internal-error"),Kr(p,e.name),Kr(m,e.name),te(typeof J=="boolean",e,"internal-error"),te(typeof xe=="boolean",e,"internal-error"),Kr(v,e.name),Kr(S,e.name),Kr(R,e.name),Kr(x,e.name),Kr(N,e.name),Kr(W,e.name);let _=new t({uid:K,auth:e,email:m,emailVerified:J,displayName:p,isAnonymous:xe,photoURL:S,phoneNumber:v,tenantId:R,stsTokenManager:y,createdAt:N,lastLoginAt:W});return ie&&Array.isArray(ie)&&(_.providerData=ie.map(E=>Object.assign({},E))),x&&(_._redirectEventId=x),_}static _fromIdTokenResponse(e,n,r=!1){return I(this,null,function*(){let i=new ac;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield xd(s),s})}static _fromGetAccountInfoResponse(e,n,r){return I(this,null,function*(){let i=n.users[0];te(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?EC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new ac;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new uc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var nC=new Map;function ur(t){Qr(t instanceof Function,"Expected a class definition");let e=nC.get(t);return e?(Qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nC.set(t,e),e)}var U2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,r){return I(this,null,function*(){this.storage[n]=r})}_get(n){return I(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Ry=U2;function Dd(t,e,n){return`firebase:${t}:${e}:${n}`}var Rd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Dd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Dd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ao._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(this,null,function*(){if(!n.length)return new t(ur(Ry),e,r);let i=(yield Promise.all(n.map(l=>I(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||ur(Ry),o=Dd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=ao._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>I(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function rC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AC(e))return"Blackberry";if(xC(e))return"Webos";if(DC(e))return"Safari";if((e.includes("chrome/")||TC(e))&&!e.includes("edge/"))return"Chrome";if(SC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function bC(t=Ze()){return/firefox\//i.test(t)}function DC(t=Ze()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TC(t=Ze()){return/crios\//i.test(t)}function CC(t=Ze()){return/iemobile/i.test(t)}function SC(t=Ze()){return/android/i.test(t)}function AC(t=Ze()){return/blackberry/i.test(t)}function xC(t=Ze()){return/webos/i.test(t)}function Yy(t=Ze()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function B2(t=Ze()){var e;return Yy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $2(){return OT()&&document.documentMode===10}function RC(t=Ze()){return Yy(t)||SC(t)||xC(t)||AC(t)||/windows phone/i.test(t)||CC(t)}function MC(t,e=[]){let n;switch(t){case"Browser":n=rC(Ze());break;case"Worker":n=`${rC(Ze())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wr}/${r}`}var My=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function H2(n){return I(this,arguments,function*(t,e={}){return Jr(t,"GET","/v2/passwordPolicy",Yr(t,e))})}var q2=6,Ny=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:q2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Py=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Md(this),this.idTokenSubscription=new Md(this),this.beforeStateQueue=new My(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Rd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield IC(this,{idToken:e}),r=yield ao._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(pn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield xd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=R2()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(pn(this.app))return Promise.reject(lr(this));let n=e?Xe(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return pn(this.app)?Promise.reject(lr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return pn(this.app)?Promise.reject(lr(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(ur(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield H2(this),n=new Ny(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield j2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ur(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=yield Rd.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return I(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&S2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Hi(t){return Xe(t)}var Md=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=VT(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Vd={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z2(t){Vd=t}function NC(t){return Vd.loadJS(t)}function G2(){return Vd.recaptchaEnterpriseScript}function W2(){return Vd.gapiScript}function PC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var K2="recaptcha-enterprise",Q2="NO_RECAPTCHA",Oy=class{constructor(e){this.type=K2,this.auth=Hi(e)}verify(e="verify",n=!1){return I(this,null,function*(){function r(s){return I(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>I(this,null,function*(){O2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Ay(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;eC(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(Q2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&eC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=G2();u.length!==0&&(u+=a),NC(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function iC(t,e,n,r=!1){return I(this,null,function*(){let i=new Oy(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function ky(t,e,n,r){return I(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield iC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>I(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield iC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Jy(t,e){let n=ic(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ki(s,e??{}))return i;Pn(i,"already-initialized")}return n.initialize({options:e})}function Y2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ur);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Zy(t,e,n){let r=Hi(t);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=OC(e),{host:o,port:a}=J2(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Z2()}function OC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function J2(t){let e=OC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:sC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:sC(o)}}}function sC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Z2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var lc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,n){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}};function X2(t,e){return I(this,null,function*(){return Jr(t,"POST","/v1/accounts:signUp",e)})}function ej(t,e){return I(this,null,function*(){return fc(t,"POST","/v1/accounts:signInWithPassword",Yr(t,e))})}function tj(t,e){return I(this,null,function*(){return fc(t,"POST","/v1/accounts:signInWithEmailLink",Yr(t,e))})}function nj(t,e){return I(this,null,function*(){return fc(t,"POST","/v1/accounts:signInWithEmailLink",Yr(t,e))})}var dc=class t extends lc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return I(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ky(e,n,"signInWithPassword",ej);case"emailLink":return tj(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}})}_linkToIdToken(e,n){return I(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ky(e,r,"signUpPassword",X2);case"emailLink":return nj(e,{idToken:n,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Dy(t,e){return I(this,null,function*(){return fc(t,"POST","/v1/accounts:signInWithIdp",Yr(t,e))})}function rj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ij(t){let e=to(no(t)).link,n=e?to(no(e)).deep_link_id:null,r=to(no(t)).deep_link_id;return(r?to(no(r)).link:null)||r||n||e||t}var Nd=class t{constructor(e){var n,r,i,s,o,a;let u=to(no(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=rj((i=u.mode)!==null&&i!==void 0?i:null);te(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=ij(e);try{return new t(n)}catch{return null}}};var kC=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return dc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Nd.parseLink(r);return te(i,"argument-error"),dc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Pd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Fy=class extends Pd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function sj(t,e){return I(this,null,function*(){return fc(t,"POST","/v1/accounts:signUp",Yr(t,e))})}var co=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return I(this,null,function*(){let s=yield ao._fromIdTokenResponse(e,r,i),o=oC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return I(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=oC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function oC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Ly=class t extends Bt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function FC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ly._fromErrorAndOperation(t,s,e,r):s})}function oj(t,e,n=!1){return I(this,null,function*(){let r=yield cc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return co._forOperation(t,"link",r)})}function aj(t,e,n=!1){return I(this,null,function*(){let{auth:r}=t;if(pn(r.app))return Promise.reject(lr(r));let i="reauthenticate";try{let s=yield cc(t,FC(r,i,e,t),n);te(s.idToken,r,"internal-error");let o=Ky(s.idToken);te(o,r,"internal-error");let{sub:a}=o;return te(t.uid===a,r,"user-mismatch"),co._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Pn(r,"user-mismatch"),s}})}function LC(t,e,n=!1){return I(this,null,function*(){if(pn(t.app))return Promise.reject(lr(t));let r="signIn",i=yield FC(t,r,e),s=yield co._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Xy(t,e){return I(this,null,function*(){return LC(Hi(t),e)})}function VC(t){return I(this,null,function*(){let e=Hi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function ev(t,e,n){return I(this,null,function*(){if(pn(t.app))return Promise.reject(lr(t));let r=Hi(t),o=yield ky(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&VC(t),u}),a=yield co._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function tv(t,e,n){return pn(t.app)?Promise.reject(lr(t)):Xy(Xe(t),kC.credential(e,n)).catch(r=>I(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&VC(t),r}))}function nv(t,e,n,r){return Xe(t).onIdTokenChanged(e,n,r)}function rv(t,e,n){return Xe(t).beforeAuthStateChanged(e,n)}function jC(t,e,n,r){return Xe(t).onAuthStateChanged(e,n,r)}function iv(t){return Xe(t).signOut()}var Od="__sak";var kd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Od,"1"),this.storage.removeItem(Od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var cj=1e3,uj=10,lj=(()=>{class t extends kd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);$2()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,uj):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},cj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return I(this,null,function*(){yield Ir(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return I(this,null,function*(){let r=yield Ir(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return I(this,null,function*(){yield Ir(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),UC=lj;var dj=(()=>{class t extends kd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),sv=dj;function hj(t){return Promise.all(t.map(e=>I(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var fj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return I(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>I(this,null,function*(){return h(r.origin,o)})),l=yield hj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function BC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Vy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return I(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=BC("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Nn(){return window}function pj(t){Nn().location.href=t}function $C(){return typeof Nn().WorkerGlobalScope<"u"&&typeof Nn().importScripts=="function"}function gj(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function mj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yj(){return $C()?self:null}var HC="firebaseLocalStorageDb",vj=1,Fd="firebaseLocalStorage",qC="fbase_key",$i=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function jd(t,e){return t.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function _j(){let t=indexedDB.deleteDatabase(HC);return new $i(t).toPromise()}function jy(){let t=indexedDB.open(HC,vj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Fd,{keyPath:qC})}catch(i){n(i)}}),t.addEventListener("success",()=>I(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Fd)?e(r):(r.close(),yield _j(),e(yield jy()))}))})}function aC(t,e,n){return I(this,null,function*(){let r=jd(t,!0).put({[qC]:e,value:n});return new $i(r).toPromise()})}function wj(t,e){return I(this,null,function*(){let n=jd(t,!1).get(e),r=yield new $i(n).toPromise();return r===void 0?null:r.value})}function cC(t,e){let n=jd(t,!0).delete(e);return new $i(n).toPromise()}var Ij=800,Ej=3,bj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield jy(),this.db)})}_withRetries(n){return I(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Ej)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return $C()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=fj._getInstance(yj()),this.receiver._subscribe("keyChanged",(n,r)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var n,r;if(this.activeServiceWorker=yield gj(),!this.activeServiceWorker)return;this.sender=new Vy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||mj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let n=yield jy();return yield aC(n,Od,"1"),yield cC(n,Od),!0}catch{}return!1})}_withPendingWrite(n){return I(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>aC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return I(this,null,function*(){let r=yield this._withRetries(i=>wj(i,n));return this.localCache[n]=r,r})}_remove(n){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>cC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return I(this,null,function*(){let n=yield this._withRetries(s=>{let o=jd(s,!1).getAll();return new $i(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),Ij)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),zC=bj;var S8=PC("rcb"),A8=new Bi(3e4,6e4);function Dj(t,e){return e?ur(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var hc=class extends lc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Dy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Dy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Tj(t){return LC(t.auth,new hc(t),t.bypassAuthState)}function Cj(t){let{auth:e,user:n}=t;return te(n,e,"internal-error"),aj(n,new hc(t),t.bypassAuthState)}function Sj(t){return I(this,null,function*(){let{auth:e,user:n}=t;return te(n,e,"internal-error"),oj(n,new hc(t),t.bypassAuthState)})}var Uy=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tj;case"linkViaPopup":case"linkViaRedirect":return Sj;case"reauthViaPopup":case"reauthViaRedirect":return Cj;default:Pn(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var x8=new Bi(2e3,1e4);var Aj="pendingRedirect",Td=new Map,By=class t extends Uy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return I(this,null,function*(){let e=Td.get(this.auth._key());if(!e){try{let r=(yield xj(this.resolver,this.auth))?yield Ir(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Td.set(this.auth._key(),e)}return this.bypassAuthState||Td.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return Ir(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ir(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function xj(t,e){return I(this,null,function*(){let n=Nj(e),r=Mj(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Rj(t,e){Td.set(t._key(),e)}function Mj(t){return ur(t._redirectPersistence)}function Nj(t){return Dd(Aj,t.config.apiKey,t.name)}function Pj(t,e,n=!1){return I(this,null,function*(){if(pn(t.app))return Promise.reject(lr(t));let r=Hi(t),i=Dj(r,e),o=yield new By(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var Oj=10*60*1e3,$y=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ui(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Oj&&this.cachedEventUids.clear(),this.cachedEventUids.has(uC(e))}saveEventToCache(e){this.cachedEventUids.add(uC(e)),this.lastProcessedEventTime=Date.now()}};function uC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function kj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GC(t);default:return!1}}function Fj(n){return I(this,arguments,function*(t,e={}){return Jr(t,"GET","/v1/projects",e)})}var Lj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vj=/^https?/;function jj(t){return I(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Fj(t);for(let n of e)try{if(Uj(n))return}catch{}Pn(t,"unauthorized-domain")})}function Uj(t){let e=Cy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Vj.test(n))return!1;if(Lj.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Bj=new Bi(3e4,6e4);function lC(){let t=Nn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $j(t){return new Promise((e,n)=>{var r,i,s;function o(){lC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lC(),n(Ui(t,"network-request-failed"))},timeout:Bj.get()})}if(!((i=(r=Nn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Nn().gapi)===null||s===void 0)&&s.load)o();else{let a=PC("iframefcb");return Nn()[a]=()=>{gapi.load?o():n(Ui(t,"network-request-failed"))},NC(`${W2()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Cd=null,e})}var Cd=null;function Hj(t){return Cd=Cd||$j(t),Cd}var qj=new Bi(5e3,15e3),zj="__/auth/iframe",Gj="emulator/auth/iframe",Wj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qj(t){let e=t.config;te(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Gy(e,Gj):`https://${t.config.authDomain}/${zj}`,r={apiKey:e.apiKey,appName:t.name,v:Wr},i=Kj.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${tc(r).slice(1)}`}function Yj(t){return I(this,null,function*(){let e=yield Hj(t),n=Nn().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:Qj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wj,dontclear:!0},r=>new Promise((i,s)=>I(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ui(t,"network-request-failed"),a=Nn().setTimeout(()=>{s(o)},qj.get());function u(){Nn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var Jj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zj=500,Xj=600,eU="_blank",tU="http://localhost",Ld=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function nU(t,e,n,r=Zj,i=Xj){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Jj),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ze().toLowerCase();n&&(a=TC(l)?eU:n),bC(l)&&(e=e||tU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,S])=>`${m}${v}=${S},`,"");if(B2(l)&&a!=="_self")return rU(e||"",a),new Ld(null);let p=window.open(e||"",a,h);te(p,t,"popup-blocked");try{p.focus()}catch{}return new Ld(p)}function rU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var iU="__/auth/handler",sU="emulator/auth/handler",oU=encodeURIComponent("fac");function dC(t,e,n,r,i,s){return I(this,null,function*(){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wr,eventId:i};if(e instanceof Pd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",LT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof Fy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${oU}=${encodeURIComponent(u)}`:"";return`${aU(t)}?${tc(a).slice(1)}${l}`})}function aU({config:t}){return t.emulator?Gy(t,sU):`https://${t.authDomain}/${iU}`}var Ty="webStorageSupport",Hy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sv,this._completeRedirectFn=Pj,this._overrideRedirectResult=Rj}_openPopup(e,n,r,i){return I(this,null,function*(){var s;Qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield dC(e,n,r,Cy(),i);return nU(e,o,BC())})}_openRedirect(e,n,r,i){return I(this,null,function*(){yield this._originValidation(e);let s=yield dC(e,n,r,Cy(),i);return pj(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return I(this,null,function*(){let n=yield Yj(e),r=new $y(e);return n.register("authEvent",i=>(te(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ty,{type:Ty},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Ty];o!==void 0&&n(!!o),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RC()||DC()||Yy()}},WC=Hy;var hC="@firebase/auth",fC="1.7.8";var qy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function cU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uU(t){Gr(new nn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MC(t)},l=new Py(r,i,s,u);return Y2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gr(new nn("auth-internal",e=>{let n=Hi(e.getProvider("auth").getImmediate());return(r=>new qy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(hC,fC,cU(t)),Qe(hC,fC,"esm2017")}var lU=5*60,dU=iy("authIdTokenMaxAge")||lU,pC=null,hU=t=>e=>I(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dU)return;let i=n?.token;pC!==i&&(pC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ov(t=ro()){let e=ic(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Jy(t,{popupRedirectResolver:WC,persistence:[zC,UC,sv]}),r=iy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=hU(s.toString());rv(n,o,()=>o(n.currentUser)),nv(n,a=>o(a))}}let i=ny("auth");return i&&Zy(n,`http://${i}`),n}function fU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}z2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Ui("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",fU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uU("Browser");var KC="auth",Ht=class{constructor(e){return e}},pc=class{constructor(){return sc(KC)}};var av=new H("angularfire2.auth-instances");function nB(t,e){let n=wd(KC,t,e);return n&&new Ht(n)}function rB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ht(r)}}var iB={provide:pc,deps:[[new ft,av]]},sB={provide:Ht,useFactory:nB,deps:[[new ft,av],ar]};function hK(t,...e){return Qe("angularfire",Vi.full,"auth"),Jt([sB,iB,{provide:av,useFactory:rB(t),multi:!0,deps:[Ie,gt,oo,ji,[new ft,so],...e]}])}var fK=$t(ev,!0);var pK=$t(ov,!0);var gK=$t(tv,!0);var mK=$t(iv,!0);var QC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},YC={};var Zr,cv;(function(){var t;function e(b,y){function _(){}_.prototype=y.prototype,b.D=y.prototype,b.prototype=new _,b.prototype.constructor=b,b.C=function(E,D,C){for(var w=Array(arguments.length-2),Bn=2;Bn<arguments.length;Bn++)w[Bn-2]=arguments[Bn];return y.prototype[D].apply(E,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)E[D]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(D=0;16>D;++D)E[D]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=b.g[0],_=b.g[1],D=b.g[2];var C=b.g[3],w=y+(C^_&(D^C))+E[0]+3614090360&4294967295;y=_+(w<<7&4294967295|w>>>25),w=C+(D^y&(_^D))+E[1]+3905402710&4294967295,C=y+(w<<12&4294967295|w>>>20),w=D+(_^C&(y^_))+E[2]+606105819&4294967295,D=C+(w<<17&4294967295|w>>>15),w=_+(y^D&(C^y))+E[3]+3250441966&4294967295,_=D+(w<<22&4294967295|w>>>10),w=y+(C^_&(D^C))+E[4]+4118548399&4294967295,y=_+(w<<7&4294967295|w>>>25),w=C+(D^y&(_^D))+E[5]+1200080426&4294967295,C=y+(w<<12&4294967295|w>>>20),w=D+(_^C&(y^_))+E[6]+2821735955&4294967295,D=C+(w<<17&4294967295|w>>>15),w=_+(y^D&(C^y))+E[7]+4249261313&4294967295,_=D+(w<<22&4294967295|w>>>10),w=y+(C^_&(D^C))+E[8]+1770035416&4294967295,y=_+(w<<7&4294967295|w>>>25),w=C+(D^y&(_^D))+E[9]+2336552879&4294967295,C=y+(w<<12&4294967295|w>>>20),w=D+(_^C&(y^_))+E[10]+4294925233&4294967295,D=C+(w<<17&4294967295|w>>>15),w=_+(y^D&(C^y))+E[11]+2304563134&4294967295,_=D+(w<<22&4294967295|w>>>10),w=y+(C^_&(D^C))+E[12]+1804603682&4294967295,y=_+(w<<7&4294967295|w>>>25),w=C+(D^y&(_^D))+E[13]+4254626195&4294967295,C=y+(w<<12&4294967295|w>>>20),w=D+(_^C&(y^_))+E[14]+2792965006&4294967295,D=C+(w<<17&4294967295|w>>>15),w=_+(y^D&(C^y))+E[15]+1236535329&4294967295,_=D+(w<<22&4294967295|w>>>10),w=y+(D^C&(_^D))+E[1]+4129170786&4294967295,y=_+(w<<5&4294967295|w>>>27),w=C+(_^D&(y^_))+E[6]+3225465664&4294967295,C=y+(w<<9&4294967295|w>>>23),w=D+(y^_&(C^y))+E[11]+643717713&4294967295,D=C+(w<<14&4294967295|w>>>18),w=_+(C^y&(D^C))+E[0]+3921069994&4294967295,_=D+(w<<20&4294967295|w>>>12),w=y+(D^C&(_^D))+E[5]+3593408605&4294967295,y=_+(w<<5&4294967295|w>>>27),w=C+(_^D&(y^_))+E[10]+38016083&4294967295,C=y+(w<<9&4294967295|w>>>23),w=D+(y^_&(C^y))+E[15]+3634488961&4294967295,D=C+(w<<14&4294967295|w>>>18),w=_+(C^y&(D^C))+E[4]+3889429448&4294967295,_=D+(w<<20&4294967295|w>>>12),w=y+(D^C&(_^D))+E[9]+568446438&4294967295,y=_+(w<<5&4294967295|w>>>27),w=C+(_^D&(y^_))+E[14]+3275163606&4294967295,C=y+(w<<9&4294967295|w>>>23),w=D+(y^_&(C^y))+E[3]+4107603335&4294967295,D=C+(w<<14&4294967295|w>>>18),w=_+(C^y&(D^C))+E[8]+1163531501&4294967295,_=D+(w<<20&4294967295|w>>>12),w=y+(D^C&(_^D))+E[13]+2850285829&4294967295,y=_+(w<<5&4294967295|w>>>27),w=C+(_^D&(y^_))+E[2]+4243563512&4294967295,C=y+(w<<9&4294967295|w>>>23),w=D+(y^_&(C^y))+E[7]+1735328473&4294967295,D=C+(w<<14&4294967295|w>>>18),w=_+(C^y&(D^C))+E[12]+2368359562&4294967295,_=D+(w<<20&4294967295|w>>>12),w=y+(_^D^C)+E[5]+4294588738&4294967295,y=_+(w<<4&4294967295|w>>>28),w=C+(y^_^D)+E[8]+2272392833&4294967295,C=y+(w<<11&4294967295|w>>>21),w=D+(C^y^_)+E[11]+1839030562&4294967295,D=C+(w<<16&4294967295|w>>>16),w=_+(D^C^y)+E[14]+4259657740&4294967295,_=D+(w<<23&4294967295|w>>>9),w=y+(_^D^C)+E[1]+2763975236&4294967295,y=_+(w<<4&4294967295|w>>>28),w=C+(y^_^D)+E[4]+1272893353&4294967295,C=y+(w<<11&4294967295|w>>>21),w=D+(C^y^_)+E[7]+4139469664&4294967295,D=C+(w<<16&4294967295|w>>>16),w=_+(D^C^y)+E[10]+3200236656&4294967295,_=D+(w<<23&4294967295|w>>>9),w=y+(_^D^C)+E[13]+681279174&4294967295,y=_+(w<<4&4294967295|w>>>28),w=C+(y^_^D)+E[0]+3936430074&4294967295,C=y+(w<<11&4294967295|w>>>21),w=D+(C^y^_)+E[3]+3572445317&4294967295,D=C+(w<<16&4294967295|w>>>16),w=_+(D^C^y)+E[6]+76029189&4294967295,_=D+(w<<23&4294967295|w>>>9),w=y+(_^D^C)+E[9]+3654602809&4294967295,y=_+(w<<4&4294967295|w>>>28),w=C+(y^_^D)+E[12]+3873151461&4294967295,C=y+(w<<11&4294967295|w>>>21),w=D+(C^y^_)+E[15]+530742520&4294967295,D=C+(w<<16&4294967295|w>>>16),w=_+(D^C^y)+E[2]+3299628645&4294967295,_=D+(w<<23&4294967295|w>>>9),w=y+(D^(_|~C))+E[0]+4096336452&4294967295,y=_+(w<<6&4294967295|w>>>26),w=C+(_^(y|~D))+E[7]+1126891415&4294967295,C=y+(w<<10&4294967295|w>>>22),w=D+(y^(C|~_))+E[14]+2878612391&4294967295,D=C+(w<<15&4294967295|w>>>17),w=_+(C^(D|~y))+E[5]+4237533241&4294967295,_=D+(w<<21&4294967295|w>>>11),w=y+(D^(_|~C))+E[12]+1700485571&4294967295,y=_+(w<<6&4294967295|w>>>26),w=C+(_^(y|~D))+E[3]+2399980690&4294967295,C=y+(w<<10&4294967295|w>>>22),w=D+(y^(C|~_))+E[10]+4293915773&4294967295,D=C+(w<<15&4294967295|w>>>17),w=_+(C^(D|~y))+E[1]+2240044497&4294967295,_=D+(w<<21&4294967295|w>>>11),w=y+(D^(_|~C))+E[8]+1873313359&4294967295,y=_+(w<<6&4294967295|w>>>26),w=C+(_^(y|~D))+E[15]+4264355552&4294967295,C=y+(w<<10&4294967295|w>>>22),w=D+(y^(C|~_))+E[6]+2734768916&4294967295,D=C+(w<<15&4294967295|w>>>17),w=_+(C^(D|~y))+E[13]+1309151649&4294967295,_=D+(w<<21&4294967295|w>>>11),w=y+(D^(_|~C))+E[4]+4149444226&4294967295,y=_+(w<<6&4294967295|w>>>26),w=C+(_^(y|~D))+E[11]+3174756917&4294967295,C=y+(w<<10&4294967295|w>>>22),w=D+(y^(C|~_))+E[2]+718787259&4294967295,D=C+(w<<15&4294967295|w>>>17),w=_+(C^(D|~y))+E[9]+3951481745&4294967295,b.g[0]=b.g[0]+y&4294967295,b.g[1]=b.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+C&4294967295}r.prototype.u=function(b,y){y===void 0&&(y=b.length);for(var _=y-this.blockSize,E=this.B,D=this.h,C=0;C<y;){if(D==0)for(;C<=_;)i(this,b,C),C+=this.blockSize;if(typeof b=="string"){for(;C<y;)if(E[D++]=b.charCodeAt(C++),D==this.blockSize){i(this,E),D=0;break}}else for(;C<y;)if(E[D++]=b[C++],D==this.blockSize){i(this,E),D=0;break}}this.h=D,this.o+=y},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var y=1;y<b.length-8;++y)b[y]=0;var _=8*this.o;for(y=b.length-8;y<b.length;++y)b[y]=_&255,_/=256;for(this.u(b),b=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)b[_++]=this.g[y]>>>E&255;return b};function s(b,y){var _=a;return Object.prototype.hasOwnProperty.call(_,b)?_[b]:_[b]=y(b)}function o(b,y){this.h=y;for(var _=[],E=!0,D=b.length-1;0<=D;D--){var C=b[D]|0;E&&C==y||(_[D]=C,E=!1)}this.g=_}var a={};function u(b){return-128<=b&&128>b?s(b,function(y){return new o([y|0],0>y?-1:0)}):new o([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return x(l(-b));for(var y=[],_=1,E=0;b>=_;E++)y[E]=b/_|0,_*=4294967296;return new o(y,0)}function h(b,y){if(b.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(b.charAt(0)=="-")return x(h(b.substring(1),y));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,D=0;D<b.length;D+=8){var C=Math.min(8,b.length-D),w=parseInt(b.substring(D,D+C),y);8>C?(C=l(Math.pow(y,C)),E=E.j(C).add(l(w))):(E=E.j(_),E=E.add(l(w)))}return E}var p=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-x(this).m();for(var b=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);b+=(0<=E?E:4294967296+E)*y,y*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(R(this))return"-"+x(this).toString(b);for(var y=l(Math.pow(b,6)),_=this,E="";;){var D=J(_,y).g;_=N(_,D.j(y));var C=((0<_.g.length?_.g[0]:_.h)>>>0).toString(b);if(_=D,S(_))return C+E;for(;6>C.length;)C="0"+C;E=C+E}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(var y=0;y<b.g.length;y++)if(b.g[y]!=0)return!1;return!0}function R(b){return b.h==-1}t.l=function(b){return b=N(this,b),R(b)?-1:S(b)?0:1};function x(b){for(var y=b.g.length,_=[],E=0;E<y;E++)_[E]=~b.g[E];return new o(_,~b.h).add(m)}t.abs=function(){return R(this)?x(this):this},t.add=function(b){for(var y=Math.max(this.g.length,b.g.length),_=[],E=0,D=0;D<=y;D++){var C=E+(this.i(D)&65535)+(b.i(D)&65535),w=(C>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);E=w>>>16,C&=65535,w&=65535,_[D]=w<<16|C}return new o(_,_[_.length-1]&-2147483648?-1:0)};function N(b,y){return b.add(x(y))}t.j=function(b){if(S(this)||S(b))return p;if(R(this))return R(b)?x(this).j(x(b)):x(x(this).j(b));if(R(b))return x(this.j(x(b)));if(0>this.l(v)&&0>b.l(v))return l(this.m()*b.m());for(var y=this.g.length+b.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var D=0;D<b.g.length;D++){var C=this.i(E)>>>16,w=this.i(E)&65535,Bn=b.i(D)>>>16,ko=b.i(D)&65535;_[2*E+2*D]+=w*ko,W(_,2*E+2*D),_[2*E+2*D+1]+=C*ko,W(_,2*E+2*D+1),_[2*E+2*D+1]+=w*Bn,W(_,2*E+2*D+1),_[2*E+2*D+2]+=C*Bn,W(_,2*E+2*D+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new o(_,0)};function W(b,y){for(;(b[y]&65535)!=b[y];)b[y+1]+=b[y]>>>16,b[y]&=65535,y++}function K(b,y){this.g=b,this.h=y}function J(b,y){if(S(y))throw Error("division by zero");if(S(b))return new K(p,p);if(R(b))return y=J(x(b),y),new K(x(y.g),x(y.h));if(R(y))return y=J(b,x(y)),new K(x(y.g),y.h);if(30<b.g.length){if(R(b)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(b);)_=xe(_),E=xe(E);var D=ie(_,1),C=ie(E,1);for(E=ie(E,2),_=ie(_,2);!S(E);){var w=C.add(E);0>=w.l(b)&&(D=D.add(_),C=w),E=ie(E,1),_=ie(_,1)}return y=N(b,D.j(y)),new K(D,y)}for(D=p;0<=b.l(y);){for(_=Math.max(1,Math.floor(b.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),C=l(_),w=C.j(y);R(w)||0<w.l(b);)_-=E,C=l(_),w=C.j(y);S(C)&&(C=m),D=D.add(C),b=N(b,w)}return new K(D,b)}t.A=function(b){return J(this,b).h},t.and=function(b){for(var y=Math.max(this.g.length,b.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&b.i(E);return new o(_,this.h&b.h)},t.or=function(b){for(var y=Math.max(this.g.length,b.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|b.i(E);return new o(_,this.h|b.h)},t.xor=function(b){for(var y=Math.max(this.g.length,b.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^b.i(E);return new o(_,this.h^b.h)};function xe(b){for(var y=b.g.length+1,_=[],E=0;E<y;E++)_[E]=b.i(E)<<1|b.i(E-1)>>>31;return new o(_,b.h)}function ie(b,y){var _=y>>5;y%=32;for(var E=b.g.length-_,D=[],C=0;C<E;C++)D[C]=0<y?b.i(C+_)>>>y|b.i(C+_+1)<<32-y:b.i(C+_);return new o(D,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cv=YC.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Zr=YC.Integer=o}).apply(typeof QC<"u"?QC:typeof self<"u"?self:typeof window<"u"?window:{});var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dr={};var uv,lv,uo,dv,gc,$d,hv,fv,pv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bd=="object"&&Bd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var T=c[g];if(!(T in f))break e;f=f[T]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,T={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,T,A){for(var k=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)k[Ce-2]=arguments[Ce];return d.prototype[T].apply(g,k)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function x(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let T=c.length||0,A=g.length||0;c.length=T+A;for(let k=0;k<A;k++)c[T+k]=g[k]}else c.push(g)}}class N{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function J(c){return J[" "](c),c}J[" "]=function(){};var xe=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ie(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function C(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Gh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Bn{constructor(){this.h=this.g=null}add(d,f){let g=ko.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ko=new N(()=>new Fx,c=>c.reset());class Fx{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Fo,Lo=!1,Gh=new Bn,Sw=()=>{let c=a.Promise.resolve(void 0);Fo=()=>{c.then(Lx)}};var Lx=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){C(f)}var d=ko;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Lo=!1};function yr(){this.s=this.s,this.C=this.C}yr.prototype.s=!1,yr.prototype.ma=function(){this.s||(this.s=!0,this.N())},yr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var Vx=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Vo(c,d){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(xe){e:{try{J(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:jx[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Vo.aa.h.call(this)}}S(Vo,st);var jx={2:"touch",3:"pen",4:"mouse"};Vo.prototype.h=function(){Vo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var jo="closure_listenable_"+(1e6*Math.random()|0),Ux=0;function Bx(c,d,f,g,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++Ux,this.da=this.fa=!1}function Gc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Wc(c){this.src=c,this.g={},this.h=0}Wc.prototype.add=function(c,d,f,g,T){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var k=Kh(c,d,g,T);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new Bx(d,this.src,A,!!g,T),d.fa=f,c.push(d)),d};function Wh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],T=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=T)&&Array.prototype.splice.call(g,T,1),A&&(Gc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Kh(c,d,f,g){for(var T=0;T<c.length;++T){var A=c[T];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return T}return-1}var Qh="closure_lm_"+(1e6*Math.random()|0),Yh={};function Aw(c,d,f,g,T){if(g&&g.once)return Rw(c,d,f,g,T);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Aw(c,d[A],f,g,T);return null}return f=ef(f),c&&c[jo]?c.K(d,f,l(g)?!!g.capture:!!g,T):xw(c,d,f,!1,g,T)}function xw(c,d,f,g,T,A){if(!d)throw Error("Invalid event type");var k=l(T)?!!T.capture:!!T,Ce=Zh(c);if(Ce||(c[Qh]=Ce=new Wc(c)),f=Ce.add(d,f,g,k,A),f.proxy)return f;if(g=$x(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)Vx||(T=k),T===void 0&&(T=!1),c.addEventListener(d.toString(),g,T);else if(c.attachEvent)c.attachEvent(Nw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function $x(){function c(f){return d.call(c.src,c.listener,f)}let d=Hx;return c}function Rw(c,d,f,g,T){if(Array.isArray(d)){for(var A=0;A<d.length;A++)Rw(c,d[A],f,g,T);return null}return f=ef(f),c&&c[jo]?c.L(d,f,l(g)?!!g.capture:!!g,T):xw(c,d,f,!0,g,T)}function Mw(c,d,f,g,T){if(Array.isArray(d))for(var A=0;A<d.length;A++)Mw(c,d[A],f,g,T);else g=l(g)?!!g.capture:!!g,f=ef(f),c&&c[jo]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Kh(A,f,g,T),-1<f&&(Gc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Zh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Kh(d,f,g,T)),(f=-1<c?d[c]:null)&&Jh(f))}function Jh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[jo])Wh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(Nw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Zh(d))?(Wh(f,c),f.h==0&&(f.src=null,d[Qh]=null)):Gc(c)}}}function Nw(c){return c in Yh?Yh[c]:Yh[c]="on"+c}function Hx(c,d){if(c.da)c=!0;else{d=new Vo(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Jh(c),c=f.call(g,d)}return c}function Zh(c){return c=c[Qh],c instanceof Wc?c:null}var Xh="__closure_events_fn_"+(1e9*Math.random()>>>0);function ef(c){return typeof c=="function"?c:(c[Xh]||(c[Xh]=function(d){return c.handleEvent(d)}),c[Xh])}function ot(){yr.call(this),this.i=new Wc(this),this.M=this,this.F=null}S(ot,yr),ot.prototype[jo]=!0,ot.prototype.removeEventListener=function(c,d,f,g){Mw(this,c,d,f,g)};function wt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new st(d,c);else if(d instanceof st)d.target=d.target||c;else{var T=d;d=new st(g,c),E(d,T)}if(T=!0,f)for(var A=f.length-1;0<=A;A--){var k=d.g=f[A];T=Kc(k,g,!0,d)&&T}if(k=d.g=c,T=Kc(k,g,!0,d)&&T,T=Kc(k,g,!1,d)&&T,f)for(A=0;A<f.length;A++)k=d.g=f[A],T=Kc(k,g,!1,d)&&T}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Gc(f[g]);delete c.g[d],c.h--}}this.F=null},ot.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},ot.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Kc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,A=0;A<d.length;++A){var k=d[A];if(k&&!k.da&&k.capture==f){var Ce=k.listener,tt=k.ha||k.src;k.fa&&Wh(c.i,k),T=Ce.call(tt,g)!==!1&&T}}return T&&!g.defaultPrevented}function Pw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Ow(c){c.g=Pw(()=>{c.g=null,c.i&&(c.i=!1,Ow(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class qx extends yr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ow(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uo(c){yr.call(this),this.h=c,this.g={}}S(Uo,yr);var kw=[];function Fw(c){ie(c.g,function(d,f){this.g.hasOwnProperty(f)&&Jh(d)},c),c.g={}}Uo.prototype.N=function(){Uo.aa.N.call(this),Fw(this)},Uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tf=a.JSON.stringify,zx=a.JSON.parse,Gx=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function nf(){}nf.prototype.h=null;function Lw(c){return c.h||(c.h=c.i())}function Vw(){}var Bo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rf(){st.call(this,"d")}S(rf,st);function sf(){st.call(this,"c")}S(sf,st);var ci={},jw=null;function Qc(){return jw=jw||new ot}ci.La="serverreachability";function Uw(c){st.call(this,ci.La,c)}S(Uw,st);function $o(c){let d=Qc();wt(d,new Uw(d))}ci.STAT_EVENT="statevent";function Bw(c,d){st.call(this,ci.STAT_EVENT,c),this.stat=d}S(Bw,st);function It(c){let d=Qc();wt(d,new Bw(d,c))}ci.Ma="timingevent";function $w(c,d){st.call(this,ci.Ma,c),this.size=d}S($w,st);function Ho(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function qo(){this.g=!0}qo.prototype.xa=function(){this.g=!1};function Wx(c,d,f,g,T,A){c.info(function(){if(c.g)if(A)for(var k="",Ce=A.split("&"),tt=0;tt<Ce.length;tt++){var we=Ce[tt].split("=");if(1<we.length){var at=we[0];we=we[1];var ct=at.split("_");k=2<=ct.length&&ct[1]=="type"?k+(at+"="+we+"&"):k+(at+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+k})}function Kx(c,d,f,g,T,A,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+A+" "+k})}function rs(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Yx(c,f)+(g?" "+g:"")})}function Qx(c,d){c.info(function(){return"TIMEOUT: "+d})}qo.prototype.info=function(){};function Yx(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var A=T[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<T.length;k++)T[k]=""}}}}return tf(f)}catch{return d}}var Yc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},of;function Jc(){}S(Jc,nf),Jc.prototype.g=function(){return new XMLHttpRequest},Jc.prototype.i=function(){return{}},of=new Jc;function vr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Uo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qw}function qw(){this.i=null,this.g="",this.h=!1}var zw={},af={};function cf(c,d,f){c.L=1,c.v=tu($n(d)),c.m=f,c.P=!0,Gw(c,null)}function Gw(c,d){c.F=Date.now(),Zc(c),c.A=$n(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),oI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new qw,c.g=DI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new qx(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(kw[0]=T.toString()),T=kw);for(var A=0;A<T.length;A++){var k=Aw(f,T[A],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),$o(),Wx(c.i,c.u,c.A,c.l,c.R,c.m)}vr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Hn(c)==3?d.j():this.Y(c)},vr.prototype.Y=function(c){try{if(c==this.g)e:{let ct=Hn(this.g);var d=this.g.Ba();let os=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||fI(this.g)))){this.J||ct!=4||d==7||(d==8||0>=os?$o(3):$o(2)),uf(this);var f=this.g.Z();this.X=f;t:if(Ww(this)){var g=fI(this.g);c="";var T=g.length,A=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ui(this),zo(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==T-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,Kx(this.i,this.u,this.A,this.l,this.R,ct,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,tt=this.g;if((Ce=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ce)){var we=Ce;break t}}we=null}if(f=we)rs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lf(this,f);else{this.o=!1,this.s=3,It(12),ui(this),zo(this);break e}}if(this.P){f=!0;let rn;for(;!this.J&&this.C<k.length;)if(rn=Jx(this,k),rn==af){ct==4&&(this.s=4,It(14),f=!1),rs(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==zw){this.s=4,It(15),rs(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else rs(this.i,this.l,rn,null),lf(this,rn);if(Ww(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||k.length!=0||this.h.h||(this.s=1,It(16),f=!1),this.o=this.o&&f,!f)rs(this.i,this.l,k,"[Invalid Chunked Response]"),ui(this),zo(this);else if(0<k.length&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.ba&&!at.M&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),mf(at),at.M=!0,It(11))}}else rs(this.i,this.l,k,null),lf(this,k);ct==4&&ui(this),this.o&&!this.J&&(ct==4?wI(this.j,this):(this.o=!1,Zc(this)))}else pR(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),ui(this),zo(this)}}}catch{}finally{}};function Ww(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Jx(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?af:(f=Number(d.substring(f,g)),isNaN(f)?zw:(g+=1,g+f>d.length?af:(d=d.slice(g,g+f),c.C=g+f,d)))}vr.prototype.cancel=function(){this.J=!0,ui(this)};function Zc(c){c.S=Date.now()+c.I,Kw(c,c.I)}function Kw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ho(m(c.ba,c),d)}function uf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}vr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Qx(this.i,this.A),this.L!=2&&($o(),It(17)),ui(this),this.s=2,zo(this)):Kw(this,this.S-c)};function zo(c){c.j.G==0||c.J||wI(c.j,c)}function ui(c){uf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Fw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function lf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||df(f.h,c))){if(!c.K&&df(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)ou(f),iu(f);else break e;gf(f),It(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ho(m(f.Za,f),6e3));if(1>=Jw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else di(f,11)}else if((c.K||f.g==c)&&ou(f),!W(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let we=T[d];if(f.T=we[0],we=we[1],f.G==2)if(we[0]=="c"){f.K=we[1],f.ia=we[2];let at=we[3];at!=null&&(f.la=at,f.j.info("VER="+f.la));let ct=we[4];ct!=null&&(f.Aa=ct,f.j.info("SVER="+f.Aa));let os=we[5];os!=null&&typeof os=="number"&&0<os&&(g=1.5*os,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let rn=c.g;if(rn){let cu=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cu){var A=g.h;A.g||cu.indexOf("spdy")==-1&&cu.indexOf("quic")==-1&&cu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(hf(A,A.h),A.h=null))}if(g.D){let yf=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;yf&&(g.ya=yf,Me(g.I,g.D,yf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=bI(g,g.J?g.ia:null,g.W),k.K){Zw(g.h,k);var Ce=k,tt=g.L;tt&&(Ce.I=tt),Ce.B&&(uf(Ce),Zc(Ce)),g.g=k}else vI(g);0<f.i.length&&su(f)}else we[0]!="stop"&&we[0]!="close"||di(f,7);else f.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?di(f,7):pf(f):we[0]!="noop"&&f.l&&f.l.ta(we),f.v=0)}}$o(4)}catch{}}var Zx=class{constructor(c,d){this.g=c,this.map=d}};function Qw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Jw(c){return c.h?1:c.g?c.g.size:0}function df(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function hf(c,d){c.g?c.g.add(d):c.h=d}function Zw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Qw.prototype.cancel=function(){if(this.i=Xw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Xw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function Xx(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function eR(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function eI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=eR(c),g=Xx(c),T=g.length,A=0;A<T;A++)d.call(void 0,g[A],f&&f[A],c)}var tI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tR(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),T=null;if(0<=g){var A=c[f].substring(0,g);T=c[f].substring(g+1)}else A=c[f];d(A,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function li(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof li){this.h=c.h,Xc(this,c.j),this.o=c.o,this.g=c.g,eu(this,c.s),this.l=c.l;var d=c.i,f=new Ko;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),nI(this,f),this.m=c.m}else c&&(d=String(c).match(tI))?(this.h=!1,Xc(this,d[1]||"",!0),this.o=Go(d[2]||""),this.g=Go(d[3]||"",!0),eu(this,d[4]),this.l=Go(d[5]||"",!0),nI(this,d[6]||"",!0),this.m=Go(d[7]||"")):(this.h=!1,this.i=new Ko(null,this.h))}li.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Wo(d,rI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Wo(d,rI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Wo(f,f.charAt(0)=="/"?iR:rR,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Wo(f,oR)),c.join("")};function $n(c){return new li(c)}function Xc(c,d,f){c.j=f?Go(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function eu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function nI(c,d,f){d instanceof Ko?(c.i=d,aR(c.i,c.h)):(f||(d=Wo(d,sR)),c.i=new Ko(d,c.h))}function Me(c,d,f){c.i.set(d,f)}function tu(c){return Me(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Go(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Wo(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,nR),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var rI=/[#\/\?@]/g,rR=/[#\?:]/g,iR=/[#\?]/g,sR=/[#\?@]/g,oR=/#/g;function Ko(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function _r(c){c.g||(c.g=new Map,c.h=0,c.i&&tR(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ko.prototype,t.add=function(c,d){_r(this),this.i=null,c=is(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function iI(c,d){_r(c),d=is(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function sI(c,d){return _r(c),d=is(c,d),c.g.has(d)}t.forEach=function(c,d){_r(this),this.g.forEach(function(f,g){f.forEach(function(T){c.call(d,T,g,this)},this)},this)},t.na=function(){_r(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=c[g];for(let A=0;A<T.length;A++)f.push(d[g])}return f},t.V=function(c){_r(this);let d=[];if(typeof c=="string")sI(this,c)&&(d=d.concat(this.g.get(is(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return _r(this),this.i=null,c=is(this,c),sI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function oI(c,d,f){iI(c,d),0<f.length&&(c.i=null,c.g.set(is(c,d),R(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var T=A;k[g]!==""&&(T+="="+encodeURIComponent(String(k[g]))),c.push(T)}}return this.i=c.join("&")};function is(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function aR(c,d){d&&!c.j&&(_r(c),c.i=null,c.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(iI(this,g),oI(this,T,f))},c)),c.j=d}function cR(c,d){let f=new qo;if(a.Image){let g=new Image;g.onload=v(wr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(wr,f,"TestLoadImage: error",!1,d,g),g.onabort=v(wr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(wr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function uR(c,d){let f=new qo,g=new AbortController,T=setTimeout(()=>{g.abort(),wr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(T),A.ok?wr(f,"TestPingServer: ok",!0,d):wr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),wr(f,"TestPingServer: error",!1,d)})}function wr(c,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function lR(){this.g=new Gx}function dR(c,d,f){let g=f||"";try{eI(c,function(T,A){let k=T;l(T)&&(k=tf(T)),d.push(g+A+"="+encodeURIComponent(k))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function Qo(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Qo,nf),Qo.prototype.g=function(){return new nu(this.l,this.j)},Qo.prototype.i=function(c){return function(){return c}}({});function nu(c,d){ot.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(nu,ot),t=nu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Jo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jo(this)),this.g&&(this.readyState=3,Jo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;aI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function aI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Yo(this):Jo(this),this.readyState==3&&aI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Yo(this))},t.Qa=function(c){this.g&&(this.response=c,Yo(this))},t.ga=function(){this.g&&Yo(this)};function Yo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Jo(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Jo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(nu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function cI(c){let d="";return ie(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function ff(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=cI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Me(c,d,f))}function Le(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Le,ot);var hR=/^https?$/i,fR=["POST","PUT"];t=Le.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():of.g(),this.v=this.o?Lw(this.o):Lw(of),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){uI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(fR,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of f)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){uI(this,A)}};function uI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,lI(c),ru(c)}function lI(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),ru(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ru(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dI(this):this.bb())},t.bb=function(){dI(this)};function dI(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)Pw(c.Ea,0,c);else if(wt(c,"readystatechange"),Hn(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var T=String(c.D).match(tI)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),g=!hR.test(T?T.toLowerCase():"")}f=g}if(f)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var A=2<Hn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",lI(c)}}finally{ru(c)}}}}function ru(c,d){if(c.g){hI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||wt(c,"ready");try{f.onreadystatechange=g}catch{}}}function hI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),zx(d)}};function fI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pR(c){let d={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(W(c[g]))continue;var f=D(c[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[T]||[];d[T]=A,A.push(f)}b(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zo(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function pI(c){this.Aa=0,this.i=[],this.j=new qo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zo("baseRetryDelayMs",5e3,c),this.cb=Zo("retryDelaySeedMs",1e4,c),this.Wa=Zo("forwardChannelMaxRetries",2,c),this.wa=Zo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Qw(c&&c.concurrentRequestLimit),this.Da=new lR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=pI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){It(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=bI(this,null,this.W),su(this)};function pf(c){if(gI(c),c.G==3){var d=c.U++,f=$n(c.I);if(Me(f,"SID",c.K),Me(f,"RID",d),Me(f,"TYPE","terminate"),Xo(c,f),d=new vr(c,c.j,d),d.L=2,d.v=tu($n(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=DI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Zc(d)}EI(c)}function iu(c){c.g&&(mf(c),c.g.cancel(),c.g=null)}function gI(c){iu(c),c.u&&(a.clearTimeout(c.u),c.u=null),ou(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function su(c){if(!Yw(c.h)&&!c.s){c.s=!0;var d=c.Ga;Fo||Sw(),Lo||(Fo(),Lo=!0),Gh.add(d,c),c.B=0}}function gR(c,d){return Jw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ho(m(c.Ga,c,d),II(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new vr(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(T.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=yI(this,T,d),f=$n(this.I),Me(f,"RID",c),Me(f,"CVER",22),this.D&&Me(f,"X-HTTP-Session-Id",this.D),Xo(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(cI(A)))+"&"+d:this.m&&ff(f,this.m,A)),hf(this.h,T),this.Ua&&Me(f,"TYPE","init"),this.P?(Me(f,"$req",d),Me(f,"SID","null"),T.T=!0,cf(T,f,null)):cf(T,f,d),this.G=2}}else this.G==3&&(c?mI(this,c):this.i.length==0||Yw(this.h)||mI(this))};function mI(c,d){var f;d?f=d.l:f=c.U++;let g=$n(c.I);Me(g,"SID",c.K),Me(g,"RID",f),Me(g,"AID",c.T),Xo(c,g),c.m&&c.o&&ff(g,c.m,c.o),f=new vr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=yI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),hf(c.h,f),cf(f,g,d)}function Xo(c,d){c.H&&ie(c.H,function(f,g){Me(d,g,f)}),c.l&&eI({},function(f,g){Me(d,g,f)})}function yI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var T=c.i;let A=-1;for(;;){let k=["count="+f];A==-1?0<f?(A=T[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let Ce=!0;for(let tt=0;tt<f;tt++){let we=T[tt].g,at=T[tt].map;if(we-=A,0>we)A=Math.max(0,T[tt].g-100),Ce=!1;else try{dR(at,k,"req"+we+"_")}catch{g&&g(at)}}if(Ce){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function vI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Fo||Sw(),Lo||(Fo(),Lo=!0),Gh.add(d,c),c.v=0}}function gf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ho(m(c.Fa,c),II(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,_I(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ho(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),iu(this),_I(this))};function mf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function _I(c){c.g=new vr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=$n(c.qa);Me(d,"RID","rpc"),Me(d,"SID",c.K),Me(d,"AID",c.T),Me(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Me(d,"TO",c.ja),Me(d,"TYPE","xmlhttp"),Xo(c,d),c.m&&c.o&&ff(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=tu($n(d)),f.m=null,f.P=!0,Gw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,iu(this),gf(this),It(19))};function ou(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function wI(c,d){var f=null;if(c.g==d){ou(c),mf(c),c.g=null;var g=2}else if(df(c.h,d))f=d.D,Zw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;g=Qc(),wt(g,new $w(g,f)),su(c)}else vI(c);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&gR(c,d)||g==2&&gf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:di(c,5);break;case 4:di(c,10);break;case 3:di(c,6);break;default:di(c,2)}}}function II(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function di(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let T=!g;g=new li(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Xc(g,"https"),tu(g),T?cR(g.toString(),f):uR(g.toString(),f)}else It(2);c.G=0,c.l&&c.l.sa(d),EI(c),gI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function EI(c){if(c.G=0,c.ka=[],c.l){let d=Xw(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ka,d),x(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function bI(c,d,f){var g=f instanceof li?$n(f):new li(f);if(g.g!="")d&&(g.g=d+"."+g.g),eu(g,g.s);else{var T=a.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var A=new li(null);g&&Xc(A,g),d&&(A.g=d),T&&eu(A,T),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Me(g,f,d),Me(g,"VER",c.la),Xo(c,g),g}function DI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Le(new Qo({eb:f})):new Le(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function TI(){}t=TI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function au(){}au.prototype.g=function(c,d){return new Pt(c,d)};function Pt(c,d){ot.call(this),this.g=new pI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!W(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ss(this)}S(Pt,ot),Pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){pf(this.g)},Pt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=tf(c),c=f);d.i.push(new Zx(d.Ya++,c)),d.G==3&&su(d)},Pt.prototype.N=function(){this.g.l=null,delete this.j,pf(this.g),delete this.g,Pt.aa.N.call(this)};function CI(c){rf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(CI,rf);function SI(){sf.call(this),this.status=1}S(SI,sf);function ss(c){this.g=c}S(ss,TI),ss.prototype.ua=function(){wt(this.g,"a")},ss.prototype.ta=function(c){wt(this.g,new CI(c))},ss.prototype.sa=function(c){wt(this.g,new SI)},ss.prototype.ra=function(){wt(this.g,"b")},au.prototype.createWebChannel=au.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,pv=dr.createWebChannelTransport=function(){return new au},fv=dr.getStatEventTarget=function(){return Qc()},hv=dr.Event=ci,$d=dr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yc.NO_ERROR=0,Yc.TIMEOUT=8,Yc.HTTP_ERROR=6,gc=dr.ErrorCode=Yc,Hw.COMPLETE="complete",dv=dr.EventType=Hw,Vw.EventType=Bo,Bo.OPEN="a",Bo.CLOSE="b",Bo.ERROR="c",Bo.MESSAGE="d",ot.prototype.listen=ot.prototype.K,uo=dr.WebChannel=Vw,lv=dr.FetchXmlHttpFactory=Qo,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,uv=dr.XhrIo=Le}).apply(typeof Bd<"u"?Bd:typeof self<"u"?self:typeof window<"u"?window:{});var JC="@firebase/firestore";var et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");var xo="10.13.1";var Ki=new qr("@firebase/firestore");function mc(){return Ki.logLevel}function B(t,...e){if(Ki.logLevel<=fe.DEBUG){let n=e.map(ew);Ki.debug(`Firestore (${xo}): ${t}`,...n)}}function fr(t,...e){if(Ki.logLevel<=fe.ERROR){let n=e.map(ew);Ki.error(`Firestore (${xo}): ${t}`,...n)}}function yo(t,...e){if(Ki.logLevel<=fe.WARN){let n=e.map(ew);Ki.warn(`Firestore (${xo}): ${t}`,...n)}}function ew(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ne(t="Unexpected state"){let e=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: `+t;throw fr(e),new Error(e)}function Ae(t,e){t||ne()}function re(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Bt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var hr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Wd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},_v=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(et.UNAUTHENTICATED))}shutdown(){}},wv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Iv=class{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new hr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>I(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new hr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new Wd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new et(e)}},Ev=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},bv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ev(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Dv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Tv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new Dv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function oB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Kd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=oB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Ee(t,e){return t<e?-1:t>e?1:0}function vo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ne=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ne(0,0))}static max(){return new t(new Ne(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Qd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Fe=class t extends Qd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},aB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qt=class t extends Qd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return aB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Fe.fromString(e))}static fromName(e){return new t(Fe.fromString(e).popFirst(5))}static empty(){return new t(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Fe(e.slice()))}};var Cv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Cv.UNKNOWN_ID=-1;function cB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new Ne(n+1,0):new Ne(n,r));return new Qi(i,Q.empty(),e)}function uB(t){return new Qi(t.readTime,t.key,-1)}var Qi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ae.min(),Q.empty(),-1)}static max(){return new t(ae.max(),Q.empty(),-1)}};function lB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}var dB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Sv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function kc(t){return I(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==dB)throw t;B("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function hB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fc(t){return t.name==="IndexedDbTransactionError"}var NS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Th(t){return t==null}function bc(t){return t===0&&1/t==-1/0}function fB(t){return typeof t=="number"&&Number.isInteger(t)&&!bc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var pB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xK=[...pB,"documentOverlays"],gB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mB=gB,yB=[...mB,"indexConfiguration","indexState","indexEntries"];var RK=[...yB,"globals"];function ZC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ro(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var je=class t{constructor(e,n){this.comparator=e,this.root=n||Fn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new po(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new po(this.root,e,this.comparator,!1)}getReverseIterator(){return new po(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new po(this.root,e,this.comparator,!0)}},po=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Fn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var vt=class t{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yd(this.data.getIterator())}getIteratorFrom(e){return new Yd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Yd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var kn=class t{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new t([])}unionWith(e){let n=new vt(qt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Jd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var _t=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Jd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};_t.EMPTY_BYTE_STRING=new _t("");var vB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(t){if(Ae(!!t),typeof t=="string"){let e=0,n=vB.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ei(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}function tw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nw(t){let e=t.mapValue.fields.__previous_value__;return tw(e)?nw(e):e}function Dc(t){let e=pr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ne(e.seconds,e.nanos)}var Av=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Zd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Hd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tw(t)?4:kS(t)?9007199254740991:OS(t)?10:11:ne()}function jn(t,e){if(t===e)return!0;let n=Yi(t);if(n!==Yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dc(t).isEqual(Dc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=pr(i.timestampValue),a=pr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ei(i.bytesValue).isEqual(ei(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Pe(i.geoPointValue.latitude)===Pe(s.geoPointValue.latitude)&&Pe(i.geoPointValue.longitude)===Pe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Pe(i.integerValue)===Pe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Pe(i.doubleValue),a=Pe(s.doubleValue);return o===a?bc(o)===bc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return vo(t.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ZC(o)!==ZC(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!jn(o[u],a[u])))return!1;return!0}(t,e);default:return ne()}}function Tc(t,e){return(t.values||[]).find(n=>jn(n,e))!==void 0}function _o(t,e){if(t===e)return 0;let n=Yi(t),r=Yi(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Pe(s.integerValue||s.doubleValue),u=Pe(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return XC(t.timestampValue,e.timestampValue);case 4:return XC(Dc(t),Dc(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(s,o){let a=ei(s),u=ei(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Ee(a[l],u[l]);if(h!==0)return h}return Ee(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Ee(Pe(s.latitude),Pe(o.latitude));return a!==0?a:Ee(Pe(s.longitude),Pe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return eS(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,R=Ee(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:eS(v,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Hd.mapValue&&o===Hd.mapValue)return 0;if(s===Hd.mapValue)return 1;if(o===Hd.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Ee(u[p],h[p]);if(m!==0)return m;let v=_o(a[u[p]],l[h[p]]);if(v!==0)return v}return Ee(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ne()}}function XC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);let n=pr(t),r=pr(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function eS(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=_o(n[i],r[i]);if(s)return s}return Ee(n.length,r.length)}function wo(t){return xv(t)}function xv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=pr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ei(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=xv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${xv(n.fields[o])}`;return i+"}"}(t.mapValue):ne()}function tS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rv(t){return!!t&&"integerValue"in t}function rw(t){return!!t&&"arrayValue"in t}function nS(t){return!!t&&"nullValue"in t}function rS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zd(t){return!!t&&"mapValue"in t}function OS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function vc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ro(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var gn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=vc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ro(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(vc(this.value))}};function FS(t){let e=[];return Ro(t.fields,(n,r)=>{let i=new qt([n]);if(zd(r)){let s=FS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new kn(e)}var mn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ae.min(),ae.min(),ae.min(),gn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ae.min(),ae.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ae.min(),ae.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Io=class{constructor(e,n){this.position=e,this.inclusive=n}};function iS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=_o(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function sS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jn(t.position[n],e.position[n]))return!1;return!0}var Ji=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function _B(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Xd=class{},Ke=class t extends Xd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Nv(e,n,r):n==="array-contains"?new kv(e,r):n==="in"?new Fv(e,r):n==="not-in"?new Lv(e,r):n==="array-contains-any"?new Vv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Pv(e,r):new Ov(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_o(n,this.value)):n!==null&&Yi(this.value)===Yi(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},yn=class t extends Xd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return LS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function LS(t){return t.op==="and"}function VS(t){return wB(t)&&LS(t)}function wB(t){for(let e of t.filters)if(e instanceof yn)return!1;return!0}function Mv(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+wo(t.value);if(VS(t))return t.filters.map(e=>Mv(e)).join(",");{let e=t.filters.map(n=>Mv(n)).join(",");return`${t.op}(${e})`}}function jS(t,e){return t instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&jn(r.value,i.value)}(t,e):t instanceof yn?function(r,i){return i instanceof yn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&jS(o,i.filters[a]),!0):!1}(t,e):void ne()}function US(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`}(t):t instanceof yn?function(n){return n.op.toString()+" {"+n.getFilters().map(US).join(" ,")+"}"}(t):"Filter"}var Nv=class extends Ke{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){let n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}},Pv=class extends Ke{constructor(e,n){super(e,"in",n),this.keys=BS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Ov=class extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=BS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function BS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}var kv=class extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return rw(n)&&Tc(n.arrayValue,this.value)}},Fv=class extends Ke{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Tc(this.value.arrayValue,n)}},Lv=class extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Tc(this.value.arrayValue,n)}},Vv=class extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!rw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Tc(this.value.arrayValue,r))}};var jv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function oS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new jv(t,e,n,r,i,s,o)}function iw(t){let e=re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wo(r)).join(",")),e.ue=n}return e.ue}function sw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_B(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sS(t.startAt,e.startAt)&&sS(t.endAt,e.endAt)}function Uv(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ti=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function IB(t,e,n,r,i,s,o,a){return new ti(t,e,n,r,i,s,o,a)}function ow(t){return new ti(t)}function aS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $S(t){return t.collectionGroup!==null}function _c(t){let e=re(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vt(qt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ji(s,r))}),n.has(qt.keyField().canonicalString())||e.ce.push(new Ji(qt.keyField(),r))}return e.ce}function Ln(t){let e=re(t);return e.le||(e.le=EB(e,_c(t))),e.le}function EB(t,e){if(t.limitType==="F")return oS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ji(i.field,s)});let n=t.endAt?new Io(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Io(t.startAt.position,t.startAt.inclusive):null;return oS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bv(t,e){let n=t.filters.concat([e]);return new ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $v(t,e,n){return new ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ch(t,e){return sw(Ln(t),Ln(e))&&t.limitType===e.limitType}function HS(t){return`${iw(Ln(t))}|lt:${t.limitType}`}function lo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>US(i)).join(", ")}]`),Th(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>wo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>wo(i)).join(",")),`Target(${r})`}(Ln(t))}; limitType=${t.limitType})`}function Sh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of _c(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=iS(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,_c(r),i)||r.endAt&&!function(o,a,u){let l=iS(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,_c(r),i))}(t,e)}function bB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qS(t){return(e,n)=>{let r=!1;for(let i of _c(t)){let s=DB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function DB(t,e,n){let r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?_o(u,l):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}var ni=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return PS(this.inner)}size(){return this.innerSize}};var TB=new je(Q.comparator);function gr(){return TB}var zS=new je(Q.comparator);function yc(...t){let e=zS;for(let n of t)e=e.insert(n.key,n);return e}function GS(t){let e=zS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qi(){return wc()}function WS(){return wc()}function wc(){return new ni(t=>t.toString(),(t,e)=>t.isEqual(e))}var CB=new je(Q.comparator),SB=new vt(Q.comparator);function pe(...t){let e=SB;for(let n of t)e=e.add(n);return e}var AB=new vt(Ee);function xB(){return AB}function aw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(e)?"-0":e}}function KS(t){return{integerValue:""+t}}function RB(t,e){return fB(e)?KS(e):aw(t,e)}var Eo=class{constructor(){this._=void 0}};function MB(t,e,n){return t instanceof bo?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&tw(s)&&(s=nw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Zi?YS(t,e):t instanceof Xi?JS(t,e):function(i,s){let o=QS(i,s),a=cS(o)+cS(i.Pe);return Rv(o)&&Rv(i.Pe)?KS(a):aw(i.serializer,a)}(t,e)}function NB(t,e,n){return t instanceof Zi?YS(t,e):t instanceof Xi?JS(t,e):n}function QS(t,e){return t instanceof Do?function(r){return Rv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var bo=class extends Eo{},Zi=class extends Eo{constructor(e){super(),this.elements=e}};function YS(t,e){let n=ZS(e);for(let r of t.elements)n.some(i=>jn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Xi=class extends Eo{constructor(e){super(),this.elements=e}};function JS(t,e){let n=ZS(e);for(let r of t.elements)n=n.filter(i=>!jn(i,r));return{arrayValue:{values:n}}}var Do=class extends Eo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function cS(t){return Pe(t.integerValue||t.doubleValue)}function ZS(t){return rw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function PB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zi&&i instanceof Zi||r instanceof Xi&&i instanceof Xi?vo(r.elements,i.elements,jn):r instanceof Do&&i instanceof Do?jn(r.Pe,i.Pe):r instanceof bo&&i instanceof bo}(t.transform,e.transform)}var Hv=class{constructor(e,n){this.version=e,this.transformResults=n}},Wi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Gd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var To=class{};function XS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new eh(t.key,Wi.none()):new es(t.key,t.data,Wi.none());{let n=t.data,r=gn.empty(),i=new vt(qt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new mr(t.key,r,new kn(i.toArray()),Wi.none())}}function OB(t,e,n){t instanceof es?function(i,s,o){let a=i.value.clone(),u=lS(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof mr?function(i,s,o){if(!Gd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=lS(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(eA(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ic(t,e,n,r){return t instanceof es?function(s,o,a,u){if(!Gd(s.precondition,o))return a;let l=s.value.clone(),h=dS(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof mr?function(s,o,a,u){if(!Gd(s.precondition,o))return a;let l=dS(s.fieldTransforms,u,o),h=o.data;return h.setAll(eA(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Gd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function kB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=QS(r.transform,i||null);s!=null&&(n===null&&(n=gn.empty()),n.set(r.field,s))}return n||null}function uS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vo(r,i,(s,o)=>PB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var es=class extends To{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},mr=class extends To{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function eA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function lS(t,e,n){let r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,NB(o,a,n[i]))}return r}function dS(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,MB(s,o,e))}return r}var eh=class extends To{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},qv=class extends To{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var zv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&OB(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=WS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=XS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,(n,r)=>uS(n,r))&&vo(this.baseMutations,e.baseMutations,(n,r)=>uS(n,r))}},Gv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return CB}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Wv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Kv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ge,ve;function FB(t){switch(t){default:return ne();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function tA(t){if(t===void 0)return fr("GRPC error has no .code"),M.UNKNOWN;switch(t){case Ge.OK:return M.OK;case Ge.CANCELLED:return M.CANCELLED;case Ge.UNKNOWN:return M.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return M.INTERNAL;case Ge.UNAVAILABLE:return M.UNAVAILABLE;case Ge.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ge.NOT_FOUND:return M.NOT_FOUND;case Ge.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ge.ABORTED:return M.ABORTED;case Ge.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ge.DATA_LOSS:return M.DATA_LOSS;default:return ne()}}(ve=Ge||(Ge={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";var hS=null;function LB(){return new TextEncoder}var VB=new Zr([4294967295,4294967295],0);function fS(t){let e=LB().encode(t),n=new cv;return n.update(e),new Uint8Array(n.digest())}function pS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zr([n,r],0),new Zr([i,s],0)]}var Qv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zi(`Invalid padding: ${n}`);if(r<0)throw new zi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Zr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Zr.fromNumber(r)));return i.compare(VB)===1&&(i=new Zr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=fS(e),[r,i]=pS(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=fS(e),[r,i]=pS(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},zi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var th=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ae.min(),i,new je(Ee),gr(),pe())}},Cc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,pe(),pe(),pe())}};var go=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},nh=class{constructor(e,n){this.targetId=e,this.me=n}},rh=class{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},ih=class{constructor(){this.fe=0,this.ge=mS(),this.pe=_t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),n=pe(),r=pe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new Cc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=mS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Yv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=gr(),this.qe=gS(),this.Qe=new je(Ee)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Uv(s))if(r===0){let o=new Q(s.path);this.Ue(n,o,mn.newNoDocument(o,ae.min()))}else Ae(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}hS?.et(function(h,p,m,v,S){var R,x,N,W,K,J;let xe={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ie=p.unchangedNames;return ie&&(xe.bloomFilter={applied:S===0,hashCount:(R=ie?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(W=(N=(x=ie?.bits)===null||x===void 0?void 0:x.bitmap)===null||N===void 0?void 0:N.length)!==null&&W!==void 0?W:0,padding:(J=(K=ie?.bits)===null||K===void 0?void 0:K.padding)!==null&&J!==void 0?J:0,mightContain:b=>{var y;return(y=v?.mightContain(b))!==null&&y!==void 0&&y}}),xe}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=ei(r).toUint8Array()}catch(u){if(u instanceof Jd)return yo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Qv(o,i,s)}catch(u){return yo(u instanceof zi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Uv(a.target)){let u=new Q(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,mn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=pe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new th(e,n,this.Qe,this.ke,r);return this.ke=gr(),this.qe=gS(),this.Qe=new je(Ee),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ih,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new vt(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ih),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function gS(){return new je(Q.comparator)}function mS(){return new je(Q.comparator)}var jB={asc:"ASCENDING",desc:"DESCENDING"},UB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BB={and:"AND",or:"OR"},Jv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Zv(t,e){return t.useProto3Json||Th(e)?e:{value:e}}function sh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $B(t,e){return sh(t,e.toTimestamp())}function Vn(t){return Ae(!!t),ae.fromTimestamp(function(n){let r=pr(n);return new Ne(r.seconds,r.nanos)}(t))}function cw(t,e){return Xv(t,e).canonicalString()}function Xv(t,e){let n=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rA(t){let e=Fe.fromString(t);return Ae(cA(e)),e}function e_(t,e){return cw(t.databaseId,e.path)}function gv(t,e){let n=rA(e);if(n.get(1)!==t.databaseId.projectId)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(sA(n))}function iA(t,e){return cw(t.databaseId,e)}function HB(t){let e=rA(t);return e.length===4?Fe.emptyPath():sA(e)}function t_(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sA(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yS(t,e,n){return{name:e_(t,e),fields:n.value.mapValue.fields}}function qB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(Ae(h===void 0||typeof h=="string"),_t.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array),_t.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?M.UNKNOWN:tA(l.code);return new L(h,l.message||"")}(o);n=new rh(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=gv(t,r.document.name),s=Vn(r.document.updateTime),o=r.document.createTime?Vn(r.document.createTime):ae.min(),a=new gn({mapValue:{fields:r.document.fields}}),u=mn.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new go(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=gv(t,r.document),s=r.readTime?Vn(r.readTime):ae.min(),o=mn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new go([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=gv(t,r.document),s=r.removedTargetIds||[];n=new go([],s,i,null)}else{if(!("filter"in e))return ne();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Kv(i,s),a=r.targetId;n=new nh(a,o)}}return n}function zB(t,e){let n;if(e instanceof es)n={update:yS(t,e.key,e.value)};else if(e instanceof eh)n={delete:e_(t,e.key)};else if(e instanceof mr)n={update:yS(t,e.key,e.data),updateMask:e$(e.fieldMask)};else{if(!(e instanceof qv))return ne();n={verify:e_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof bo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Do)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:$B(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne()}(t,e.precondition)),n}function GB(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Vn(i.updateTime):Vn(s);return o.isEqual(ae.min())&&(o=Vn(s)),new Hv(o,i.transformResults||[])}(n,e))):[]}function WB(t,e){return{documents:[iA(t,e.path)]}}function KB(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iA(t,i);let s=function(l){if(l.length!==0)return aA(yn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ho(m.field),direction:JB(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Zv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function QB(t){let e=HB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ae(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=oA(p);return m instanceof yn&&VS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(S){return new Ji(fo(S.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Th(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new Io(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new Io(v,m)}(n.endAt)),IB(e,i,o,s,a,"F",u,l)}function YB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=fo(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=fo(n.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=fo(n.unaryFilter.field);return Ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=fo(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(fo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yn.create(n.compositeFilter.filters.map(r=>oA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function JB(t){return jB[t]}function ZB(t){return UB[t]}function XB(t){return BB[t]}function ho(t){return{fieldPath:t.canonicalString()}}function fo(t){return qt.fromServerFormat(t.fieldPath)}function aA(t){return t instanceof Ke?function(n){if(n.op==="=="){if(rS(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NAN"}};if(nS(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rS(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NAN"}};if(nS(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(n.field),op:ZB(n.op),value:n.value}}}(t):t instanceof yn?function(n){let r=n.getFilters().map(i=>aA(i));return r.length===1?r[0]:{compositeFilter:{op:XB(n.op),filters:r}}}(t):ne()}function e$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Sc=class t{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var n_=class{constructor(e){this.ct=e}};function t$(t){let e=QB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$v(e,e.limit,"L"):e}var oh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Pe(e.integerValue));else if("doubleValue"in e){let r=Pe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),bc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=pr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ei(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?kS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):OS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ne()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Pe(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Q.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};oh.vt=new oh;var r_=class{constructor(){this.un=new i_}addToCollectionParentIndex(e,n){return this.un.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Qi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},i_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vt(Fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(Fe.comparator)).toArray()}};var NK=new Uint8Array(0);var On=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(41943040,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);var Ac=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var s_=class{constructor(){this.changes=new ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var o_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var a_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ic(r.mutation,i,kn.empty(),Ne.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){let i=qi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=yc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=gr(),o=wc(),a=function(){return wc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof mr)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Ic(h.mutation,l,h.mutation.getFieldMask(),Ne.now())):o.set(l.key,kn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new o_(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=wc(),i=new je((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||kn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=WS();h.forEach(m=>{if(!s.has(m)){let v=XS(n.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$S(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(qi()),a=-1,u=s;return o.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,pe())).next(h=>({batchId:a,changes:GS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=yc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=yc();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,u=>{let l=function(p,m){return new ti(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,mn.newInvalidDocument(h)))});let a=yc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&Ic(h.mutation,l,kn.empty(),Ne.now()),Sh(n,l)&&(a=a.insert(u,l))}),a})}};var c_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return P.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Vn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:t$(i.bundledQuery),readTime:Vn(i.readTime)}}(n)),P.resolve()}};var u_=class{constructor(){this.overlays=new je(Q.comparator),this.Ir=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=qi();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=qi(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new je((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=qi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=qi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Wv(n,r));let s=this.Ir.get(n);s===void 0&&(s=pe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var l_=class{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var xc=class{constructor(){this.Tr=new vt(We.Er),this.dr=new vt(We.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new We(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new We(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new Q(new Fe([])),r=new We(n,e),i=new We(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new Q(new Fe([])),r=new We(n,e),i=new We(n,e+1),s=pe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new We(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},We=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Q.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||Q.comparator(e.key,n.key)}};var d_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new vt(We.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new zv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new We(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new We(n,0),i=new We(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(Ee);return n.forEach(i=>{let s=new We(i,0),o=new We(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;Q.isDocumentKey(s)||(s=s.child(""));let o=new We(new Q(s),0),a=new vt(Ee);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),P.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(n.mutations,i=>{let s=new We(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new We(n,0),i=this.br.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var h_=class{constructor(e){this.Mr=e,this.docs=function(){return new je(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():mn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gr(),o=n.path,a=new Q(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||lB(uB(h),r)<=0||(i.has(h.key)||Sh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ne()}Or(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new f_(this)}getSize(e){return P.resolve(this.size)}},f_=class extends s_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var p_=class{constructor(e){this.persistence=e,this.Nr=new ni(n=>iw(n),sw),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new xc,this.targetCount=0,this.kr=Ac.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),P.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Ac(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Kn(n),P.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Br.containsKey(n))}};var g_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new NS(0),this.Kr=!1,this.Kr=!0,this.$r=new l_,this.referenceDelegate=e(this),this.Ur=new p_(this),this.indexManager=new r_,this.remoteDocumentCache=function(i){return new h_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new n_(n),this.Gr=new c_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new u_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new d_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);let i=new m_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},m_=class extends Sv{constructor(e){super(),this.currentSequenceNumber=e}},y_=class t{constructor(e){this.persistence=e,this.Jr=new xc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=Q.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return P.or([()=>P.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var v_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pe(),i=pe();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var __=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var w_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return kT()?8:hB(Ze())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new __;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(mc()<=fe.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(mc()<=fe.DEBUG&&B("QueryEngine","Query:",lo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(mc()<=fe.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ln(n))):P.resolve())}Yi(e,n){if(aS(n))return P.resolve(null);let r=Ln(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$v(n,null,"F"),r=Ln(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=pe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,$v(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return aS(n)||i.isEqual(ae.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?P.resolve(null):(mc()<=fe.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lo(n)),this.rs(e,o,n,cB(i,-1)).next(a=>a))})}ts(e,n){let r=new vt(qS(e));return n.forEach((i,s)=>{Sh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return mc()<=fe.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",lo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Qi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var I_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new je(Ee),this._s=new ni(s=>iw(s),sw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function n$(t,e,n,r){return new I_(t,e,n,r)}function uA(t,e){return I(this,null,function*(){let n=re(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=pe();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function r$(t,e){let n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=P.resolve();return m.forEach(S=>{v=v.next(()=>h.getEntry(u,S)).next(R=>{let x=l.docVersions.get(S);Ae(x!==null),R.version.compareTo(x)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lA(t){let e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function i$(t,e){let n=re(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(_t.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(R,x,N){return R.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(s,v))});let u=gr(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(s$(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ae.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function s$(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gr();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function o$(t,e){let n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function a$(t,e){let n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Sc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function E_(t,e,n){return I(this,null,function*(){let r=re(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Fc(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function vS(t,e,n){let r=re(t),i=ae.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=re(u),m=p._s.get(h);return m!==void 0?P.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,Ln(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:pe())).next(a=>(c$(r,bB(e),a),{documents:a,Ts:s})))}function c$(t,e,n){let r=t.us.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var ah=class{constructor(){this.activeTargetIds=xB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var b_=class{constructor(){this.so=new ah,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ah,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var D_=class{_o(e){}shutdown(){}};var ch=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var qd=null;function mv(){return qd===null?qd=function(){return 268435456+Math.round(2147483648*Math.random())}():qd++,"0x"+qd.toString(16)}var u$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var T_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var yt="WebChannelConnection",C_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=mv(),u=this.xo(n,r.toUriEncodedString());B("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(B("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw yo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=u$[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=mv();return new Promise((o,a)=>{let u=new uv;u.setWithCredentials(!0),u.listenOnce(dv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case gc.NO_ERROR:let h=u.getResponseJson();B(yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case gc.TIMEOUT:B(yt,`RPC '${e}' ${s} timed out`),a(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:let p=u.getStatus();if(B(yt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let S=function(x){let N=x.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(N)>=0?N:M.UNKNOWN}(v.status);a(new L(S,v.message))}else a(new L(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new L(M.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{B(yt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);B(yt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=mv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pv(),a=fv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new lv({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");B(yt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,v=!1,S=new T_({Io:x=>{v?B(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(B(yt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),B(yt,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},To:()=>p.close()}),R=(x,N,W)=>{x.listen(N,K=>{try{W(K)}catch(J){setTimeout(()=>{throw J},0)}})};return R(p,uo.EventType.OPEN,()=>{v||(B(yt,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),R(p,uo.EventType.CLOSE,()=>{v||(v=!0,B(yt,`RPC '${e}' stream ${i} transport closed`),S.So())}),R(p,uo.EventType.ERROR,x=>{v||(v=!0,yo(yt,`RPC '${e}' stream ${i} transport errored:`,x),S.So(new L(M.UNAVAILABLE,"The operation could not be completed")))}),R(p,uo.EventType.MESSAGE,x=>{var N;if(!v){let W=x.data[0];Ae(!!W);let K=W,J=K.error||((N=K[0])===null||N===void 0?void 0:N.error);if(J){B(yt,`RPC '${e}' stream ${i} received error:`,J);let xe=J.status,ie=function(_){let E=Ge[_];if(E!==void 0)return tA(E)}(xe),b=J.message;ie===void 0&&(ie=M.INTERNAL,b="Unknown error status: "+xe+" with message "+J.message),v=!0,S.So(new L(ie,b)),p.close()}else B(yt,`RPC '${e}' stream ${i} received:`,W),S.bo(W)}}),R(a,hv.STAT_EVENT,x=>{x.stat===$d.PROXY?B(yt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===$d.NOPROXY&&B(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function yv(){return typeof document<"u"?document:null}function Ah(t){return new Jv(t,!0)}var uh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var lh=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new uh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return I(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return I(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return I(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>I(this,null,function*(){this.state=0,this.start()}))}I_(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},S_=class extends lh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=qB(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?Vn(o.readTime):ae.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=t_(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=Uv(u)?{documents:WB(s,u)}:{query:KB(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nA(s,o.resumeToken);let l=Zv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=sh(s,o.snapshotVersion.toTimestamp());let l=Zv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=YB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=t_(this.serializer),n.removeTarget=e,this.a_(n)}},A_=class extends lh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=GB(e.writeResults,e.commitTime),r=Vn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=t_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>zB(this.serializer,r))};this.a_(n)}};var x_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Xv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(M.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Xv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},R_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(fr(n),this.D_=!1):B("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var M_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>I(this,null,function*(){ns(this)&&(B("RemoteStore","Restarting streams for network reachability change."),yield function(u){return I(this,null,function*(){let l=re(u);l.L_.add(4),yield Lc(l),l.q_.set("Unknown"),l.L_.delete(4),yield xh(l)})}(this))}))}),this.q_=new R_(r,i)}};function xh(t){return I(this,null,function*(){if(ns(t))for(let e of t.B_)yield e(!0)})}function Lc(t){return I(this,null,function*(){for(let e of t.B_)yield e(!1)})}function dA(t,e){let n=re(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),hw(n)?dw(n):Mo(n).r_()&&lw(n,e))}function uw(t,e){let n=re(t),r=Mo(n);n.N_.delete(e),r.r_()&&hA(n,e),n.N_.size===0&&(r.r_()?r.o_():ns(n)&&n.q_.set("Unknown"))}function lw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(t).A_(e)}function hA(t,e){t.Q_.xe(e),Mo(t).R_(e)}function dw(t){t.Q_=new Yv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Mo(t).start(),t.q_.v_()}function hw(t){return ns(t)&&!Mo(t).n_()&&t.N_.size>0}function ns(t){return re(t).L_.size===0}function fA(t){t.Q_=void 0}function l$(t){return I(this,null,function*(){t.q_.set("Online")})}function d$(t){return I(this,null,function*(){t.N_.forEach((e,n)=>{lw(t,e)})})}function h$(t,e){return I(this,null,function*(){fA(t),hw(t)?(t.q_.M_(e),dw(t)):t.q_.set("Unknown")})}function f$(t,e,n){return I(this,null,function*(){if(t.q_.set("Online"),e instanceof rh&&e.state===2&&e.cause)try{yield function(i,s){return I(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dh(t,r)}else if(e instanceof go?t.Q_.Ke(e):e instanceof nh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ae.min()))try{let r=yield lA(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(_t.EMPTY_BYTE_STRING,h.snapshotVersion)),hA(s,u);let p=new Sc(h.target,u,l,h.sequenceNumber);lw(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){B("RemoteStore","Failed to raise snapshot:",r),yield dh(t,r)}})}function dh(t,e,n){return I(this,null,function*(){if(!Fc(e))throw e;t.L_.add(1),yield Lc(t),t.q_.set("Offline"),n||(n=()=>lA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){B("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield xh(t)}))})}function pA(t,e){return e().catch(n=>dh(t,n,e))}function Rh(t){return I(this,null,function*(){let e=re(t),n=ri(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;p$(e);)try{let i=yield o$(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,g$(e,i)}catch(i){yield dh(e,i)}gA(e)&&mA(e)})}function p$(t){return ns(t)&&t.O_.length<10}function g$(t,e){t.O_.push(e);let n=ri(t);n.r_()&&n.V_&&n.m_(e.mutations)}function gA(t){return ns(t)&&!ri(t).n_()&&t.O_.length>0}function mA(t){ri(t).start()}function m$(t){return I(this,null,function*(){ri(t).p_()})}function y$(t){return I(this,null,function*(){let e=ri(t);for(let n of t.O_)e.m_(n.mutations)})}function v$(t,e,n){return I(this,null,function*(){let r=t.O_.shift(),i=Gv.from(r,e,n);yield pA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Rh(t)})}function _$(t,e){return I(this,null,function*(){e&&ri(t).V_&&(yield function(r,i){return I(this,null,function*(){if(function(o){return FB(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();ri(r).s_(),yield pA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Rh(r)}})}(t,e)),gA(t)&&mA(t)})}function _S(t,e){return I(this,null,function*(){let n=re(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");let r=ns(n);n.L_.add(3),yield Lc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield xh(n)})}function w$(t,e){return I(this,null,function*(){let n=re(t);e?(n.L_.delete(2),yield xh(n)):e||(n.L_.add(2),yield Lc(n),n.q_.set("Unknown"))})}function Mo(t){return t.K_||(t.K_=function(n,r,i){let s=re(n);return s.w_(),new S_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:l$.bind(null,t),Ro:d$.bind(null,t),mo:h$.bind(null,t),d_:f$.bind(null,t)}),t.B_.push(e=>I(this,null,function*(){e?(t.K_.s_(),hw(t)?dw(t):t.q_.set("Unknown")):(yield t.K_.stop(),fA(t))}))),t.K_}function ri(t){return t.U_||(t.U_=function(n,r,i){let s=re(n);return s.w_(),new A_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:m$.bind(null,t),mo:_$.bind(null,t),f_:y$.bind(null,t),g_:v$.bind(null,t)}),t.B_.push(e=>I(this,null,function*(){e?(t.U_.s_(),yield Rh(t)):(yield t.U_.stop(),t.O_.length>0&&(B("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var N_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function fw(t,e){if(fr("AsyncQueue",`${e}: ${t}`),Fc(t))return new L(M.UNAVAILABLE,`${e}: ${t}`);throw t}var hh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=yc(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var fh=class{constructor(){this.W_=new je(Q.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Co=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,hh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var P_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},O_=class{constructor(){this.queries=wS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=re(n),s=i.queries;i.queries=wS(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new L(M.ABORTED,"Firestore shutting down"))}};function wS(){return new ni(t=>HS(t),Ch)}function I$(t,e){return I(this,null,function*(){let n=re(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new P_,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=fw(o,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&pw(n)})}function E$(t,e){return I(this,null,function*(){let n=re(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function b$(t,e){let n=re(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&pw(n)}function D$(t,e,n){let r=re(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function pw(t){t.Y_.forEach(e=>{e.next()})}var k_,IS;(IS=k_||(k_={})).ea="default",IS.Cache="cache";var F_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Co(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==k_.Cache}};var ph=class{constructor(e){this.key=e}},gh=class{constructor(e){this.key=e}},L_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=qS(e),this.Ra=new hh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new fh,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=Sh(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),R=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),x=!1;m&&v?m.data.isEqual(v.data)?S!==R&&(r.track({type:3,doc:v}),x=!0):this.ga(m,v)||(r.track({type:2,doc:v}),x=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),x=!0):m&&!v&&(r.track({type:1,doc:m}),x=!0,(u||l)&&(a=!0)),x&&(v?(o=o.add(v),s=R?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(v,S){let R=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return R(v)-R(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Co(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new fh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new gh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new ph(r))}),n}ba(e){this.Ta=e.Ts,this.da=pe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Co.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},V_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},j_=class{constructor(e){this.key=e,this.va=!1}},U_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ni(a=>HS(a),Ch),this.Ma=new Map,this.xa=new Set,this.Oa=new je(Q.comparator),this.Na=new Map,this.La=new xc,this.Ba={},this.ka=new Map,this.qa=Ac.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function T$(t,e,n=!0){return I(this,null,function*(){let r=EA(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield yA(r,e,n,!0),i})}function C$(t,e){return I(this,null,function*(){let n=EA(t);yield yA(n,e,!0,!1)})}function yA(t,e,n,r){return I(this,null,function*(){let i=yield a$(t.localStore,Ln(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield S$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&dA(t.remoteStore,i),a})}function S$(t,e,n,r,i){return I(this,null,function*(){t.Ka=(p,m,v)=>function(R,x,N,W){return I(this,null,function*(){let K=x.view.ma(N);K.ns&&(K=yield vS(R.localStore,x.query,!1).then(({documents:b})=>x.view.ma(b,K)));let J=W&&W.targetChanges.get(x.targetId),xe=W&&W.targetMismatches.get(x.targetId)!=null,ie=x.view.applyChanges(K,R.isPrimaryClient,J,xe);return bS(R,x.targetId,ie.wa),ie.snapshot})}(t,p,m,v);let s=yield vS(t.localStore,e,!0),o=new L_(e,s.Ts),a=o.ma(s.documents),u=Cc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);bS(t,n,l.wa);let h=new V_(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function A$(t,e,n){return I(this,null,function*(){let r=re(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Ch(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield E_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&uw(r.remoteStore,i.targetId),B_(r,i.targetId)}).catch(kc))):(B_(r,i.targetId),yield E_(r.localStore,i.targetId,!0))})}function x$(t,e){return I(this,null,function*(){let n=re(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uw(n.remoteStore,r.targetId))})}function R$(t,e,n){return I(this,null,function*(){let r=L$(t);try{let i=yield function(o,a){let u=re(o),l=Ne.now(),h=a.reduce((v,S)=>v.add(S.key),pe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=gr(),R=pe();return u.cs.getEntries(v,h).next(x=>{S=x,S.forEach((N,W)=>{W.isValidDocument()||(R=R.add(N))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(x=>{p=x;let N=[];for(let W of a){let K=kB(W,p.get(W.key).overlayedDocument);K!=null&&N.push(new mr(W.key,K,FS(K.value.mapValue),Wi.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,N,a)}).next(x=>{m=x;let N=x.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(v,x.batchId,N)})}).then(()=>({batchId:m.batchId,changes:GS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new je(Ee)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Vc(r,i.changes),yield Rh(r.remoteStore)}catch(i){let s=fw(i,"Failed to persist write");n.reject(s)}})}function vA(t,e){return I(this,null,function*(){let n=re(t);try{let r=yield i$(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ae(o.va):i.removedDocuments.size>0&&(Ae(o.va),o.va=!1))}),yield Vc(n,r,e)}catch(r){yield kc(r)}})}function ES(t,e,n){let r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=re(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&pw(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function M$(t,e,n){return I(this,null,function*(){let r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new je(Q.comparator);o=o.insert(s,mn.newNoDocument(s,ae.min()));let a=pe().add(s),u=new th(ae.min(),new Map,new je(Ee),o,a);yield vA(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),gw(r)}else yield E_(r.localStore,e,!1).then(()=>B_(r,e,n)).catch(kc)})}function N$(t,e){return I(this,null,function*(){let n=re(t),r=e.batch.batchId;try{let i=yield r$(n.localStore,e);wA(n,r,null),_A(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Vc(n,i)}catch(i){yield kc(i)}})}function P$(t,e,n){return I(this,null,function*(){let r=re(t);try{let i=yield function(o,a){let u=re(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ae(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);wA(r,e,n),_A(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Vc(r,i)}catch(i){yield kc(i)}})}function _A(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function wA(t,e,n){let r=re(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function B_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||IA(t,r)})}function IA(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(uw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),gw(t))}function bS(t,e,n){for(let r of n)r instanceof ph?(t.La.addReference(r.key,e),O$(t,r)):r instanceof gh?(B("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||IA(t,r.key)):ne()}function O$(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(B("SyncEngine","New document in limbo: "+n),t.xa.add(r),gw(t))}function gw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new Q(Fe.fromString(e)),r=t.qa.next();t.Na.set(r,new j_(n)),t.Oa=t.Oa.insert(n,r),dA(t.remoteStore,new Sc(Ln(ow(n.path)),r,"TargetPurposeLimboResolution",NS.oe))}}function Vc(t,e,n){return I(this,null,function*(){let r=re(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=v_.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return I(this,null,function*(){let h=re(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>P.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Fc(p))throw p;B("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),S=v.snapshotVersion,R=v.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,R)}}})}(r.localStore,s))})}function k$(t,e){return I(this,null,function*(){let n=re(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());let r=yield uA(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new L(M.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vc(n,r.hs)}})}function F$(t,e){let n=re(t),r=n.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function EA(t){let e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M$.bind(null,e),e.Ca.d_=b$.bind(null,e.eventManager),e.Ca.$a=D$.bind(null,e.eventManager),e}function L$(t){let e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P$.bind(null,e),e}var mh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return I(this,null,function*(){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return n$(this.persistence,new w_,e.initialUser,this.serializer)}createPersistence(e){return new g_(y_.Zr,this.serializer)}createSharedClientState(e){return new b_}terminate(){return I(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var $_=class{initialize(e,n){return I(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ES(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k$.bind(null,this.syncEngine),yield w$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new O_}()}createDatastore(e){let n=Ah(e.databaseInfo.databaseId),r=function(s){return new C_(s)}(e.databaseInfo);return function(s,o,a,u){return new x_(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new M_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ES(this.syncEngine,n,0),function(){return ch.D()?new ch:new D_}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new U_(i,s,o,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return I(this,null,function*(){var e,n;yield function(i){return I(this,null,function*(){let s=re(i);B("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Lc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var H_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var q_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=et.UNAUTHENTICATED,this.clientId=Kd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>I(this,null,function*(){B("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(B("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=fw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function vv(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield uA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function DS(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield j$(t);B("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>_S(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>_S(e.remoteStore,i)),t._onlineComponents=e})}function V$(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function j$(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{yield vv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!V$(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),yield vv(t,new mh)}}else B("FirestoreClient","Using default OfflineComponentProvider"),yield vv(t,new mh);return t._offlineComponents})}function bA(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),yield DS(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),yield DS(t,new $_))),t._onlineComponents})}function U$(t){return bA(t).then(e=>e.syncEngine)}function TS(t){return I(this,null,function*(){let e=yield bA(t),n=e.eventManager;return n.onListen=T$.bind(null,e.syncEngine),n.onUnlisten=A$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=C$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=x$.bind(null,e.syncEngine),n})}function DA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var CS=new Map;function TA(t,e,n){if(!n)throw new L(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function B$(t,e,n,r){if(e===!0&&r===!0)throw new L(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function SS(t){if(!Q.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AS(t){if(Q.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function Ec(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Mh(t);throw new L(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var yh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}B$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},So=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _v;switch(r.type){case"firstParty":return new bv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=CS.get(n);r&&(B("ComponentProvider","Removing Datastore"),CS.delete(n),r.terminate())}(this),Promise.resolve()}};function CA(t,e,n,r={}){var i;let s=(t=Ec(t,So))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=et.MOCK_USER;else{a=RT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new et(l)}t._authCredentials=new wv(new Wd(a,u))}}var ts=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},zt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Xr=class t extends ts{constructor(e,n,r){super(e,n,ow(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function SA(t,e,...n){if(t=Xe(t),TA("collection","path",e),t instanceof So){let r=Fe.fromString(e,...n);return AS(r),new Xr(t,null,r)}{if(!(t instanceof zt||t instanceof Xr))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return AS(r),new Xr(t.firestore,null,r)}}function AA(t,e,...n){if(t=Xe(t),arguments.length===1&&(e=Kd.newId()),TA("doc","path",e),t instanceof So){let r=Fe.fromString(e,...n);return SS(r),new zt(t,null,new Q(r))}{if(!(t instanceof zt||t instanceof Xr))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return SS(r),new zt(t.firestore,t instanceof Xr?t.converter:null,new Q(r))}}var z_=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new uh(this,"async_queue_retry"),this.Eu=()=>{let n=yv();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=yv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=yv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new hr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return I(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Fc(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw fr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=N_.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&ne()}verifyOperationInProgress(){}mu(){return I(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function xS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Ao=class extends So{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new z_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||MA(this),this._firestoreClient.terminate()}};function xA(t,e){let n=typeof t=="object"?t:ro(),r=typeof t=="string"?t:e||"(default)",i=ic(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=xT("firestore");s&&CA(i,...s)}return i}function RA(t){return t._firestoreClient||MA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function MA(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new Av(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,DA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new q_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Rc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(_t.fromBase64String(e))}catch(n){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Mc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var vh=class{constructor(e){this._methodName=e}};var Nc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var Pc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var $$=/^__.*__$/,G_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new es(e,this.data,n,this.fieldTransforms)}};function NA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var W_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return _h(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(NA(this.wu)&&$$.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},K_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ah(e)}Nu(e,n,r,i=!1){return new W_({wu:e,methodName:n,Ou:r,path:qt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function PA(t){let e=t._freezeSettings(),n=Ah(t._databaseId);return new K_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function H$(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);FA("Data must be an object, but it was:",o,r);let a=OA(r,o),u,l;if(s.merge)u=new kn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=z$(e,p,n);if(!o.contains(m))throw new L(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);W$(h,m)||h.push(m)}u=new kn(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new G_(new gn(a),u,l)}function q$(t,e,n,r=!1){return mw(n,t.Nu(r?4:3,e))}function mw(t,e){if(kA(t=Xe(t)))return FA("Unsupported field value:",e,t),OA(t,e);if(t instanceof vh)return function(r,i){if(!NA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=mw(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ne.fromDate(r);return{timestampValue:sh(i.serializer,s)}}if(r instanceof Ne){let s=new Ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(i.serializer,s)}}if(r instanceof Nc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rc)return{bytesValue:nA(i.serializer,r._byteString)};if(r instanceof zt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Pc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return aw(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Mh(r)}`)}(t,e)}function OA(t,e){let n={};return PS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(t,(r,i)=>{let s=mw(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function kA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ne||t instanceof Nc||t instanceof Rc||t instanceof zt||t instanceof vh||t instanceof Pc)}function FA(t,e,n){if(!kA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Mh(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function z$(t,e,n){if((e=Xe(e))instanceof Mc)return e._internalPath;if(typeof e=="string")return LA(t,e);throw _h("Field path arguments must be of type string or ",t,!1,void 0,n)}var G$=new RegExp("[~\\*/\\[\\]]");function LA(t,e,n){if(e.search(G$)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mc(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _h(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new L(M.INVALID_ARGUMENT,a+t+u)}function W$(t,e){return t.some(n=>n.isEqual(e))}var wh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Q_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Nh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Q_=class extends wh{data(){return super.data()}};function Nh(t,e){return typeof e=="string"?LA(t,e):e instanceof Mc?e._internalPath:e._delegate._internalPath}function K$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Oc=class{},Ih=class extends Oc{};function VA(t,e,...n){let r=[];e instanceof Oc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof Y_).length,a=s.filter(u=>u instanceof Eh).length;if(o>1||o>0&&a>0)throw new L(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Eh=class t extends Ih{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return jA(e._query,n),new ts(e.firestore,e.converter,Bv(e._query,n))}_parse(e){let n=PA(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){MS(p,h);let v=[];for(let S of p)v.push(RS(u,s,S));m={arrayValue:{values:v}}}else m=RS(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||MS(p,h),m=q$(a,o,p,h==="in"||h==="not-in");return Ke.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function Q$(t,e,n){let r=e,i=Nh("where",t);return Eh._create(i,r,n)}var Y_=class t extends Oc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:yn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)jA(o,u),o=Bv(o,u)}(e._query,n),new ts(e.firestore,e.converter,Bv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var J_=class t extends Ih{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ji(s,o)}(e._query,this._field,this._direction);return new ts(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new ti(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function Y$(t,e="asc"){let n=e,r=Nh("orderBy",t);return J_._create(r,n)}function RS(t,e,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$S(e)&&n.indexOf("/")!==-1)throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Fe.fromString(n));if(!Q.isDocumentKey(r))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tS(t,new Q(r))}if(n instanceof zt)return tS(t,n._key);throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(n)}.`)}function MS(t,e){if(!Array.isArray(t)||t.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jA(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Z_=class{convertValue(e,n="none"){switch(Yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ro(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Pe(o.doubleValue));return new Pc(s)}convertGeoPoint(e){return new Nc(Pe(e.latitude),Pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=nw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){let n=pr(e);return new Ne(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Fe.fromString(e);Ae(cA(r));let i=new Zd(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||fr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function J$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Gi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},bh=class extends wh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new mo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Nh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},mo=class extends bh{data(e={}){return super.data(e)}},X_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mo(this._firestore,this._userDataWriter,r.key,r,new Gi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new mo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new mo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Z$(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Z$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}var Dh=class extends Z_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}};function UA(t,e){let n=Ec(t.firestore,Ao),r=AA(t),i=J$(t.converter,e);return X$(n,[H$(PA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Wi.exists(!1))]).then(()=>r)}function yw(t,...e){var n,r,i;t=Xe(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||xS(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(xS(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof zt)l=Ec(t.firestore,Ao),h=ow(t._key.path),u={next:p=>{e[o]&&e[o](eH(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=Ec(t,ts);l=Ec(p.firestore,Ao),h=p._query;let m=new Dh(l);u={next:v=>{e[o]&&e[o](new X_(l,m,p,v))},error:e[o+1],complete:e[o+2]},K$(t._query)}return function(m,v,S,R){let x=new H_(R),N=new F_(v,x,S);return m.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return I$(yield TS(m),N)})),()=>{x.za(),m.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return E$(yield TS(m),N)}))}}(RA(l),h,a,u)}function X$(t,e){return function(r,i){let s=new hr;return r.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return R$(yield U$(r),i,s)})),s.promise}(RA(t),e)}function eH(t,e,n){let r=n.docs.get(e._key),i=new Dh(t);return new bh(t,i,e._key,r,new Gi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){xo=i})(Wr),Gr(new nn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Ao(new Iv(r.getProvider("auth-internal")),new Tv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zd(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Qe(JC,"4.7.1",e),Qe(JC,"4.7.1","esm2017")})();var Ph=function(){return Ph=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ph.apply(this,arguments)};var rH={includeMetadataChanges:!1};function BA(t,e){return e===void 0&&(e=rH),new le(function(n){var r=yw(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function $A(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Ph(Ph({},r),(n={},n[e.idField]=t.id,n))}function HA(t){return BA(t,{includeMetadataChanges:!0}).pipe(X(function(e){return e.docs}))}function qA(t,e){return e===void 0&&(e={}),HA(t).pipe(X(function(n){return n.map(function(r){return $A(r,e)})}))}var Gt=class{constructor(e){return e}},zA="firestore",vw=class{constructor(){return sc(zA)}};var _w=new H("angularfire2.firestore-instances");function iH(t,e){let n=wd(zA,t,e);return n&&new Gt(n)}function sH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Gt(r)}}var oH={provide:vw,deps:[[new ft,_w]]},aH={provide:Gt,useFactory:iH,deps:[[new ft,_w],ar]};function uQ(t,...e){return Qe("angularfire",Vi.full,"fst"),Jt([aH,oH,{provide:_w,useFactory:sH(t),multi:!0,deps:[Ie,gt,oo,ji,[new ft,pc],[new ft,so],...e]}])}var lQ=$t(qA,!0);var ii=$t(UA,!0);var si=$t(SA,!0);var dQ=$t(xA,!0);var hQ=$t(VA,!0);function cH(t,e){if(t&1){let n=en();V(0,"div",13)(1,"div",14),Y(2," GAME OVER "),Cn(3,"br"),Y(4),U(),V(5,"button",15),ke("click",function(){Ft(n);let i=Te();return Lt(i.hideNotification())}),Y(6,"REINICIAR"),U()()}if(t&2){let n=Te();z(4),At(" Descubriste ",n.rightWordsCounter," palabras. ")}}function uH(t,e){if(t&1){let n=en();V(0,"button",16),ke("click",function(){Ft(n);let i=Te();return Lt(i.nextClick())}),Y(1,"SIGUIENTE"),U()}}function lH(t,e){if(t&1){let n=en();V(0,"button",19),ke("click",function(){let i=Ft(n).$implicit,s=Te(2);return Lt(s.guessLetter(i))}),Y(1),U()}if(t&2){let n=e.$implicit;ba("id","letter-",n,""),z(),At(" ",n," ")}}function dH(t,e){if(t&1&&(V(0,"div",17),Be(1,lH,2,3,"button",18),U()),t&2){let n=Te();z(),_e("ngForOf",n.alphabet)}}var GA=(()=>{let e=class e{constructor(r,i){this.auth=r,this.firestore=i,this.alphabet=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","\xD1","O","P","Q","R","S","T","U","V","W","X","Y","Z"],this.words=["perro","gato","mesa","silla","ventana","puerta","cocina","libro","escuela","jardin","flor","arbol","ciudad","carro","bicicleta","cielo","nube","rio","monta\xF1a","playa","amigo","familia","comida","cafe","sol","luna","estrella","cama","telefono","camino","bosque","planta","noche","dia","aire","agua","fuego","tierra","sue\xF1o","luz","felicidad","sonrisa","corazon","mano","ojo","cielo","zapato","camisa","pelota","auto"],this.userScore=0,this.word=this.getNewWord(),this.guessedLetters=[],this.rightWordsCounter=0,this.lifes=3,this.attempts=6,this.showNextButton=!1,this.showNotification=!1,this.wordGuessed=!1}guessLetter(r){if(this.guessedLetters.includes(r))return;if(this.guessedLetters.push(r),!this.word.includes(r)&&(this.attempts--,this.attempts===0)){if(this.lifes--,this.lifes===0){this.showNotification=!0,this.saveScore();return}this.revealWord(),this.hideKeyboard(),setTimeout(()=>{this.resetWord()},3e3);return}let i=document.getElementById("letter-"+r);i&&(i.style.visibility="hidden")}revealWord(){let r="";for(let i of this.word)r+=i+" ";console.log(`La palabra correcta era: ${r.trim()}`)}getNewWord(){return this.words[Math.floor(Math.random()*this.words.length)].toUpperCase()}getDisplayWord(){let r="";if(this.attempts===0)r=this.word,this.hideKeyboard();else{for(let i of this.word)r+=this.guessedLetters.includes(i)?i:"_";!r.includes("_")&&!this.wordGuessed&&(this.wordGuessed=!0,this.userScore++,this.hideKeyboard(),this.showNextButton=!0)}return r.split("").join(" ")}hideKeyboard(){let r=document.getElementById("alphabet-container");r?r.style.visibility="hidden":console.error("alphabet-container no encontrado")}resetWord(){this.attempts=6,this.guessedLetters=[],this.word=this.getNewWord(),this.wordGuessed=!1,this.showNextButton=!1;let r=document.getElementById("alphabet-container");r?r.style.visibility="visible":console.error("alphabet-container no encontrado");for(let i of this.alphabet){let s=document.getElementById("letter-"+i);s&&(s.style.visibility="visible")}}resetGame(){this.rightWordsCounter=0,this.lifes=3,this.resetWord()}hideNotification(){this.showNotification=!1,this.resetGame()}nextClick(){this.showNextButton=!1,setTimeout(()=>{this.rightWordsCounter++,this.resetWord()},0)}saveScore(){let r=this.auth.currentUser?.email;if(r){let i={userName:r||"Unknown",gameName:"Ahorcado",date:Ne.fromDate(new Date),score:this.userScore},s=si(this.firestore,"score");ii(s,i)}}};e.\u0275fac=function(i){return new(i||e)(j(Ht),j(Gt))},e.\u0275cmp=Tn({type:e,selectors:[["app-hangman"]],decls:18,vars:9,consts:[[1,"container"],[1,"hangman-container","has-text-centered","mt-6","is-flex","is-align-items-center"],[1,"img-container","is-flex","is-flex-direction-column","is-align-items-center",2,"flex","1","margin-right","20px"],["alt","Imagen",1,"life-image",3,"src"],[1,"word-info-container","is-flex","is-flex-direction-column","is-align-items-center",2,"flex","1"],[1,"info-container"],[1,"lifes"],[1,"score-title"],[1,"hidden-word"],[1,"keyboard-container",2,"flex","1"],["class","notification",4,"ngIf"],["class","button-next",3,"click",4,"ngIf"],["id","alphabet-container","class","keyboard-grid",4,"ngIf"],[1,"notification"],[1,"notification-message"],[1,"restart",3,"click"],[1,"button-next",3,"click"],["id","alphabet-container",1,"keyboard-grid"],["class","alphabet",3,"id","click",4,"ngFor","ngForOf"],[1,"alphabet",3,"click","id"]],template:function(i,s){i&1&&(V(0,"div",0)(1,"div",1)(2,"div",2),Cn(3,"img",3),U(),V(4,"div",4)(5,"div",5)(6,"p",6),Y(7),U(),V(8,"p",6),Y(9),U(),V(10,"p",7),Y(11),U()(),V(12,"p",8),Y(13),U()()(),V(14,"div",9),Be(15,cH,7,1,"div",10)(16,uH,2,0,"button",11)(17,dH,2,1,"div",12),U()()),i&2&&(z(3),ba("src","../../../../assets/",s.attempts,"-vida.png",Ai),z(4),At("Vidas: ",s.lifes,""),z(2),At("Intentos: ",s.attempts,""),z(2),At("Puntos: ",s.userScore,""),z(2),it(s.getDisplayWord()),z(2),_e("ngIf",s.showNotification),z(),_e("ngIf",s.showNextButton),z(),_e("ngIf",s.attempts>0))},dependencies:[Hs,Lr],styles:['.container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;height:85%;width:85%;margin:20px auto auto;border-radius:10px;background-image:url("./media/pizarron-IYZ7PQWP.jpg");background-size:contain;background-repeat:no-repeat;background-position:center}.hangman-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:50px auto auto;padding:10px;border-radius:10px;box-shadow:0 4px 8px #0000001a;width:90%;height:60%}.img-container[_ngcontent-%COMP%]{display:flex;margin:0 10px;height:95%;max-width:30%}.word-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0 10px;width:75%;height:95%}.info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0 10px;width:60%;height:95%}.keyboard-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:auto auto 80px;height:20%;width:60%}.score-container[_ngcontent-%COMP%]{flex:2;margin:0 10px;height:500px}.keyboard-grid[_ngcontent-%COMP%]{display:grid;justify-content:center;align-items:center;margin:auto 0 auto auto;grid-template-columns:repeat(9,1fr);grid-template-rows:repeat(3,1fr);gap:0px;width:100%;background-color:#265c15}.alphabet[_ngcontent-%COMP%]{width:80px;height:50px;font-size:28px;font-family:Georgia,Times New Roman,Times,serif;font-weight:700;text-align:center;background-color:#000;color:#fff;border:1px solid #007bff;border-radius:5px;cursor:pointer;transition:background-color .3s}.alphabet[_ngcontent-%COMP%]:hover{background-color:#cde01f}.life-image[_ngcontent-%COMP%]{width:100%;height:auto;border:2px solid #f18a36}.hidden-word[_ngcontent-%COMP%]{font-size:50px;font-weight:700;text-shadow:2px 2px 5px rgba(0,0,0,.3);font-family:Roboto,sans-serif;color:#fff;text-align:center;margin:20px 0;letter-spacing:5px}.lifes[_ngcontent-%COMP%]{font-size:50px;font-weight:700;text-shadow:2px 2px 5px rgba(0,0,0,.3);font-family:Roboto,sans-serif;color:#fff;text-align:center;margin-top:20px}.notification[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;background-color:red;text-align:center;padding:10px;margin:auto;letter-spacing:5px;border-radius:10px}.notification-message[_ngcontent-%COMP%]{font-size:30px;font-weight:700;text-shadow:2px 2px 5px rgba(0,0,0,.3);font-family:Roboto,sans-serif;color:#fff;margin-bottom:10px}.score-title[_ngcontent-%COMP%]{font-size:50px;font-weight:700;text-shadow:2px 2px 5px rgba(0,0,0,.3);font-family:Roboto,sans-serif;color:#fff;text-align:center;margin-top:20px}button.restart[_ngcontent-%COMP%]{background-color:#fff;color:#007bff;border:2px solid #007bff;border-radius:5px;padding:10px 20px;font-size:20px;cursor:pointer;transition:background-color .3s,color .3s}button.restart[_ngcontent-%COMP%]:hover{background-color:#05090c;color:#fff}button.button-next[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px auto;padding:15px 30px;font-size:24px;background-color:#4caf50;color:#fff;border:none;border-radius:8px;cursor:pointer;box-shadow:0 4px 6px #0000001a}button.button-next[_ngcontent-%COMP%]:hover{background-color:#05090c;color:#fff}']});let t=e;return t})();var WA=(()=>{let e=class e{constructor(r){this.http=r,this.apiUrl="https://restcountries.com/v3.1/all?fields=flags,name,translations"}getCountries(){return this.http.get(this.apiUrl).pipe(X(r=>r.map(i=>({flag:i.flags.png,name:i.translations.spa.official}))))}getCountry(r){let i=`${this.apiUrl}/alpha/${r}`;return this.http.get(i)}};e.\u0275fac=function(i){return new(i||e)(G(Aa))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fH(t,e){if(t&1){let n=en();V(0,"div",2)(1,"div",3)(2,"p"),Y(3),U(),V(4,"p"),Y(5,"Has respondido todas las preguntas"),U(),V(6,"p"),Y(7),U()(),V(8,"button",4),ke("click",function(){Ft(n);let i=Te();return Lt(i.resetGame())}),Y(9,"Reiniciar Juego"),U()()}if(t&2){let n=Te();z(3),it(n.endGameMessage),z(4),kl("Acertaste ",n.userScore," de ",n.totalQuestions,".")}}function pH(t,e){if(t&1){let n=en();V(0,"div")(1,"a",18),ke("click",function(){let i=Ft(n).index,s=Te(2);return Lt(s.checkAnswer(i))}),Y(2),U()()}if(t&2){let n=e.$implicit;z(2),it(n)}}function gH(t,e){if(t&1&&(V(0,"div",5)(1,"div",6)(2,"h1"),Y(3,"Identifique el pa\xEDs por la bandera"),U()(),V(4,"div",7)(5,"div",8),Cn(6,"img",9),V(7,"p"),Y(8),U()(),V(9,"div",10)(10,"p",11),Y(11,"ELIJA EL PAIS"),U(),V(12,"div",12),Be(13,pH,3,1,"div",13),U()(),V(14,"div",14)(15,"p"),Y(16,"Aciertos: "),V(17,"span",15),Y(18),U()(),V(19,"p"),Y(20,"Desaciertos: "),V(21,"span",16),Y(22),U()(),V(23,"p"),Y(24,"TOTAL: "),V(25,"span",17),Y(26),U()()()()()),t&2){let n=Te();z(6),_e("src",n.flagUrl,Ai),z(2),kl("",n.questionsAnswered," / ",n.totalQuestions,""),z(5),_e("ngForOf",n.options),z(5),it(n.userScore),z(4),it(n.userMistakes),z(4),it(n.questionsAnswered)}}var KA=(()=>{let e=class e{constructor(r,i,s){this.countryService=r,this.auth=i,this.firestore=s,this.flagUrl="",this.options=[],this.userScore=0,this.userMistakes=0,this.questionsAnswered=0,this.totalQuestions=11,this.shownCountries=new Set,this.currentQuestionOptions=[],this.showEndGameMessage=!1,this.endGameMessage=""}ngOnInit(){this.startNewQuiz();let r=this.auth.currentUser;r&&(this.loggedUser=r)}startNewQuiz(){this.countryService.getCountries().subscribe(r=>{let i=r.filter(a=>!this.shownCountries.has(a.name));if(i.length===0){this.endGameMessage="\xA1Fin del juego!",this.showEndGameMessage=!0;return}let s=Math.floor(Math.random()*i.length),o=i[s];this.flagUrl=o.flag,this.shownCountries.add(o.name),this.generateIncorrectOptions(i,o.name),this.correctOptionIndex=Math.floor(Math.random()*4),this.options[this.correctOptionIndex]=o.name,this.currentQuestionOptions=this.options.slice()})}generateIncorrectOptions(r,i){let s=r.filter(a=>a.name!==i&&!this.shownCountries.has(a.name)),o=this.shuffleArray(s).slice(0,4);this.options=[],o.forEach((a,u)=>{this.options[u]=a.name})}shuffleArray(r){for(let i=r.length-1;i>0;i--){let s=Math.floor(Math.random()*(i+1));[r[i],r[s]]=[r[s],r[i]]}return r}checkAnswer(r){r===this.correctOptionIndex?this.userScore++:this.userMistakes++,this.questionsAnswered++,this.questionsAnswered>=this.totalQuestions?this.endGame():this.startNewQuiz()}resetGame(){this.userScore=0,this.userMistakes=0,this.questionsAnswered=0,this.shownCountries.clear(),this.showEndGameMessage=!1,this.startNewQuiz()}endGame(){this.endGameMessage="\xA1Fin del juego!",this.showEndGameMessage=!0;let r=this.auth.currentUser?.email;if(r){let i={userName:r||"Unknown",gameName:"Preguntados",date:Ne.fromDate(new Date),score:this.userScore},s=si(this.firestore,"score");ii(s,i)}}};e.\u0275fac=function(i){return new(i||e)(j(WA),j(Ht),j(Gt))},e.\u0275cmp=Tn({type:e,selectors:[["app-questions"]],decls:2,vars:2,consts:[["class","end-game-message-container",4,"ngIf"],["class","container",4,"ngIf"],[1,"end-game-message-container"],[1,"end-game-message"],[1,"restart-btn","is-success",3,"click"],[1,"container"],[1,"pricipal-title"],[1,"questions-container","is-dark","text-center","main-container","flag-quiz"],[1,"flag-container"],["alt","Flag",1,"flag",3,"src"],[1,"question-options-container"],[1,"title-options"],[1,"options"],[4,"ngFor","ngForOf"],[1,"score-container"],[1,"score-text","is-success"],[1,"unscore-text","is-success"],[1,"total-score-text","is-success"],[1,"nes-btn","is-warning",3,"click"]],template:function(i,s){i&1&&Be(0,fH,10,3,"div",0)(1,gH,27,7,"div",1),i&2&&(_e("ngIf",s.showEndGameMessage),z(),_e("ngIf",!s.showEndGameMessage))},dependencies:[Hs,Lr],styles:['.pricipal-title[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:30px;color:#e2380d;-webkit-text-stroke:1px rgb(255,255,255);text-shadow:2px 2px 4px rgba(255,255,255,.5);margin-top:0}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;height:85%;width:90%;margin:20px auto auto;border:2px solid #252729;border-radius:10px;background-color:#beeeea;background-image:url("./media/mapaMundo-G4KXJTU6.png");background-size:contain;background-repeat:no-repeat;background-position:center}.questions-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;padding:0;box-shadow:0 4px 8px #0000001a;width:90%;height:80%;margin-bottom:25px}.flag-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border:2px solid #252729;background-color:#b105f5}.flag[_ngcontent-%COMP%]{height:200px;width:350px;margin-top:1rem;border:1px solid #000000}.question-options-container[_ngcontent-%COMP%]{height:270px;width:450px;margin-left:1.5rem;margin-bottom:1rem;background-color:#f505ad;border:2px solid #252729;border-radius:10px}.title-options[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#fff}.options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;background-color:#ff9307;color:#000;-webkit-text-stroke:1px rgb(61,58,58);text-shadow:2px 2px 4px rgba(255,255,255,.5);text-decoration:none;border-radius:5px;border:1px solid #0e0605;font-weight:700;transition:background-color .3s ease,transform .2s ease;cursor:pointer}.options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ff9800;transform:scale(1.05)}.options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.score-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;height:270px;width:250px;margin-left:1.5rem;margin-bottom:1rem;font-size:25px;font-weight:700;background-color:#249296;border:2px solid #252729;border-radius:10px;color:#fff}.score-text.is-success[_ngcontent-%COMP%]{color:#58eb5f}.unscore-text.is-success[_ngcontent-%COMP%]{color:#b80000}.total-score-text.is-success[_ngcontent-%COMP%]{color:#3700b8}.end-game-message-container[_ngcontent-%COMP%]{display:flex;width:75%;flex-direction:column;justify-content:center;align-items:center;background-color:#f3ba3ee6;padding:20px;border-radius:10px;box-shadow:0 4px 8px #0003;margin-top:200px;margin-left:170px}.end-game-message[_ngcontent-%COMP%]{margin-bottom:10px;font-size:30px;text-align:center}.end-game-message-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:24px;padding:15px 30px;margin-top:10px;border-radius:5px;background-color:#4caf50;color:#fff;border:1px solid #000000;cursor:pointer;transition:background-color .3s}.end-game-message-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#45a049}']});let t=e;return t})();var QA=(()=>{let e=class e{constructor(){this.http=O(Aa)}getCard(r){return this.http.get("https://www.deckofcardsapi.com/api/deck/"+(r||"new")+"/draw/?count=1")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yH=["playButtons"],vH=["startButton"];function _H(t,e){if(t&1&&(V(0,"div",14)(1,"h1"),Y(2),U()()),t&2){let n=Te();z(2),it(n.message)}}function wH(t,e){if(t&1&&(V(0,"div",14),Cn(1,"img",15),U()),t&2){let n=Te();z(),_e("src",n.image,Ai)}}function IH(t,e){if(t&1){let n=en();V(0,"div",16,1)(2,"button",17),ke("click",function(){Ft(n);let i=Te();return Lt(i.play("Mayor"))}),Y(3,"MAYOR"),U(),V(4,"button",17),ke("click",function(){Ft(n);let i=Te();return Lt(i.play("Menor"))}),Y(5,"MENOR"),U()()}}var YA=(()=>{let e=class e{constructor(r,i,s){this.cardService=r,this.auth=i,this.firestore=s,this.userScore=0,this.isPlaying=!1,this.startImage="https://img.freepik.com/foto-gratis/conceptual_1122-1955.jpg?t=st=1715655492~exp=1715659092~hmac=a806ed43b998f8bf90cfc710351a8cefa9cd6b2b60d3b2b047a9e04bcc8aae8e&w=740",this.image=this.startImage,this.deck=null,this.lifes=5,this.gameOver=!1,this.message=""}ngOnInit(){this.startGame()}ngAfterViewInit(){this.changeMode(this.isPlaying)}startGame(){this.cardService.getCard(this.deck).subscribe(r=>{this.deck=r.deck_id,this.card=r.cards[0],this.image=this.card.image,this.isPlaying=!0,this.userScore=0,this.lifes=5,this.gameOver=!1,this.changeMode(this.isPlaying)})}play(r){!this.isPlaying||this.gameOver||this.cardService.getCard(this.deck).subscribe(i=>{let s=i.cards[0];if(this.card){if(s.value===this.card.value){console.log("La nueva carta es la misma que la anterior. Obteniendo otra carta...");return}switch(r){case kh.Nuevo:this.startGame();break;case kh.Mayor:+this.getNumberValue(s.value)>+this.getNumberValue(this.card.value)?this.userScore++:(this.lifes--,this.lifes<=0&&(this.gameOver=!0,this.isPlaying=!1,this.image=this.startImage,this.message="Game Over! No more lives.",this.saveScore()));break;case kh.Menor:+this.getNumberValue(s.value)<+this.getNumberValue(this.card.value)?this.userScore++:(this.lifes--,this.lifes<=0&&(this.gameOver=!0,this.isPlaying=!1,this.image=this.startImage,this.message="Game Over! No more lives.",this.saveScore()));break}console.log("points: "+this.userScore),this.changeMode(this.isPlaying),this.card=s,this.image=s.image}})}changeMode(r){this.playButtons&&this.startButton?r?(this.playButtons.nativeElement.style.visibility="visible",this.startButton.nativeElement.style.visibility="hidden"):(this.startButton.nativeElement.style.visibility="visible",this.playButtons.nativeElement.style.visibility="hidden"):console.error("Elementos no encontrados en el DOM")}getNumberValue(r){switch(r){case"ACE":return"1";case"JACK":return"11";case"QUEEN":return"12";case"KING":return"13";default:return r}}saveScore(){let r=this.auth.currentUser?.email;if(r){let i={userName:r||"Unknown",gameName:"Mayor o Menor",date:Ne.fromDate(new Date),score:this.userScore},s=si(this.firestore,"score");ii(s,i)}}};e.\u0275fac=function(i){return new(i||e)(j(QA),j(Ht),j(Gt))},e.\u0275cmp=Tn({type:e,selectors:[["app-greaterorless"]],viewQuery:function(i,s){if(i&1&&(Bg(yH,5),Bg(vH,5)),i&2){let o;Pl(o=Ol())&&(s.playButtons=o.first),Pl(o=Ol())&&(s.startButton=o.first)}},decls:19,vars:5,consts:[["startButton",""],["playButtons",""],[1,"container","is-flex","is-justify-content-center","is-align-items-center"],[1,"rows-table"],[1,"life-container",2,"flex","1","text-align","center"],[1,"life-title"],[1,"life-points"],["class","image-container",4,"ngIf"],["id","play-buttons","class","button-group","style","visibility: hidden;",4,"ngIf"],[1,"score-container",2,"flex","1","text-align","center"],[1,"title","score-title"],[1,"title","score-points"],[1,"row-btn"],["id","start-button","sytle","visibility: visible",3,"click"],[1,"image-container"],["alt","Imagen",1,"card-image",3,"src"],["id","play-buttons",1,"button-group",2,"visibility","hidden"],[1,"button","is-primary","mx-1",3,"click"]],template:function(i,s){if(i&1){let o=en();V(0,"div",2)(1,"div",3)(2,"div",4)(3,"p",5),Y(4,"Vidas:"),U(),V(5,"p",6),Y(6),U()(),Be(7,_H,3,1,"div",7)(8,wH,2,1,"div",7)(9,IH,6,0,"div",8),V(10,"div",9)(11,"p",10),Y(12,"Puntos: "),U(),V(13,"p",11),Y(14),U()()(),V(15,"div",12)(16,"button",13,0),ke("click",function(){return Ft(o),Lt(s.startGame())}),Y(18,"Comenzar"),U()()()}i&2&&(z(6),it(s.lifes),z(),_e("ngIf",s.gameOver),z(),_e("ngIf",!s.gameOver),z(),_e("ngIf",s.isPlaying),z(5),it(s.userScore))},dependencies:[Lr],styles:['.container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;margin:20px auto auto;width:100%;height:90%;background-image:url("./media/meza-4Y3IAWVM.jpg");background-size:contain;background-repeat:no-repeat;background-position:center}.rows-table[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:210px auto auto;width:76%;height:48%}.row-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:auto;size:50px}.life-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:10px;height:50%;margin-left:40px;margin-right:200px;border-radius:10px;background-color:transparent;box-shadow:0 4px 8px #0000001a}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff;font-size:1.5rem;font-family:Arial,sans-serif;padding:15px 30px;border-radius:8px;border:2px solid #e77b15;cursor:pointer;transition:background-color .3s ease,transform .3s ease;margin-bottom:15px;margin-left:150px}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ff5722;transform:scale(1.1)}.score-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:10px;height:50%;margin-right:40px;margin-left:200px;border-radius:10px;background-color:transparent;box-shadow:0 4px 8px #0000001a}.card-image[_ngcontent-%COMP%]{max-width:200px;border-radius:10px;border:2px solid #080808;height:auto}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}@media (max-width: 768px){.card-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.card-image[_ngcontent-%COMP%], .button-group[_ngcontent-%COMP%]{margin-bottom:20px}}.life-title[_ngcontent-%COMP%]{font-size:3rem;color:#fff;font-family:Georgia,serif;text-shadow:2px 2px 4px rgba(0,0,0,.5);padding:10px}.life-points[_ngcontent-%COMP%]{font-size:4rem;color:#fff;font-family:Georgia,serif;text-shadow:3px 3px 6px rgba(0,0,0,.5);display:inline-block}.score-title[_ngcontent-%COMP%]{font-size:3rem;color:#fff;font-family:Georgia,serif;text-shadow:2px 2px 4px rgba(0,0,0,.5);padding:10px}.score-points[_ngcontent-%COMP%]{font-size:4rem;color:#fff;font-family:Georgia,serif;text-shadow:3px 3px 6px rgba(0,0,0,.5);display:inline-block}']});let t=e;return t})(),kh=function(t){return t.Mayor="Mayor",t.Menor="Menor",t.Nuevo="Nuevo",t}(kh||{});var Un=class{constructor(e){this.occupiedCells=[],this.size=e,this.hits=0}isSunk(){return this.hits===this.size}};var JA=(t,e,n)=>({ship:t,hit:e,miss:n});function EH(t,e){if(t&1&&(V(0,"div",16)(1,"p"),Y(2),U()()),t&2){let n=Te();z(2),it(n.wingMessage)}}function bH(t,e){if(t&1&&(V(0,"div",17)(1,"p"),Y(2),U(),V(3,"p"),Y(4),U(),V(5,"p"),Y(6),U()()),t&2){let n=Te();z(2),At("Barcos restantes del jugador: ",n.playerShipsFloat,""),z(2),At("Turno: ",n.currentPlayer,""),z(2),At("Barcos restantes del oponente: ",n.opponentShipsFloat,"")}}function DH(t,e){if(t&1&&(V(0,"span"),Y(1),U()),t&2){let n=Te();z(),At(" ",n.attackMessage,"")}}function TH(t,e){if(t&1&&(V(0,"span"),Y(1),U()),t&2){let n=Te();z(),At(" ",n.attackMessage,"")}}function CH(t,e){t&1&&(V(0,"p"),Y(1,"X"),U())}function SH(t,e){t&1&&(V(0,"p"),Y(1,"O"),U())}function AH(t,e){if(t&1&&(V(0,"p"),Y(1),U()),t&2){let n=Te().index,r=Te().index,i=Te();z(),it(i.getCoordinate(r,n))}}function xH(t,e){if(t&1&&(V(0,"div",20),Be(1,CH,2,0,"p",8)(2,SH,2,0,"p",8)(3,AH,2,1,"p",8),U()),t&2){let n=e.$implicit;_e("ngClass",$g(4,JA,n.hasShip,n.isHit&&n.hasShip,n.isHit&&!n.hasShip)),z(),_e("ngIf",n.isHit&&n.hasShip),z(),_e("ngIf",n.isHit&&!n.hasShip),z(),_e("ngIf",!n.isHit)}}function RH(t,e){if(t&1&&(V(0,"div",18),Be(1,xH,4,8,"div",19),U()),t&2){let n=e.$implicit;z(),_e("ngForOf",n)}}function MH(t,e){t&1&&(V(0,"p"),Y(1,"X"),U())}function NH(t,e){t&1&&(V(0,"p"),Y(1,"0"),U())}function PH(t,e){if(t&1&&(V(0,"p"),Y(1),U()),t&2){let n=Te().index,r=Te().index,i=Te();z(),it(i.getCoordinate(r,n))}}function OH(t,e){if(t&1){let n=en();V(0,"div",22),ke("click",function(){let i=Ft(n).index,s=Te().index,o=Te();return Lt(o.selectCell(s,i,"computer"))}),Be(1,MH,2,0,"p",8)(2,NH,2,0,"p",8)(3,PH,2,1,"p",8),U()}if(t&2){let n=e.$implicit;_e("ngClass",$g(4,JA,n.hasShip,n.isHit&&n.hasShip,n.isHit&&!n.hasShip)),z(),_e("ngIf",n.isHit&&n.hasShip),z(),_e("ngIf",n.isHit&&!n.hasShip),z(),_e("ngIf",!n.isHit)}}function kH(t,e){if(t&1&&(V(0,"div",18),Be(1,OH,4,8,"div",21),U()),t&2){let n=e.$implicit;z(),_e("ngForOf",n)}}var ZA=(()=>{let e=class e{constructor(r,i,s){this.auth=r,this.cdr=i,this.firestore=s,this.userScore=0,this.player1="",this.currentPlayer="",this.playerShipsFloat=7,this.opponentShipsFloat=7,this.boardSize=10,this.attackMessage="",this.wingMessage="",this.gameOver=!1,this.playerFleet=[new Un(5),new Un(4),new Un(3),new Un(3),new Un(2),new Un(2),new Un(2)],this.userShips=[],this.player1=this.auth.currentUser?.email?.split("@")[0]||"",this.playerBoard=this.createBoard(),this.opponentBoard=this.createBoard(),this.player1!==""?(this.initializeBoards(),this.startGame()):console.error("No hay usuario autenticado.")}startGame(){this.currentPlayer=Math.random()<.5?this.player1:"computer",console.log(`El jugador que comienza es: ${this.currentPlayer}`),this.currentPlayer==="computer"&&setTimeout(()=>this.computerMove(),3e3)}initializeBoards(){console.log("Inicializando tableros..."),this.placeShips(this.playerBoard),this.placeShips(this.opponentBoard)}createBoard(){console.log("Creando el tablero...");let r=[];for(let i=0;i<this.boardSize;i++){let s=[];for(let o=0;o<this.boardSize;o++)s.push({hasShip:!1,isHit:!1});r.push(s)}return console.log("Tablero creado:",r),r}placeShips(r){console.log("Colocando los barcos en el tablero..."),this.playerFleet.forEach((i,s)=>{let o=!1;for(;!o;){let a=Math.random()<.5?"horizontal":"vertical",u=Math.floor(Math.random()*this.boardSize),l=Math.floor(Math.random()*this.boardSize);this.canPlaceShip(r,u,l,i.size,a)&&(this.addShip(r,u,l,i.size,a,s),o=!0)}})}canPlaceShip(r,i,s,o,a){if(a==="horizontal"){if(s+o>this.boardSize)return!1;for(let u=0;u<o;u++)if(r[i][s+u].hasShip||i>0&&r[i-1][s+u].hasShip||i<this.boardSize-1&&r[i+1][s+u].hasShip)return!1;if(s>0&&r[i][s-1].hasShip||s+o<this.boardSize&&r[i][s+o].hasShip)return!1}else{if(i+o>this.boardSize)return!1;for(let u=0;u<o;u++)if(r[i+u][s].hasShip||s>0&&r[i+u][s-1].hasShip||s<this.boardSize-1&&r[i+u][s+1].hasShip)return!1;if(i>0&&r[i-1][s].hasShip||i+o<this.boardSize&&r[i+o][s].hasShip)return!1}return!0}addShip(r,i,s,o,a,u){if(a==="horizontal")for(let l=0;l<o;l++)r[i][s+l].hasShip=!0,r[i][s+l].shipId=u;else for(let l=0;l<o;l++)r[i+l][s].hasShip=!0,r[i+l][s].shipId=u}computerMove(){if(this.currentPlayer==="computer"){let r,i;do r=Math.floor(Math.random()*this.boardSize),i=Math.floor(Math.random()*this.boardSize);while(this.playerBoard[r][i].isHit);this.selectCell(r,i,"User"),this.cdr.detectChanges()}}selectCell(r,i,s){if(this.gameOver){console.log("el juego est\xE1 terminado");return}console.log(`Celda: (${r}, ${i}), Player: ${this.currentPlayer}, en ${s} `);let o=s==="User"?this.playerBoard:this.opponentBoard;if(!o[r][i].isHit){if(o[r][i].isHit=!0,o[r][i].mark=o[r][i].hasShip?"X":"O",o[r][i].hasShip){this.attackMessage="TOCADO";let a=o[r][i].shipId;a!==void 0&&this.isShipSunk(o,a)&&(this.attackMessage="HUNDIDO",this.updateShipsFloat(s))}else this.attackMessage="AGUA";this.cdr.detectChanges(),this.checkWinCondition(),this.switchTurn()}}switchTurn(){this.currentPlayer=this.currentPlayer===this.player1?"computer":this.player1,this.currentPlayer==="computer"&&setTimeout(()=>this.computerMove(),2e3)}isShipSunk(r,i){for(let s=0;s<this.boardSize;s++)for(let o=0;o<this.boardSize;o++)if(r[s][o].shipId===i&&!r[s][o].isHit)return!1;return!0}updateShipsFloat(r){r===this.player1?this.playerShipsFloat--:this.opponentShipsFloat--}checkWinCondition(){this.playerShipsFloat===0?(this.wingMessage="\xA1La computadora ha ganado!",this.gameOver=!0,this.userScore!==0&&this.saveScore()):this.opponentShipsFloat===0&&(this.wingMessage="\xA1Has ganado!",this.userScore+=5,this.gameOver=!0,this.saveScore())}restartGame(){this.wingMessage==="\xA1La computadora ha ganado!"&&(this.userScore=0),console.log("Reiniciando el juego..."),this.playerShipsFloat=7,this.opponentShipsFloat=7,this.currentPlayer=this.currentPlayer=Math.random()<.5?this.player1:"computer",this.playerBoard=this.createBoard(),this.opponentBoard=this.createBoard(),this.gameOver=!1,this.attackMessage="",this.wingMessage="",this.initializeBoards(),this.startGame()}getCoordinate(r,i){return`${"ABCDEFGHIJ"[r]}${i+1}`}saveScore(){let r=this.auth.currentUser?.email;if(r){let i={userName:r||"Unknown",gameName:"Batalla Naval",date:Ne.fromDate(new Date),score:this.userScore},s=si(this.firestore,"score");ii(s,i)}}};e.\u0275fac=function(i){return new(i||e)(j(Ht),j(er),j(Gt))},e.\u0275cmp=Tn({type:e,selectors:[["app-battleship"]],decls:26,vars:7,consts:[[1,"container"],[1,"pricipal-title"],[1,"battleship-game"],[1,"info-panel"],["class","notification-winner",4,"ngIf"],["class","info-game",4,"ngIf"],[1,"board-message"],[1,"player1"],[4,"ngIf"],[1,"computer"],[1,"boards-container"],[1,"player-board-container"],[1,"grid"],["class","row",4,"ngFor","ngForOf"],[1,"computer-board-container"],["src","../../../../assets/botonRojo.png","alt","",1,"restart-btn",3,"click"],[1,"notification-winner"],[1,"info-game"],[1,"row"],["class","cell",3,"ngClass",4,"ngFor","ngForOf"],[1,"cell",3,"ngClass"],["class","cell",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"cell",3,"click","ngClass"]],template:function(i,s){i&1&&(V(0,"div",0)(1,"div",1)(2,"h1"),Y(3,"BATALLA NAVAL"),U()(),V(4,"div",2)(5,"div",3),Be(6,EH,3,1,"div",4)(7,bH,7,3,"div",5),U(),V(8,"div",6)(9,"div",7)(10,"span"),Y(11),U(),Y(12,"> "),Be(13,DH,2,1,"span",8),U(),V(14,"div",9)(15,"span"),Y(16,"RIVAL: "),U(),Be(17,TH,2,1,"span",8),U()(),V(18,"div",10)(19,"div",11)(20,"div",12),Be(21,RH,2,1,"div",13),U()(),V(22,"div",14)(23,"div",12),Be(24,kH,2,1,"div",13),U()()(),V(25,"img",15),ke("click",function(){return s.restartGame()}),U()()()),i&2&&(z(6),_e("ngIf",s.playerShipsFloat===0||s.opponentShipsFloat===0),z(),_e("ngIf",s.playerShipsFloat>0&&s.opponentShipsFloat>0),z(4),At("",s.player1,":"),z(2),_e("ngIf",s.currentPlayer===s.player1),z(4),_e("ngIf",s.currentPlayer==="computer"),z(4),_e("ngForOf",s.playerBoard),z(3),_e("ngForOf",s.opponentBoard))},dependencies:[gD,Hs,Lr],styles:['.pricipal-title[_ngcontent-%COMP%]{display:flex;width:100%;height:12%;align-items:center;justify-content:center;font-size:30px;border:2px solid #7bf89a;background-color:#000;background-image:url("./media/radar-Q2XPYZUZ.jpg");background-size:contain;background-repeat:no-repeat;background-position:center;color:#0ddbe2;-webkit-text-stroke:1px rgb(255,255,255);text-shadow:2px 2px 4px rgba(255,255,255,.5)}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;height:90vh;width:95%;margin:10px auto auto;border-radius:10px}.battleship-game[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;font-family:Arial,sans-serif;border:2px solid #7bf89a;background-image:url("./media/tableroManejo-NFEOLQS7.jpg");background-size:contain;background-repeat:no-repeat;background-position:center;height:100%;width:100%}.info-panel[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center;padding:10px;border:2px solid #252729;background-color:#1b0202;border-radius:10px;margin-top:10px;height:auto;width:60%;margin-bottom:20px;font-size:1.2rem;color:#333}.info-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 15px;font-size:20px;font:bold;color:#10d895}.info-game[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%}.boards-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;padding:0;border:2px solid #252729;border-radius:10px;box-shadow:0 4px 8px #0000001a;width:60%;height:65%;background-color:#76e2d9;background-image:url("./media/Manejo-LDNRG6AH.jpg");background-size:contain;background-repeat:no-repeat;background-position:center}.player-board-container[_ngcontent-%COMP%], .computer-board-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:5px;background-color:transparent}.boards-container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(10,40px);grid-template-rows:repeat(10,40px);gap:5px;padding:1px;border-radius:10px}.cell[_ngcontent-%COMP%]{width:40px;height:40px;border:1px solid #ccc;display:flex;align-items:center;justify-content:center;cursor:pointer;background-color:#fff;border:1px solid #0019fd;transition:background-color .3s ease;margin-bottom:2px}.cell[_ngcontent-%COMP%]:hover{background-color:#ddd}.cell.ship[_ngcontent-%COMP%]{background-color:#5e4e4e}.cell.hit[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.cell.miss[_ngcontent-%COMP%]{background-color:#00f!important;color:#fff}.restart-btn[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #000000}.restart-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.win-message[_ngcontent-%COMP%]{margin:20px;color:green;font-weight:700;font-size:1.2rem}.board-message[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;border:2px solid #252729;background-image:url("./media/panelTaablero-CU7FPSBB.jpg");border-radius:10px;height:6%;width:60%}.board-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:35px;font-weight:700;color:#fff;-webkit-text-stroke:1px rgb(0,0,0);text-shadow:2px 2px 4px rgba(133,133,133,.5)}.player1[_ngcontent-%COMP%]   .computer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center}']});let t=e;return t})();var FH=[{path:"hangman",component:GA},{path:"questions",component:KA},{path:"battleship",component:ZA},{path:"greater",component:YA}],XA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ct({type:e}),e.\u0275inj=Tt({imports:[Jm.forChild(FH),Jm]});let t=e;return t})();var ux=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(j(Xn),j(Vt))},e.\u0275dir=Oe({type:e});let t=e;return t})(),Hh=(()=>{let e=class e extends ux{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=kr(e)))(s||e)}})(),e.\u0275dir=Oe({type:e,features:[St]});let t=e;return t})(),Oo=new H(""),LH={provide:Oo,useExisting:Yt(()=>VH),multi:!0},VH=(()=>{let e=class e extends Hh{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=kr(e)))(s||e)}})(),e.\u0275dir=Oe({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&ke("change",function(a){return s.onChange(a.target.checked)})("blur",function(){return s.onTouched()})},features:[Sn([LH]),St]});let t=e;return t})(),jH={provide:Oo,useExisting:Yt(()=>lx),multi:!0};function UH(){let t=nr()?nr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var BH=new H(""),lx=(()=>{let e=class e extends ux{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!UH())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(j(Xn),j(Vt),j(BH,8))},e.\u0275dir=Oe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&ke("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Sn([jH]),St]});let t=e;return t})();function oi(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function dx(t){return t!=null&&typeof t.length=="number"}var $c=new H(""),Hc=new H(""),$H=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ex=class{static min(e){return HH(e)}static max(e){return qH(e)}static required(e){return zH(e)}static requiredTrue(e){return GH(e)}static email(e){return WH(e)}static minLength(e){return KH(e)}static maxLength(e){return QH(e)}static pattern(e){return YH(e)}static nullValidator(e){return hx(e)}static compose(e){return vx(e)}static composeAsync(e){return wx(e)}};function HH(t){return e=>{if(oi(e.value)||oi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function qH(t){return e=>{if(oi(e.value)||oi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function zH(t){return oi(t.value)?{required:!0}:null}function GH(t){return t.value===!0?null:{required:!0}}function WH(t){return oi(t.value)||$H.test(t.value)?null:{email:!0}}function KH(t){return e=>oi(e.value)||!dx(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function QH(t){return e=>dx(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function YH(t){if(!t)return hx;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(oi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function hx(t){return null}function fx(t){return t!=null}function px(t){return Ri(t)?Re(t):t}function gx(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function mx(t,e){return e.map(n=>n(t))}function JH(t){return!t.validate}function yx(t){return t.map(e=>JH(e)?e:n=>e.validate(n))}function vx(t){if(!t)return null;let e=t.filter(fx);return e.length==0?null:function(n){return gx(mx(n,e))}}function _x(t){return t!=null?vx(yx(t)):null}function wx(t){if(!t)return null;let e=t.filter(fx);return e.length==0?null:function(n){let r=mx(n,e).map(px);return Ff(r).pipe(X(gx))}}function Ix(t){return t!=null?wx(yx(t)):null}function tx(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Ex(t){return t._rawValidators}function bx(t){return t._rawAsyncValidators}function ww(t){return t?Array.isArray(t)?t:[t]:[]}function Lh(t,e){return Array.isArray(t)?t.includes(e):t===e}function nx(t,e){let n=ww(e);return ww(t).forEach(i=>{Lh(n,i)||n.push(i)}),n}function rx(t,e){return ww(e).filter(n=>!Lh(t,n))}var Vh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_x(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ix(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Wt=class extends Vh{get formDirective(){return null}get path(){return null}},ai=class extends Vh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},jh=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},ZH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},QQ=De(F({},ZH),{"[class.ng-submitted]":"isSubmitted"}),YQ=(()=>{let e=class e extends jh{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(j(ai,2))},e.\u0275dir=Oe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Nl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[St]});let t=e;return t})(),JQ=(()=>{let e=class e extends jh{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(j(Wt,10))},e.\u0275dir=Oe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Nl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[St]});let t=e;return t})();var jc="VALID",Fh="INVALID",No="PENDING",Uc="DISABLED";function Dw(t){return(qh(t)?t.validators:t)||null}function XH(t){return Array.isArray(t)?_x(t):t||null}function Tw(t,e){return(qh(e)?e.asyncValidators:t)||null}function eq(t){return Array.isArray(t)?Ix(t):t||null}function qh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Dx(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[n])throw new q(1001,"")}function Tx(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new q(1002,"")})}var Po=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===jc}get invalid(){return this.status===Fh}get pending(){return this.status==No}get disabled(){return this.status===Uc}get enabled(){return this.status!==Uc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(nx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(nx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(rx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(rx(e,this._rawAsyncValidators))}hasValidator(e){return Lh(this._rawValidators,e)}hasAsyncValidator(e){return Lh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=No,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Uc,this.errors=null,this._forEachChild(r=>{r.disable(De(F({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(De(F({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=jc,this._forEachChild(r=>{r.enable(De(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(De(F({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jc||this.status===No)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uc:jc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=No,this._hasOwnPendingAsyncValidator=!0;let n=px(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Uc:this.errors?Fh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(No)?No:this._anyControlsHaveStatus(Fh)?Fh:jc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=XH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=eq(this._rawAsyncValidators)}},Uh=class extends Po{constructor(e,n,r){super(Dw(n),Tw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Tx(this,!0,e),Object.keys(e).forEach(r=>{Dx(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Iw=class extends Uh{};var qc=new H("CallSetDisabledState",{providedIn:"root",factory:()=>zc}),zc="always";function zh(t,e){return[...e.path,t]}function Ew(t,e,n=zc){Cw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),nq(t,e),iq(t,e),rq(t,e),tq(t,e)}function ix(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),$h(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Bh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function tq(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Cw(t,e){let n=Ex(t);e.validator!==null?t.setValidators(tx(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=bx(t);e.asyncValidator!==null?t.setAsyncValidators(tx(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Bh(e._rawValidators,i),Bh(e._rawAsyncValidators,i)}function $h(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=Ex(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=bx(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Bh(e._rawValidators,r),Bh(e._rawAsyncValidators,r),n}function nq(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Cx(t,e)})}function rq(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Cx(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Cx(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function iq(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function sq(t,e){t==null,Cw(t,e)}function oq(t,e){return $h(t,e)}function Sx(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function aq(t){return Object.getPrototypeOf(t.constructor)===Hh}function cq(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Ax(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===lx?n=s:aq(s)?r=s:i=s}),i||r||n||null}function uq(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function sx(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ox(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Bc=class extends Po{constructor(e=null,n,r){super(Dw(n),Tw(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ox(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ox(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var lq=t=>t instanceof Bc,dq=(()=>{let e=class e extends Wt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return zh(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=kr(e)))(s||e)}})(),e.\u0275dir=Oe({type:e,features:[St]});let t=e;return t})();var hq={provide:ai,useExisting:Yt(()=>fq)},ax=Promise.resolve(),fq=(()=>{let e=class e extends ai{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new Bc,this._registered=!1,this.name="",this.update=new Ye,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Ax(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Sx(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ew(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){ax.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Mi(i);ax.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?zh(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(j(Wt,9),j($c,10),j(Hc,10),j(Oo,10),j(er,8),j(qc,8))},e.\u0275dir=Oe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ve.None,"disabled","isDisabled"],model:[Ve.None,"ngModel","model"],options:[Ve.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Sn([hq]),St,Zn]});let t=e;return t})(),XQ=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Oe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),pq={provide:Oo,useExisting:Yt(()=>gq),multi:!0},gq=(()=>{let e=class e extends Hh{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=kr(e)))(s||e)}})(),e.\u0275dir=Oe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&ke("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Sn([pq]),St]});let t=e;return t})(),mq={provide:Oo,useExisting:Yt(()=>vq),multi:!0};var yq=(()=>{let e=class e{constructor(){this._accessors=[]}add(r,i){this._accessors.push([r,i])}remove(r){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===r){this._accessors.splice(i,1);return}}select(r){this._accessors.forEach(i=>{this._isSameGroup(i,r)&&i[1]!==r&&i[1].fireUncheck(r.value)})}_isSameGroup(r,i){return r[0].control?r[0]._parent===i._control._parent&&r[1].name===i.name:!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vq=(()=>{let e=class e extends Hh{constructor(r,i,s,o){super(r,i),this._registry=s,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=O(qc,{optional:!0})??zc}ngOnInit(){this._control=this._injector.get(ai),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(r){this._state=r===this.value,this.setProperty("checked",this._state)}registerOnChange(r){this._fn=r,this.onChange=()=>{r(this.value),this._registry.select(this)}}setDisabledState(r){(this.setDisabledStateFired||r||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",r),this.setDisabledStateFired=!0}fireUncheck(r){this.writeValue(r)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};e.\u0275fac=function(i){return new(i||e)(j(Xn),j(Vt),j(yq),j(gt))},e.\u0275dir=Oe({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,s){i&1&&ke("change",function(){return s.onChange()})("blur",function(){return s.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Sn([mq]),St]});let t=e;return t})();var xx=new H("");var _q={provide:Wt,useExisting:Yt(()=>Rx)},Rx=(()=>{let e=class e extends Wt{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ye,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($h(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Ew(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){ix(r.control||null,r,!1),uq(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,cq(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(ix(i||null,r),lq(s)&&(Ew(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);sq(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&oq(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cw(this.form,this),this._oldForm&&$h(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(j($c,10),j(Hc,10),j(qc,8))},e.\u0275dir=Oe({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&ke("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[Ve.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Sn([_q]),St,Zn]});let t=e;return t})(),wq={provide:Wt,useExisting:Yt(()=>Mx)},Mx=(()=>{let e=class e extends dq{constructor(r,i,s){super(),this.name=null,this._parent=r,this._setValidators(i),this._setAsyncValidators(s)}_checkParentType(){Px(this._parent)}};e.\u0275fac=function(i){return new(i||e)(j(Wt,13),j($c,10),j(Hc,10))},e.\u0275dir=Oe({type:e,selectors:[["","formGroupName",""]],inputs:{name:[Ve.None,"formGroupName","name"]},features:[Sn([wq]),St]});let t=e;return t})(),Iq={provide:Wt,useExisting:Yt(()=>Nx)},Nx=(()=>{let e=class e extends Wt{constructor(r,i,s){super(),this.name=null,this._parent=r,this._setValidators(i),this._setAsyncValidators(s)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return zh(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){Px(this._parent)}};e.\u0275fac=function(i){return new(i||e)(j(Wt,13),j($c,10),j(Hc,10))},e.\u0275dir=Oe({type:e,selectors:[["","formArrayName",""]],inputs:{name:[Ve.None,"formArrayName","name"]},features:[Sn([Iq]),St]});let t=e;return t})();function Px(t){return!(t instanceof Mx)&&!(t instanceof Rx)&&!(t instanceof Nx)}var Eq={provide:ai,useExisting:Yt(()=>bq)},bq=(()=>{let e=class e extends ai{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ye,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Ax(this,o)}ngOnChanges(r){this._added||this._setUpControl(),Sx(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return zh(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(j(Wt,13),j($c,10),j(Hc,10),j(Oo,10),j(xx,8))},e.\u0275dir=Oe({type:e,selectors:[["","formControlName",""]],inputs:{name:[Ve.None,"formControlName","name"],isDisabled:[Ve.None,"disabled","isDisabled"],model:[Ve.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Sn([Eq]),St,Zn]});let t=e;return t})();var Ox=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ct({type:e}),e.\u0275inj=Tt({});let t=e;return t})(),bw=class extends Po{constructor(e,n,r){super(Dw(n),Tw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Tx(this,!1,e),e.forEach((r,i)=>{Dx(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function cx(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var eY=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return cx(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Uh(s,o)}record(r,i=null){let s=this._reduceControls(r);return new Iw(s,i)}control(r,i,s){let o={};return this.useNonNullable?(cx(i)?o=i:(o.validators=i,o.asyncValidators=s),new Bc(r,De(F({},o),{nonNullable:!0}))):new Bc(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new bw(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof Bc)return r;if(r instanceof Po)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var kx=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:qc,useValue:r.callSetDisabledState??zc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ct({type:e}),e.\u0275inj=Tt({imports:[Ox]});let t=e;return t})(),tY=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:xx,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:qc,useValue:r.callSetDisabledState??zc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ct({type:e}),e.\u0275inj=Tt({imports:[Ox]});let t=e;return t})();var mY=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ct({type:e}),e.\u0275inj=Tt({imports:[Xg,XA,kx,SD]});let t=e;return t})();export{I as a,nt as b,$ as c,Tn as d,OM as e,Ft as f,Lt as g,Ye as h,Ai as i,QW as j,z as k,j as l,Be as m,_e as n,XW as o,e9 as p,t9 as q,V as r,U as s,Cn as t,en as u,ke as v,Te as w,kk as x,Bg as y,Pl as z,Ol as A,Y as B,it as C,At as D,Lk as E,n9 as F,Vk as G,Jb as H,r9 as I,gD as J,Hs as K,Lr as L,Xg as M,SD as N,u6 as O,xn as P,kF as Q,ir as R,A6 as S,x6 as T,v8 as U,_8 as V,jC as W,Ht as X,hK as Y,fK as Z,pK as _,gK as $,mK as aa,Ne as ba,VA as ca,Q$ as da,Y$ as ea,Gt as fa,uQ as ga,lQ as ha,ii as ia,si as ja,dQ as ka,hQ as la,VH as ma,lx as na,ex as oa,YQ as pa,JQ as qa,fq as ra,XQ as sa,gq as ta,vq as ua,Rx as va,Nx as wa,bq as xa,eY as ya,kx as za,tY as Aa,mY as Ba};
